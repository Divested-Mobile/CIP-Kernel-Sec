description: Don't call schedule_timeout_killable() with oom_lock held
references:
- https://patchwork.kernel.org/patch/10395909/
- https://patchwork.kernel.org/patch/9842889/
- https://www.spinics.net/lists/linux-mm/msg117896.html
- https://www.spinics.net/lists/linux-mm/msg117960.html
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10723
- https://lore.kernel.org/lkml/cb2d635c-c14d-c2cc-868a-d4c447364f0d@i-love.sakura.ne.jp/
- https://lore.kernel.org/lkml/195a512f-aecc-f8cf-f409-6c42ee924a8c@i-love.sakura.ne.jp/
comments:
  Debian-bwh: |-
    On 3.16 the OOM killer usually kills the reproducer fairly quickly,
    but not always.  It still spams the kernel log and in some cases
    it seemed to cause a filesystem error causing / to go read-only.
    I assume 4.9 is also affected.
  Debian-carnil: |-
    Commit 9bfe5ded054b ("mm, oom: remove sleep from under oom_lock")
    is a mitigation for CVE-2016-10723.
    https://lore.kernel.org/lkml/cb2d635c-c14d-c2cc-868a-d4c447364f0d@i-love.sakura.ne.jp/
  Ubuntu-tyhicks: |-
    9bfe5ded054b8e28a94c78580f233d6879a00146 may be an incomplete fix;
     see the lore.kernel.org references above
    As of 2019-01-24, we're deferring this issue since there's not a
     complete, low risk fix available
fixed-by:
  mainline: never
