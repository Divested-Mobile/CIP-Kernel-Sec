description: |-
  The HMAC implementation (crypto/hmac.c) in the Linux kernel before 4.14.8
  does not validate that the underlying cryptographic hash algorithm is
  unkeyed, allowing a local attacker able to use the AF_ALG-based hash
  interface (CONFIG_CRYPTO_USER_API_HASH) and the SHA-3 hash algorithm
  (CONFIG_CRYPTO_SHA3) to cause a kernel stack buffer overflow by executing a
  crafted sequence of system calls that encounter a missing SHA-3
  initialization.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-17806
- http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=af3ff8045bbf3e32f1a448542e73abb4c8ceb6f1
- https://github.com/torvalds/linux/commit/af3ff8045bbf3e32f1a448542e73abb4c8ceb6f1
- https://www.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.14.8
- https://usn.ubuntu.com/usn/usn-3583-1
- https://usn.ubuntu.com/usn/usn-3583-2
- https://usn.ubuntu.com/usn/usn-3617-1
- https://usn.ubuntu.com/usn/usn-3617-2
- https://usn.ubuntu.com/usn/usn-3617-3
- https://usn.ubuntu.com/usn/usn-3619-1
- https://usn.ubuntu.com/usn/usn-3619-2
- https://usn.ubuntu.com/usn/usn-3632-1
comments:
  debian/carnil: For linux-4.14.y fixed in 902ae89f841de0c8d2857919296923f6332e174f
    (4.14.8)
fixed-by:
  cip/4.4: [43cd7f38612df31fbd929588c065cfbc42102aab]
  cip/4.4-rt: [43cd7f38612df31fbd929588c065cfbc42102aab]
  debian/buster-security: ['patch:debian/4.14.7-1:bugfix/all/crypto-hmac-require-that-the-underlying-hash-algorit.patch']
  debian/jessie-security: ['patch:debian/3.16.51-3+deb8u1:bugfix/all/crypto-hmac-require-that-the-underlying-hash-algorit.patch']
  debian/stretch-security: ['patch:debian/4.9.65-3+deb9u1:bugfix/all/crypto-hmac-require-that-the-underlying-hash-algorit.patch']
  mainline: [af3ff8045bbf3e32f1a448542e73abb4c8ceb6f1]
  stable/3.16: [150fbc1221d1352db7dc830074586e0ee28e2a15]
  stable/3.18: [252b343a9789151293ad1da4a1ac0851bf31a22e]
  stable/3.2: [a63785d3294e9d7704db04500400fd8bb4b59a69]
  stable/4.1: [bd7f57da8fff9b75204d6dd2b3ac6a30a6430a5c]
  stable/4.14: [902ae89f841de0c8d2857919296923f6332e174f]
  stable/4.4: [43cd7f38612df31fbd929588c065cfbc42102aab]
  stable/4.9: [43259d07fceb8cc1f5ba7e8003ae19023e0620f5]
