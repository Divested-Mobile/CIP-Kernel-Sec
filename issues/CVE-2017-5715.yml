description: Branch target injection
references:
- https://spectreattack.com/
- https://lkml.org/lkml/2018/1/4/955
- https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/SpectreAndMeltdown
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5715
- https://security.googleblog.com/2018/01/todays-cpu-vulnerability-what-you-need.html
- https://googleprojectzero.blogspot.co.uk/2018/01/reading-privileged-memory-with-side.html
- https://security-center.intel.com/advisory.aspx?intelid=INTEL-SA-00088&languageid=en-fr
- http://www.amd.com/en/corporate/speculative-execution
- https://developer.arm.com/support/security-update
- https://www.qemu.org/2018/01/04/spectre/
- https://webkitgtk.org/security/WSA-2018-0001.html
- https://usn.ubuntu.com/usn/usn-3516-1
- https://usn.ubuntu.com/usn/usn-3530-1
- https://usn.ubuntu.com/usn/usn-3531-1
- https://usn.ubuntu.com/usn/usn-3531-2
- https://usn.ubuntu.com/usn/usn-3542-1
- https://usn.ubuntu.com/usn/usn-3542-2
- https://usn.ubuntu.com/usn/usn-3540-2
- https://usn.ubuntu.com/usn/usn-3540-1
- https://usn.ubuntu.com/usn/usn-3541-1
- https://usn.ubuntu.com/usn/usn-3541-2
- https://usn.ubuntu.com/usn/usn-3549-1
- https://usn.ubuntu.com/usn/usn-3560-1
- https://usn.ubuntu.com/usn/usn-3561-1
- https://www.qemu.org/2018/02/14/qemu-2-11-1-and-spectre-update/
- https://usn.ubuntu.com/usn/usn-3580-1
- https://usn.ubuntu.com/usn/usn-3581-1
- https://usn.ubuntu.com/usn/usn-3581-2
- https://usn.ubuntu.com/usn/usn-3582-1
- https://usn.ubuntu.com/usn/usn-3582-2
- https://usn.ubuntu.com/usn/usn-3594-1
- https://usn.ubuntu.com/usn/usn-3597-1
- https://usn.ubuntu.com/usn/usn-3597-2
- https://usn.ubuntu.com/usn/usn-3531-3
- https://usn.ubuntu.com/usn/usn-3620-2
- https://usn.ubuntu.com/usn/usn-3690-1
comments:
  Debian-bwh: |-
    The list of upstream commits and the status below are for x86 only.
    For arm64, we would probably need: be04a6d1126b02c6a28741155b899d648739fc5b, 0f15adbb2861ce6f75ccfc5a92b19eae0ef327d0, f3d795d9b360523beca6d13ba64c2c532f601149
    For s390x, we would probably need: d768bd892fc8f066cd3aa000eb1867bcf32db0ee, f19fbd5ed642dc31c809596412dab1ed56f2f156
    3.2.101 and 3.16.56 stable updates included retpoline support.
    Microcode-based support is pending for 3.16 but I won't try
    backporting it to 3.2.
  Debian-carnil: |-
    partial mitigations via 0cb5b30698fdc8f6b4646012e3acb4ddce430788
    "kvm: vmx: Scrub hardware GPRs at VM-exit" in 4.15-rc7
    Initial support for mitigation work for Spectre variant 2
    (indirect branch speculation) vulnerability included in
    4.15-rc8, 4.14.14-rc1, 4.9.77-rc1.
    Mark the entries which included initial retpoline support
    to mitigate Spectre v2 as the 'fixed' ones. Still work on
    microcode and/or gcc is needed to be effective.
    Unclear if we should as well mark it as pending for the
    Debian branches, so not yet added a marking for the sid
    branch accordingly.
    4.14.17-1 upload enforces a dependency on the used compiler
    with retpoline support.
    4.9.82-1+deb9u1 upload enforces a dependency on the used
    compiler with retpoline support.
  Ubuntu-mdeslaur: |-
    intel-microcode updates were reverted in usn-3531-2
    marking amd64-microcode as deferred since we don't have updates
    to ship yet
  Ubuntu-tyhicks: Variant 2, aka "Spectre"
reporters:
- Jann Horn
fixed-by:
  linux-4.14.y: [9298e868dddd820829f814cd25a0f28c92036af7, 5a3e4b399ebc994516f7b6bd8ae0584027e72418,
    e0d753568c16f123e4805b7136734f3a83403fb6, 649c1de819afc90cb6699dc04f5340009dd3783c,
    6a4d11820d12836785f64a609eecbcadc0d526d0, 6b95f61a41349ef4a115520ac4868bf52555eab9,
    3a72bd4b60da338e66922e4f9eded174b3ad147d, dcd4311d0e646ae9e739f7238002b664613f2355,
    79f2c12856404c5acfbc33e021108c0810a6d2b8, d4edaa981b8749acd8fdd7ab8d2be2585ebeeb9e,
    82de9301b4ea4389ee889558f770513930bf803f, e0dcc73d67359c67d8b81868c2dd388b0c6be1f2,
    41f8af6a4656e9dd348506b4ebfa4677730994c3, 470703735b39d743afe0d9e91edaab6ac400c6c7,
    b0edc2dfb684b43c56d81a58271430a614a4975a, b9cdaaf0a3becc52e8b4662fef28c452c4f009b4,
    198660b7a5dd33b114001023d540c9072603e2a8, 051547583bdda4b74953053a1034026c56b55c4c,
    956ec9e7b59a1fb3fd4c9bc8a13a7f7700e9d7d2, 020c755fdb04be9cffa5a30c1624990b7c54cb4c,
    22371c489842560f99aa6c12a2c00db8b0ecb752, 5fa871644e6d48f5c120e8c469c96850a01c60c8,
    76bee09efb89b0a71566bec5f36d9e65d9034aef, c927726674c7dfe42e8de585b70ffbd9ec775fc6,
    86b5b1eb18aa49eedff2c9a9087fc48d03099844, 76c4bd53969bcbaf19fe12218785411b390fd14b,
    343c91242d092852ab22411780f886317d7001aa, 15ee82be40b6895edeb324435621ef1869aac173,
    a65710dc584c1c424eb358a1f6e8c01d706e9f81, 0fd222b19766ba28cf6e45b6ad461f1a303831bd,
    dbbbafce5380f2df32e142e5f08f17cf1b55b59c, b955239cf4ea953eb5fca5409a5524daf20f642a,
    91ff9a75f360eb89e913fcc4b3a7fbb602c67cbb, 2e9521197f08d8cec826d3a5ff04131e40a79120,
    92f4b68ed14c7731cadd5bf7501a98da5302c093, 249b1f7a7f09c9c5243f8c592ea7fb13871968bc,
    7f3e0daa9e125d3d4d7720136370303009edbdeb, a358df03279e806f8f4217eacf813c5b6c3578ee,
    3e04e09855c5cbc4f18c2d14bec326b1ff6f11f6, 74ae346691dd34d49a5e733af40ca25a4dd42245,
    c962dfa4aca010e05730ff458210b04c4eb9af14, 85543d7613c481392d564a4956850591b2025f5d,
    7a3f12294da45e779b313b33077f04b87782985b, ad368e5b2d56ed059ebc8343cd7e713f3a7717d4,
    7f8da2c8a191f274600bafcf6e58f54e16d5c8de, ebaf2271a024a7000dc83e061349f7bbf2b44281,
    4c8298c1fdd3317658a3dcd055b19a4c60df947d, d395d69de67ea95760e1f207eb0f6fdfbcb6e069,
    4a82531c96a20ab008e7f5a903e85d46a81fd3a3, d5a1b559235a38d527e8e363a325705fa0325602,
    b7451cb6159a573736cf674e586c75daabd62ae5, 1fed58f610b57c1190862819eba6f7bc5396b08d,
    7d7ebee6ce113fff252f1b923fbbbad83b1221b8, c3ffdb5a2ed4a5f2488660cfbd310670e43fe803,
    5065490489ee87d5a898b8dc125e4f38ba295c43, 7e657aa3b4f761f66239c73dbf67fae6a6249f12,
    0d62a56dc454699790a43a57ffa4258ff909b3f5]
  mainline: [99c6fa2511d8a683e61468be91b83f85452115fa, 87590ce6e373d1a5401f6539f0c59ef92dd924a9,
    61dc0f555b5c761cdafb0ba5bd41ecf22d68a4c4, e4d0e84e490790798691aaa0f2e598637f1867ec,
    39b735332cb8b33a27c28592d969e4016c86c3ea, 258c76059cece01bebae098e81bacb1af2edad17,
    76b043848fd22dbf7f8bf3a1452f8c70d557b860, da285121560e769cc31797bba6422eea71d473e0,
    9697fa39efd3fc3692f2949d4045f393ec58450b, 2641f08bb7fc63a636a2b18173221d7040a3512e,
    9351803bd803cdbeb9b5a7850b7b6f464806e3db, e70e5892b28c18f517f29ab6e83bd57705104b31,
    ea08816d5b185ab3d09e95e393f265af54560350, 5096732f6f695001fa2d6f1335a2680b37912c69,
    7614e913db1f40fff819b36216484dc3808995d4, 117cc7a908c83697b0b737d15ae1eb5943afe35b,
    b8b9ce4b5aec8de9e23cabb0a26b78641f9ab1d6, c995efd5a740d9cbafbf58bde4973e8b50b4d761,
    28d437d550e1e39f805d99f9f8ac399c778827b7, 6f41c34d69eb005e7848716bbcafc979b35037d5,
    736e80a4213e9bbce40a7c050337047128b472ac, 3f7d875566d8e79c5e0b2c9a413e91b2c29e0854,
    1a29b5b7f347a1a9230c1e0af5b37e3e571588ab, c940a3fb1e2e9b7d03228ab28f375fb5a47ff699,
    caf7501a1b4ec964190f31f9c3f163de252273b8, 95ca0ee8636059ea2800dfbac9ecac6212d6b38f,
    fc67dd70adb711a45d2ef34e12d1a8be75edde61, 5d10cbc91d9eb5537998b65608441b592eec65e7,
    1e340c60d0dd3ae07b5bedc16a0469c14b9f3410, a5b2966364538a0e68c9fa29bc0a3a1651799035,
    20ffa1caecca4db8f79fe665acdeaa5af815a24d, 7a32fc51ca938e67974cbb9db31e1a43f98345a9,
    55fa19d3e51f33d9cd4056d25836d93abf9438db, de3a0021a60635de96aa92713c1a31a96747d72c,
    f21f165ef922c2146cc5bdc620f542953c41714b, e383095c7fe8d218e00ec0f83e4b95ed4e627b02,
    2961298efe1ea1b6fc0d7ee8b76018fa6c0bcef2, a845c7cf4b4cb5e9e3b2823867892b27646f3a98,
    17bc33914bcc98ba3c6b426fd1c49587a25c0597, 9471eee9186a46893726e22ebb54cade3f9bc043,
    e698dcdfcda41efd0984de539767b4cddd235f1e, 7fcae1118f5fd44a862aa5c3525248e35ee67c3b,
    18bf3c3ea8ece8f03b6fc58508f2dfd23c7711c7, 12c69f1e94c89d40696e83804dd2f0965b5250cd,
    904e14fb7cb96401a7dc803ca2863fd5ba32ffe6, 9005c6834c0ffdfe46afa76656bd9276cca864f6,
    af189c95a371b59f493dbe0f50c0a09724868881, 15d45071523d89b3fb7372e2135fbd72f6af9506,
    d28b387fb74da95d69d2615732f50cceb38e9a4d, 1751342095f0d2b36fa8114d8e12c5688c455ac4,
    d37fc6d360a404b208547ba112e7dabb6533c7fc, ea00f301285ea2f07393678cd2b6057878320c9d,
    9de29eac8d2189424d81c0d840cd0469aa3d41c8, dd84441a797150dcc49298ec95c459a8891d8bb1,
    d72f4e29e6d84b7ec02ae93088aa459ac70e733b, a493a87f38cfa48caaa95c9347be2d914c6fdf29,
    ecb586bd29c99fb4de599dec388658e74388daad]
