description: |-
  Race condition in kernel/events/core.c in the Linux kernel before 4.9.7
  allows local users to gain privileges via a crafted application that makes
  concurrent perf_event_open system calls for moving a software group into a
  hardware context.  NOTE: this vulnerability exists because of an incomplete
  fix for CVE-2016-6786.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6001
- http://www.ubuntu.com/usn/usn-3312-1
- http://www.ubuntu.com/usn/usn-3312-2
comments:
  Debian-bwh: |-
    This is left over from an incomplete fix for CVE-2016-6786.
    Note dependency on commit 130056275ade "perf: Do not double free".
  Ubuntu-jdstrand: |-
    android kernels (flo, goldfish, grouper, maguro, mako and manta) are
     not supported on the Ubuntu Touch 14.10 and earlier preview kernels
    linux-lts-saucy no longer receives official support
    linux-lts-quantal no longer receives official support
reporters:
- Di Shen
fixed-by:
  linux-3.16.y: [fe525a280e8b5f04c7666fe22d1a4ef592f7b953]
  linux-3.2.y: [9eb0e01be831d0f37ea6278a92c32424141f55fb]
  linux-4.4.y: [416bd4a366f3b4cd3f6a3246f91bd9f425891547]
  linux-4.9.y: [922813f4d66fb317e8602d058d03a1619af1ffd0]
  mainline: [321027c1fe77f892f4ea07846aeae08cefbbb290]
