description: |-
  Race condition in kernel/events/core.c in the Linux kernel before 4.9.7
  allows local users to gain privileges via a crafted application that makes
  concurrent perf_event_open system calls for moving a software group into a
  hardware context.  NOTE: this vulnerability exists because of an incomplete
  fix for CVE-2016-6786.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6001
- http://www.ubuntu.com/usn/usn-3312-1
- http://www.ubuntu.com/usn/usn-3312-2
- http://www.ubuntu.com/usn/usn-3361-1
- https://usn.ubuntu.com/usn/usn-3312-1
- https://usn.ubuntu.com/usn/usn-3312-2
- https://usn.ubuntu.com/usn/usn-3361-1
- https://source.android.com/security/bulletin/pixel/2017-11-01
comments:
  debian/bwh: |-
    This is left over from an incomplete fix for CVE-2016-6786.
    Note dependency on commit 130056275ade "perf: Do not double free".
  ubuntu/jdstrand: |-
    android kernels (flo, goldfish, grouper, maguro, mako and manta) are
     not supported on the Ubuntu Touch 14.10 and earlier preview kernels
    linux-lts-saucy no longer receives official support
    linux-lts-quantal no longer receives official support
reporters:
- Di Shen
introduced-by:
  aosp/3.10: [0aa98a5d4f6db7254d50057db0ba7159e81c07da]
  aosp/3.18: [33b738f7c5a704b729b2502669cf71c7b25ab7d6]
  mainline: [f63a8daa5812afef4f06c962351687e1ff9ccb2b]
  stable/3.16: [18163dd15627bfa34af63299998523d8dd1a109e]
  stable/3.18: [33b738f7c5a704b729b2502669cf71c7b25ab7d6]
  stable/3.2: [f8ab792cab4a7c86288b8fba946a27a3e3119f46]
fixed-by:
  aosp/3.10: [3828b7d9e194f9a0cbc91d3f2c867b81a3e341f8]
  aosp/3.18: [14ac5291d640b0ec3184886bd753babac3615c55]
  cip/4.4: [416bd4a366f3b4cd3f6a3246f91bd9f425891547]
  cip/4.4-rt: [416bd4a366f3b4cd3f6a3246f91bd9f425891547]
  debian/buster-security: ['version:debian/4.9.10-1']
  debian/jessie-security: ['patch:debian/3.16.39-1+deb8u1:bugfix/all/perf-core-Fix-concurrent-sys_perf_event_open-vs.-mov.patch']
  debian/stretch-security: ['version:debian/4.9.10-1']
  mainline: [321027c1fe77f892f4ea07846aeae08cefbbb290]
  stable/3.16: [fe525a280e8b5f04c7666fe22d1a4ef592f7b953]
  stable/3.18: [2f9cf5cd5580046fe9ff97dae32f9c753500d4ea]
  stable/3.2: [9eb0e01be831d0f37ea6278a92c32424141f55fb]
  stable/4.4: [416bd4a366f3b4cd3f6a3246f91bd9f425891547]
  stable/4.9: [922813f4d66fb317e8602d058d03a1619af1ffd0]
  ubuntu/xenial: [87618e7e5043bec61ea9a28a856ff9b8e2d17030]
