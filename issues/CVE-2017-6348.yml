description: |-
  The hashbin_delete function in net/irda/irqueue.c in the Linux kernel
  before 4.9.13 improperly manages lock dropping, which allows local users to
  cause a denial of service (deadlock) via crafted operations on IrDA
  devices.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6348
- http://www.ubuntu.com/usn/usn-3265-1
- http://www.ubuntu.com/usn/usn-3265-2
- http://www.ubuntu.com/usn/usn-3361-1
- https://usn.ubuntu.com/usn/usn-3265-1
- https://usn.ubuntu.com/usn/usn-3265-2
- https://usn.ubuntu.com/usn/usn-3361-1
- https://usn.ubuntu.com/usn/usn-3754-1
- https://ubuntu.com/security/notices/USN-3265-1
- https://ubuntu.com/security/notices/USN-3265-2
- https://ubuntu.com/security/notices/USN-3361-1
- https://ubuntu.com/security/notices/USN-3754-1
- https://www.cve.org/CVERecord?id=CVE-2017-6348
comments:
  debian/bwh: |-
    This actually changes locking, not just lockdep annotations.
    So I think it fixes a potential deadlock.
  ubuntu/jdstrand: |-
    android kernels (flo, goldfish, grouper, maguro, mako and manta) are
     not supported on the Ubuntu Touch 14.10 and earlier preview kernels
    linux-lts-saucy no longer receives official support
    linux-lts-quantal no longer receives official support
reporters:
- Dmitry Vyukov
fixed-by:
  aosp/3.18: [e9e0052d0228fcfe1c53556e0f44abbd45e1b502]
  cip/4.4: [353dd7290025bc33555282848ab015c1bbf21186]
  cip/4.4-rt: [353dd7290025bc33555282848ab015c1bbf21186]
  cip/4.4-st: [353dd7290025bc33555282848ab015c1bbf21186]
  debian/buster-security: ['version:debian/4.9.13-1']
  debian/jessie-security: ['patch:debian/3.16.39-1+deb8u2:bugfix/all/irda-fix-lockdep-annotations-in-hashbin_delete.patch']
  debian/stretch-security: ['version:debian/4.9.13-1']
  mainline: [4c03b862b12f980456f9de92db6d508a4999b788]
  stable/3.10: [5988be39d31cb1ab9cc21d86254f2082ff8a9d25]
  stable/3.12: [7132afee391a91d58daa332e1851f1139889b0e3]
  stable/3.16: [55429dd9c16006c5f2edc53c25a3594d299fbf98]
  stable/3.2: [c512d1770f6731d7c34eb71d7463852d3ad0e452]
  stable/4.1: [c9556862a64b5ac85bfee1cfd4313615dc21d6f8]
  stable/4.4: [353dd7290025bc33555282848ab015c1bbf21186]
  stable/4.9: [c2219da51664451149350e47321aa0fcf72a8b8f]
  ubuntu/xenial: [53f5bd450f3227a852fc2b502c79b2b7f32dad4c]
