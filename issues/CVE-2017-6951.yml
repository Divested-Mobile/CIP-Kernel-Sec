description: NULL pointer dereference in keyring_search_aux when type is "dead"
references:
- https://www.spinics.net/lists/keyrings/msg01845.html
- https://www.spinics.net/lists/keyrings/msg01846.html
- https://www.spinics.net/lists/keyrings/msg01849.html
- https://www.spinics.net/lists/keyrings/msg01882.html
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6951
- http://www.spinics.net/lists/keyrings/msg01845.html
- http://www.spinics.net/lists/keyrings/msg01846.html
- http://www.spinics.net/lists/keyrings/msg01849.html
- https://bugzilla.redhat.com/show_bug.cgi?id=1433252
- http://www.ubuntu.com/usn/usn-3422-1
- http://www.ubuntu.com/usn/usn-3422-2
- https://usn.ubuntu.com/usn/usn-3422-1
- https://usn.ubuntu.com/usn/usn-3422-2
- https://ubuntu.com/security/notices/USN-3422-1
- https://ubuntu.com/security/notices/USN-3422-2
- https://www.cve.org/CVERecord?id=CVE-2017-6951
comments:
  debian/bwh: I found it.
  debian/carnil: |-
    Problem is said to not affect newer kernel, but
    the fixing commit needs to be found still which
    resolves the issue.
    There is c1644fe041ebaf6519f6809146a77c3ead9193af which changes
    name of the dead type to ".dead" to prevent user access.
    the equivalent commit for 4.9 is b2dd90e812f3f733b55f0bf4487032e53b487665
    which landed in 4.9.25
  ubuntu/sbeattie: |-
    partially fixed by c06cfb08b88dfbe13be44a69ae2fdc3a7c902d81
     though see http://www.spinics.net/lists/keyrings/msg01883.html
    in the Red Hat bug report, David Howells has an alternate fix
     that may be more appropriate for live-patching than
     c06cfb08b88dfbe13be44a69ae2fdc3a7c902d81 :
     https://bugzilla.redhat.com/attachment.cgi?id=1268882
fixed-by:
  debian/buster-security: ['version:debian/4.0.2-1']
  debian/jessie-security: ['version:debian/3.16.43-1']
  debian/stretch-security: ['version:debian/4.0.2-1']
  mainline: [c06cfb08b88dfbe13be44a69ae2fdc3a7c902d81]
  stable/3.16: [c53ee259ad3da891e191dee7af119af340f9c01b]
  stable/3.2: [e2b41f761b086da2ec43b1cfea14ca0681cd08b0]
