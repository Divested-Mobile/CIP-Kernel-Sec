description: The NFSv2/NFSv3 server in the nfsd subsystem in the Linux kernel through
  4.10.11 allows remote attackers to cause a denial of service (system crash) via
  a long RPC reply, related to net/sunrpc/svc.c, fs/nfsd/nfs3xdr.c, and fs/nfsd/nfsxdr.c
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-7645
- https://marc.info/?l=linux-nfs&m=149218228327497&w=2
- https://marc.info/?l=linux-nfs&m=149247516212924&w=2
- https://bugs.launchpad.net/ubuntu/+source/linux-hwe/+bug/1680060
- https://github.com/torvalds/linux/commit/e6838a29ecb484c97e4efef9429643b9851fba6e
- https://github.com/torvalds/linux/commit/db44bac41bbfc0c0d9dd943092d8bded3c9db19b
- https://github.com/torvalds/linux/commit/13bf9fbff0e5e099e2b6f003a0ab8ae145436309
- http://www.ubuntu.com/usn/usn-3314-1
- http://www.ubuntu.com/usn/usn-3312-1
- http://www.ubuntu.com/usn/usn-3312-2
- https://launchpad.net/bugs/1680060
- http://www.ubuntu.com/usn/usn-3361-1
- https://usn.ubuntu.com/usn/usn-3314-1
- https://usn.ubuntu.com/usn/usn-3312-1
- https://usn.ubuntu.com/usn/usn-3312-2
- https://usn.ubuntu.com/usn/usn-3361-1
- https://usn.ubuntu.com/usn/usn-3754-1
- https://ubuntu.com/security/notices/USN-3314-1
- https://ubuntu.com/security/notices/USN-3312-1
- https://ubuntu.com/security/notices/USN-3312-2
- https://ubuntu.com/security/notices/USN-3361-1
- https://ubuntu.com/security/notices/USN-3754-1
- https://www.cve.org/CVERecord?id=CVE-2017-7645
comments:
  debian/carnil: |-
    afaict the issue for which CVE-2017-7645 was assigned
    is fixed with e6838a29ecb484c97e4efef9429643b9851fba6e
    but I think
    db44bac41bbfc0c0d9dd943092d8bded3c9db19b (nfsd4: minor
    NFSv2/v3 write decoding cleanup) and the following
    13bf9fbff0e5e099e2b6f003a0ab8ae145436309 (nfsd: stricter
    decoding of write-like NFSv2/v3 ops) should be applied
    as well (should the last commit get a separate CVE id?)
    13bf9fbff0e5e099e2b6f003a0ab8ae145436309 got a separate
    CVE: CVE-2017-7895
  ubuntu/jdstrand: |-
    android kernels (flo, goldfish, grouper, maguro, mako and manta) are
     not supported on the Ubuntu Touch 14.10 and earlier preview kernels
    linux-lts-saucy no longer receives official support
    linux-lts-quantal no longer receives official support
reporters:
- Tuomas Haanpää
- Ari Kauppi
fixed-by:
  aosp/3.18: [a1552b1c52d9c2ed48b21f722c1bd7f0ffbdb398]
  cip/4.4: [82a0d8aabe043ac94efa255502754c70363dab0e]
  cip/4.4-rt: [82a0d8aabe043ac94efa255502754c70363dab0e]
  cip/4.4-st: [82a0d8aabe043ac94efa255502754c70363dab0e]
  debian/buster-security: ['patch:debian/4.9.25-1:bugfix/all/nfsd-check-for-oversized-NFSv2-v3-arguments.patch']
  debian/jessie-security: ['patch:debian/3.16.43-2+deb8u1:bugfix/all/nfsd-check-for-oversized-nfsv2-v3-arguments.patch']
  debian/stretch-security: ['patch:debian/4.9.25-1:bugfix/all/nfsd-check-for-oversized-NFSv2-v3-arguments.patch']
  mainline: [e6838a29ecb484c97e4efef9429643b9851fba6e]
  stable/3.10: [2103905323896cd854cd881676d1fe5f0bf48124]
  stable/3.12: [7a6875988a7fce567e4ee22481d6e7dd82a33eff]
  stable/3.16: [1d4ab03084d4bace93b1573c57a309e954d05c09]
  stable/3.18: [a1552b1c52d9c2ed48b21f722c1bd7f0ffbdb398]
  stable/3.2: [1eb3e42d91d63fc757a8da38683f417bcdf953a2]
  stable/4.1: [c9bb9f02b0484703ca5d0da15a11f891954e1c31]
  stable/4.10: [86eb1d0aab0d1d84a048052a3c7fbbe0bba9f100]
  stable/4.4: [82a0d8aabe043ac94efa255502754c70363dab0e]
  stable/4.9: [fc6445df466f37291a70937642068bda78802a5b]
  ubuntu/xenial: [ae0150244b4ea1a0278b97d25fa09cf696bcc3fb]
