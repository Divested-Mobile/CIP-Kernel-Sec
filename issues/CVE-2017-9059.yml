description: Module reference leak due to improper shut down of callback channel on
  umount
references:
- https://www.spinics.net/lists/linux-nfs/msg63334.html
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c70422f760c120480fee4de6c38804c72aa26bc1
- https://bugzilla.redhat.com/show_bug.cgi?id=1451386
- https://bugs.debian.org/863550
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-9059
- http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=c70422f760c120480fee4de6c38804c72aa26bc1
- https://github.com/torvalds/linux/commit/c70422f760c120480fee4de6c38804c72aa26bc1
- https://www.cve.org/CVERecord?id=CVE-2017-9059
comments:
  debian/bwh: |-
    Upstream fix says this was introduced by commit bb6aeba736ba
    "NFSv4.x: Switch to using svc_set_num_threads() to manage the callback
    threads" in 4.9.
reporters:
- Kinglong Mee
introduced-by:
  mainline: [bb6aeba736ba9fd4d9569eec4bc3f7aecb42162a]
fixed-by:
  debian/buster-security: ['patch:debian/4.9.30-1:bugfix/all/sunrpc-refactor-svc_set_num_threads.patch',
    'patch:debian/4.9.30-1:bugfix/all/nfsv4-fix-callback-server-shutdown.patch']
  debian/stretch-security: ['patch:debian/4.9.30-1:bugfix/all/sunrpc-refactor-svc_set_num_threads.patch',
    'patch:debian/4.9.30-1:bugfix/all/nfsv4-fix-callback-server-shutdown.patch']
  mainline: [9e0d87680d689f1758185851c3da6eafb16e71e1, ed6473ddc704a2005b9900ca08e236ebb2d8540a]
  stable/4.9: [d9f9b83539ab9b1ebb5cbdfa0a5a9994e20e6a0d, f609266b12d214437cf9d68245dc27f8d4f69836]
