description: 'kernel: netfilter: ebtables: CONFIG_COMPAT: don''t trust userland offsets'
references:
- https://marc.info/?l=linux-netdev&m=152023808817590&w=2
- https://marc.info/?l=linux-netdev&m=152025888924151&w=2
- https://bugzilla.redhat.com/show_bug.cgi?id=1552048
comments:
  debian/carnil: |-
    Fixed as well in 4.15.10
    This is mitigated in Debian by unprivileged user namespaces being
    default-disabled.
    cherry picking the commit for 4.9.x would need as well commit
    932909d9b28d27e807ff8eecb68c7748f6701628 ("netfilter: ebtables:
    fix erroneous reject of last rule") as a followup fix.
    Cf. Message-ID: <20180313112930.GA31828@breakpoint.cc>
    else "it becomes impossible to add rules to the last builtin base
    chain."
fixed-by:
  aosp/3.18: [c80a9f329cb358cf2ae967c866d883264d218b7b]
  cip/4.4: [6d31b2ef34fd718386a73c983877461bca58d3db]
  cip/4.4-rt: [6d31b2ef34fd718386a73c983877461bca58d3db]
  debian/buster-security: ['version:debian/4.15.11-1']
  debian/stretch-security: ['version:debian/4.9.88-1']
  mainline: [b71812168571fa55e44cdd0254471331b9c4c4c6]
  stable/3.18: [c80a9f329cb358cf2ae967c866d883264d218b7b]
  stable/4.14: [eaa06bfba8eabd44ce952758046492eebc973bbe]
  stable/4.4: [6d31b2ef34fd718386a73c983877461bca58d3db]
  stable/4.9: [21ff147189ff0692d203282c1dced02f83dcf785]
