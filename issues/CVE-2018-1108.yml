description: 'random: fix crng_ready() test'
references:
- https://bugs.chromium.org/p/project-zero/issues/detail?id=1559
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1108
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=43838a23a05fbd13e47d750d3dfd77001536dd33
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dc12baacb95f205948f64dc936a47d89ee110117
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8ef35c866f8862df074a49a93b0309725812dea8
- https://usn.ubuntu.com/usn/usn-3752-1
- https://usn.ubuntu.com/usn/usn-3752-2
- https://usn.ubuntu.com/usn/usn-3752-3
- https://launchpad.net/bugs/1779827
- https://ubuntu.com/security/notices/USN-3752-1
- https://ubuntu.com/security/notices/USN-3752-2
- https://ubuntu.com/security/notices/USN-3752-3
- https://www.cve.org/CVERecord?id=CVE-2018-1108
comments:
  debian/bwh: |-
    This is finally being fixed for 4.9 through a backport of the
    random driver that includes improvements to entropy gathering and
    so avoids the regression.
  debian/carnil: |-
    Commit message mentions as fixing commit for CVE-2018-1108
    43838a23a05fbd13e47d750d3dfd77001536dd33, and related commits
    dc12baacb95f205948f64dc936a47d89ee110117 (needed for 4.13+)
    and 8ef35c866f8862df074a49a93b0309725812dea8 (needed for 4.8+)
    CVE-2018-1108 itself has "Cc: stable@kernel.org # 4.8+"
    4.9.88-1+deb9u1 reverts the fix due to various reported regressions.
  ubuntu/sbeattie: |-
    not clear if RNDRESEEDCRNG ioctl should be backported, too;
      it's unlikely user space will receive backports to support it.
    fix introduced regression bug LP: #1779827
reporters:
- Jann Horn
introduced-by:
  mainline: [e192be9d9a30555aae2ca1dc3aad37cba484cd4a]
fixed-by:
  debian/buster-security: ['version:debian/4.16.5-1']
  debian/stretch-security: ['version:debian/4.9.320-2']
  mainline: [43838a23a05fbd13e47d750d3dfd77001536dd33]
  openela/4.14: [6e513bc20ca63f594632eca4e1968791240b8f18]
  stable/4.14: [6e513bc20ca63f594632eca4e1968791240b8f18]
  stable/4.16: [cd8d7a5778a4abf76ee8fe8f1bfcf78976029f8d]
  stable/4.9: [4dfb3442bb7e1fb80515df4a199ca5a7a8edf900]
  ubuntu/bionic: [725e828bd8c830e299e6b7c609c2ae93a5b49b34, 79d825de545d00d3ecd22b58ed957d77a47925f0,
    e8090857d85e342ead55ddeeb9bd04a7a20b5dc2]
ignore:
  debian/stretch-security: Can't be fixed without many user-space changes
