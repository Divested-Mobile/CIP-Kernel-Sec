description: userfaultfd bypasses tmpfs file permissions
references:
- https://lore.kernel.org/lkml/20181126173452.26955-1-aarcange@redhat.com/T/#u
- https://bugzilla.redhat.com/show_bug.cgi?id=1641548
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-18397
- https://lore.kernel.org/lkml/20181126173452.26955-2-aarcange@redhat.com/
- https://bugs.chromium.org/p/project-zero/issues/detail?id=1700
- https://www.openwall.com/lists/oss-security/2018/12/12/1
- https://usn.ubuntu.com/usn/usn-3901-1
- https://usn.ubuntu.com/usn/usn-3901-2
- https://usn.ubuntu.com/usn/usn-3903-1
- https://usn.ubuntu.com/usn/usn-3903-2
- https://ubuntu.com/security/notices/USN-3901-1
- https://ubuntu.com/security/notices/USN-3901-2
- https://ubuntu.com/security/notices/USN-3903-1
- https://ubuntu.com/security/notices/USN-3903-2
- https://www.cve.org/CVERecord?id=CVE-2018-18397
comments:
  debian/carnil: |-
    Commit series fixes 4c27fe4c4c84 ("userfaultfd: shmem: add
    shmem_mcopy_atomic_pte for userfaultfd support") which is added
    in 4.11-rc1.
reporters:
- Jann Horn
introduced-by:
  mainline: [4c27fe4c4c84f3afd504ecff2420cc1ad420d38e]
fixed-by:
  cip/4.19: [10f98c134b02d11923d45ce6688c2479435e8ec9, 6e44dd02c95508f6df5eca4d46adbb75233ea181,
    34b7a7cc5321a1b5e13320443557ba1cb11b42e7, 4ce337622f2bbc0df61b0b76aa60388f5def5646,
    8f193a716e56f30e36a4c851e59bf6fa74af8d9f]
  cip/4.19-rt: [10f98c134b02d11923d45ce6688c2479435e8ec9, 6e44dd02c95508f6df5eca4d46adbb75233ea181,
    34b7a7cc5321a1b5e13320443557ba1cb11b42e7, 4ce337622f2bbc0df61b0b76aa60388f5def5646,
    8f193a716e56f30e36a4c851e59bf6fa74af8d9f]
  debian/buster-security: ['version:debian/4.19.9-1']
  mainline: [9e368259ad988356c4c95150fafd1a06af095d98, 5b51072e97d587186c2f5390c8c9c1fb7e179505,
    29ec90660d68bbdd69507c1c8b4e33aa299278b1, e2a50c1f64145a04959df2442305d57307e5395a,
    dcf7fe9d89763a28e0f43975b422ff141fe79e43]
  stable/4.14: [82c5a8c0debac552750a00b4fc7551c89c7b34b8, 683b47330c498a7bb90b1e863f63c9b5035dbba9,
    705a2810a314ccf06fe6190ea555e586975f9b28, af3edb30cddfcc1eace505af10d08826a9522dbe,
    46466e23bc1bc262c28a020df982233c309ed958]
  stable/4.19: [10f98c134b02d11923d45ce6688c2479435e8ec9, 6e44dd02c95508f6df5eca4d46adbb75233ea181,
    34b7a7cc5321a1b5e13320443557ba1cb11b42e7, 4ce337622f2bbc0df61b0b76aa60388f5def5646,
    8f193a716e56f30e36a4c851e59bf6fa74af8d9f]
  ubuntu/bionic: [c9ddac33c9a33f772a99980bac6dc05a4e7b228f, ea2611742ce52a87c1b13142f348e9cc45917735,
    613c12df1eadb624f88659e39a8e609976194245, fdd65e88a76eaff27b4e00b97b62a9357a1cd40e,
    b616e2d4b04f7a31837785f989fa1b906fbd1093]
