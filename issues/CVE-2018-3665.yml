description: |-
  System software utilizing Lazy FP state restore technique on systems using
  Intel Core-based microprocessors may potentially allow a local process to
  infer data from another process through a speculative execution side
  channel.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-3665
- https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00145.html
- https://xenbits.xen.org/xsa/advisory-267.html
comments:
  Debian-bwh: |-
    Several more fixes were needed to make eagerfpu work on CPUs
    without an FPU or FXSR, and they aren't practical to backport
    to 3.16.  I've prepared a fix that enables eagerfpu by default
    if FPU and FXSR are available.  This leaves the PPro and K6
    family vulnerable since they do speculative execution but don't
    implement FXSR.
  Debian-carnil: |-
    Since 58122bf1d856a4ea9581d62a07c557d997d46a19 (4.6-rc1)
    "x86/fpu: Default eagerfpu=on on all CPUs" and then since
    ca6938a1cd8a1c5e861a99b67f84ac166fc2b9e7 (4.10-rc1) "x86/fpu:
    Hard-disable lazy FPU mode".
    Might be still sensible to apply the patch for 4.9-upstream-stable
    x86-fpu-hard-disable-lazy-fpu-mode.patch for stretch.
  Ubuntu-tyhicks: |-
    Xenial and Trusty are affected when running on older x86 processors
     that do not have support for the xsaveopt instruction. You can verify if your
     system has support for xsaveopt by locating the "xsaveopt" feature listed in
     the flags section of the /proc/cpuinfo file.
    Precise is affected on all x86 processors.
  bwh: Fix for 3.16 is incomplete.
reporters:
- Julian Stecklina
- Thomas Prescher
fixed-by:
  linux-3.16.y: [d4f06dfa574db2af1de3ade75fb04240a94f19dc]
  linux-4.4.y: [1d9af7dc0cd4d46bc34ac8656373188d8991f13c]
  mainline: [58122bf1d856a4ea9581d62a07c557d997d46a19]
fix-depends-on:
  4ecd16ec7059390b430af34bd8bc3ca2b5dcef9a: |-
    Make FP emulation compatible with eagerfpu. This in turn depends on
    several other fixes.
  5ed73f40735c68d8a656b46d09b1885d3b8740ae: |
    Make non-FXSR code compatible with eagerfpu. This in turn depends on
    several other fixes.
