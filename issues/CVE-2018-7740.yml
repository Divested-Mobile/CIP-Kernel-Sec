description: 'hugetlb: Offset overflow and BUG() in remap_file_pages()'
references:
- https://bugzilla.novell.com/show_bug.cgi?id=1084353
- https://bugzilla.kernel.org/show_bug.cgi?id=199037
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-7740
- https://usn.ubuntu.com/usn/usn-3910-1
- https://usn.ubuntu.com/usn/usn-3910-2
- https://ubuntu.com/security/notices/USN-3910-1
- https://ubuntu.com/security/notices/USN-3910-2
- https://www.cve.org/CVERecord?id=CVE-2018-7740
comments:
  debian/bwh: |-
    As I read the description of commit 045c7a3f53d9, commit ff8c0c53c475
    in Linux 4.11 introduced (or exacerbated) this vulnerability -
    previously if an overflow occurred the mmap operation would fail.
    So earlier branches have a somewhat different vulnerability.
  debian/carnil: |-
    fir 4.15.x fixed in 4.15.14 with e0fdb5385c4bf26b4be60c0042344c315c039aeb
    SUSE report suggests (if missing, but not checked) to backport as well
    ff8c0c53c475 and 045c7a3f53d9 where missing.
  ubuntu/sbeattie: |-
    045c7a3f tried to catch issues like this, but missed this case.
    ff8c0c53c475 and 045c7a3f may also be needed for older
      releases
introduced-by:
  cip/4.4: [30a2ae50aef84ce6bb6132859a04dca461dbafdd]
  cip/4.4-rt: [30a2ae50aef84ce6bb6132859a04dca461dbafdd]
  cip/4.4-st: [30a2ae50aef84ce6bb6132859a04dca461dbafdd]
  mainline: [ff8c0c53c47530ffea82c22a0a6df6332b56c957]
  stable/4.4: [30a2ae50aef84ce6bb6132859a04dca461dbafdd]
  stable/4.9: [e5deaa544138b5b01531d06cfee05a969375a5f6]
  ubuntu/xenial: [61a624a87c9df1c972904ffc2a26af5aee0f9a9d]
fixed-by:
  aosp/3.18: [40ab207373ffac96a54a56c02a889bf6187243ea, 128c3c243c789c5b5a93833c20dd8b6d7c9d1155]
  cip/4.4: [38d924e1d040a5632c023d7b9a3a6bfbaf4d49d1, 0d547583faaa4371ec566bdd38488b1eba5e8a2d]
  cip/4.4-rt: [38d924e1d040a5632c023d7b9a3a6bfbaf4d49d1, 0d547583faaa4371ec566bdd38488b1eba5e8a2d]
  cip/4.4-st: [38d924e1d040a5632c023d7b9a3a6bfbaf4d49d1, 0d547583faaa4371ec566bdd38488b1eba5e8a2d]
  debian/buster-security: ['version:debian/4.15.17-1']
  debian/jessie-security: ['patch:debian/3.16.56-1:bugfix/all/hugetlbfs-fix-offset-overflow-in-hugetlbfs-mmap.patch',
    'patch:debian/3.16.56-1:bugfix/all/hugetlbfs-check-for-pgoff-value-overflow.patch']
  debian/stretch-security: ['patch:debian/4.9.88-1:bugfix/all/hugetlbfs-fix-offset-overflow-in-hugetlbfs-mmap.patch',
    'patch:debian/4.9.88-1:bugfix/all/hugetlbfs-check-for-pgoff-value-overflow.patch']
  mainline: [63489f8e821144000e0bdca7e65a8d1cc23a7ee7, 5df63c2a149ae65a9ec239e7c2af44efa6f79beb]
  stable/3.16: [363ed2044f82d8997e9ea8231dc1abeab4993755, 8cca49ea37415645203520bff04309c8a87f7677,
    b9beff69cd84917c7881c176c241db933a3f7f7d]
  stable/3.2: [4cba2554682469496ff48536d50c399110d20043, 131802b8292d35e8a407469c485565b199ed79cf]
  stable/4.14: [1e8628443ede418464b0ab101b24fbb7030949b2, 61534984904eaf3604626170dc718556210642a2]
  stable/4.15: [e0fdb5385c4bf26b4be60c0042344c315c039aeb, f6b213293ed95d8482769d3c496dfa8692a155b1]
  stable/4.4: [38d924e1d040a5632c023d7b9a3a6bfbaf4d49d1, 0d547583faaa4371ec566bdd38488b1eba5e8a2d]
  stable/4.9: [447effd30f9d12f7925595ba9a6ffb01969d6cce, 0c82bca7cd1ae580dc34069d42edfd5102603e7e]
  ubuntu/bionic: [1211d50a94084318600c3c8f2d16ec5893200858, ba5f44e551f1b165dc91d5749bb4554b899da008]
  ubuntu/xenial: [ee79f0b922da27bf7c1a8acbb5a5708ee3d00737, 93460cca2150b352e1c56187cfcc78dc30175a4d]
