description: |-
  An issue was discovered in the fd_locked_ioctl function in
  drivers/block/floppy.c in the Linux kernel through 4.15.7. The floppy
  driver will copy a kernel pointer to user memory in response to the
  FDGETPRM ioctl. An attacker can send the FDGETPRM ioctl and use the
  obtained kernel pointer to discover the location of kernel code and data
  and bypass kernel security protections such as KASLR.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-7755
- https://lkml.org/lkml/2018/3/7/1116
- https://lkml.org/lkml/2018/5/29/495
- https://lkml.org/lkml/2018/7/9/1119
- https://usn.ubuntu.com/usn/usn-3695-1
- https://usn.ubuntu.com/usn/usn-3695-2
- https://usn.ubuntu.com/usn/usn-3696-1
- https://usn.ubuntu.com/usn/usn-3696-2
- https://usn.ubuntu.com/usn/usn-3697-1
- https://usn.ubuntu.com/usn/usn-3697-2
- https://usn.ubuntu.com/usn/usn-3698-1
- https://usn.ubuntu.com/usn/usn-3698-2
comments:
  ubuntu/apw: |-
    the above patch mirrors the modifications from the compat path
    though leaving the name as per the user.  Not progressing upstream.
  ubuntu/sbeattie: drivers/block/floppy.c::fd_locked_ioctl()
fixed-by:
  cip/4.4: [ef0a9f76fda4a7ffce6ceee5abdd554a719e8bd8]
  cip/4.4-rt: [ef0a9f76fda4a7ffce6ceee5abdd554a719e8bd8]
  debian/buster-security: ['patch:debian/4.18.10-1:bugfix/all/floppy-Do-not-copy-a-kernel-pointer-to-user-memory-i.patch']
  debian/jessie-security: ['version:debian/3.16.59-1']
  debian/stretch-security: ['patch:debian/4.9.110-3+deb9u5:bugfix/all/floppy-Do-not-copy-a-kernel-pointer-to-user-memory-i.patch']
  mainline: [65eea8edc315589d6c993cf12dbb5d0e9ef1fe4e]
  stable/3.16: [3141e0750231be243bd4cd0fa6eebeb6a1578537]
  stable/3.18: [0facefd1d7db43e1c220405ca773adb7b97975a6]
  stable/4.14: [04bc4dd86d0f2b166640c8ea5b7a030d92a3d993]
  stable/4.18: [0051646c2cc2fbb9ff134a80775c0dc23baa7d35]
  stable/4.4: [ef0a9f76fda4a7ffce6ceee5abdd554a719e8bd8]
  stable/4.9: [3da4db1dfc217c6f330be87baf5759ef4a4b8d93]
ignore:
  stable/3.2: EOL
