description: race condition between mmget_not_zero()/get_task_mm() and core dumping
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=1696015
- https://marc.info/?l=linux-mm&m=155355419911404&w=2
- https://bugs.chromium.org/p/project-zero/issues/detail?id=1790
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-11599
- http://www.openwall.com/lists/oss-security/2019/04/29/1
- http://www.openwall.com/lists/oss-security/2019/04/29/2
- https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=04f5866e41fb70690e28397487d8bd8eea7d712a
- https://usn.ubuntu.com/usn/usn-4069-1
- https://usn.ubuntu.com/usn/usn-4069-2
- https://usn.ubuntu.com/usn/usn-4095-1
- https://usn.ubuntu.com/usn/usn-4115-1
- https://usn.ubuntu.com/usn/usn-4118-1
- https://ubuntu.com/security/notices/USN-4069-1
- https://ubuntu.com/security/notices/USN-4069-2
- https://ubuntu.com/security/notices/USN-4095-1
- https://ubuntu.com/security/notices/USN-4115-1
- https://ubuntu.com/security/notices/USN-4118-1
- https://www.cve.org/CVERecord?id=CVE-2019-11599
comments:
  debian/bwh: |-
    The backports to 4.4 and 4.9 are still under discussion.
    The backport to 3.16 might need to be revised based on this.
  debian/carnil: |-
    Effect of the race condition should be reproducible since
    before commit 1da177e4c3f41524e886b7f1b8a0c1fc7321cac2, cf.
    https://marc.info/?l=linux-mm&m=155355419911404&w=2 .
  ubuntu/tyhicks: |-
    While the upstream commit has a Fixes tag that suggests the flaw was
     introduced in v4.3, the commit message makes it clear that the issue exists
     since before the kernel was stored in git.
reporters:
- Jann Horn
introduced-by:
  mainline: [1da177e4c3f41524e886b7f1b8a0c1fc7321cac2]
fixed-by:
  cip/4.19: [6ff17bc5936e5fab33de8064dc0690f6c8c789ca]
  cip/4.19-rt: [6ff17bc5936e5fab33de8064dc0690f6c8c789ca]
  cip/4.4: [8f6345a11caae324ad36abca8723a5710d099a85]
  cip/4.4-rt: [8f6345a11caae324ad36abca8723a5710d099a85]
  cip/4.4-st: [8f6345a11caae324ad36abca8723a5710d099a85]
  debian/buster-security: ['version:debian/4.19.37-1']
  debian/jessie-security: ['version:debian/3.16.68-1']
  debian/stretch-security: ['patch:debian/4.9.168-1+deb9u3:bugfix/all/coredump-fix-race-condition-between-mmget_not_zero-get_task_mm-and-core-dumping.patch']
  mainline: [04f5866e41fb70690e28397487d8bd8eea7d712a]
  stable/3.16: [a301e6a651037c11d2d9932a35fb56a04eedba8c]
  stable/4.14: [bb461ad8e6e0653fc6bd0f26d9173bab0aec235b]
  stable/4.19: [6ff17bc5936e5fab33de8064dc0690f6c8c789ca]
  stable/4.4: [8f6345a11caae324ad36abca8723a5710d099a85]
  stable/4.9: [16903f1a5ba7707c051edfdfa457620bba45e2c9]
  stable/5.0: [1eb719f09f7e319e79f6abf2b9e8c0dcc1c477b5]
  ubuntu/bionic: [f7d8faa18f0bfc41ead358d1b398fdaefe2c9cbc]
  ubuntu/focal: ['version:5.4.0-9.12']
  ubuntu/xenial: [e88a516f10d54ef8217479760fc96c8babe21ef9]
