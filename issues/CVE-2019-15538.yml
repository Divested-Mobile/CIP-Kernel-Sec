description: 'xfs: fix missing ILOCK unlock when xfs_setattr_nonsize fails due to
  EDQUOT'
references:
- https://git.kernel.org/pub/scm/fs/xfs/xfs-linux.git/commit/?h=xfs-5.3-fixes-6&id=1fb254aa983bf190cfd685d40c64a480a9bafaee
- https://lore.kernel.org/linux-xfs/20190823035528.GH1037422@magnolia/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15538
- https://git.kernel.org/linus/1fb254aa983bf190cfd685d40c64a480a9bafaee
- https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=1fb254aa983bf190cfd685d40c64a480a9bafaee
- https://github.com/torvalds/linux/commit/1fb254aa983bf190cfd685d40c64a480a9bafaee
- https://lore.kernel.org/linux-xfs/20190823192433.GA8736@eldamar.local
comments:
  Debian-carnil: |-
    Introduced in 253f4911f297 ("xfs: better xfs_trans_alloc
    interface") in 4.7-rc1.
reporters:
- Benjamin Moody
introduced-by:
  mainline: [253f4911f297b83745938b7f2c5649b94730b002]
fixed-by:
  linux-4.14.y: [044d098441df8fabffba3b084a70beba0e77f8d4]
  linux-4.19.y: [11f85d4d77afb8f1cb1989f1565b26df21280118]
  linux-4.9.y: [4862942c590646fe46e33ce4a6d35da4d8ee188e]
  linux-5.2.y: [be46f90b7436219da4f9b8e726ddf3779657f6c3]
  mainline: [1fb254aa983bf190cfd685d40c64a480a9bafaee]
ignore:
  linux-4.4.y-cip-rt: No member enables XFS
