description: 'KVM: export MSR_IA32_TSX_CTRL to guest - incomplete fix for TAA'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=1781514
- https://www.openwall.com/lists/oss-security/2019/12/10/3
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-19338
comments:
  debian/carnil: |-
    Issue actually only for distro kernels which do not include
    commit commit e1d38b63acd8 ("kvm/x86: Export MDS_NO=0 to guests
    when TSX is enabled") and have TSX enabled by default.
  ubuntu/tyhicks: |-
    This is a vendor specific CVE for kernels that did not include
     upstream commit e1d38b63acd8 ("kvm/x86: Export MDS_NO=0 to guests when TSX is
     enabled") and defaulted to leaving TSX enabled. Ubuntu kernels included that
     commit and disabled TSX where possible as part of the initial TAA mitigations
     (CVE-2019-11135).
introduced-by:
  mainline: [1b42f017415b46c317e71d41c34ec088417a1883]
fixed-by:
  mainline: [cbbaa2727aa3ae9e0a844803da7cef7fd3b94f2b, c11f83e0626bdc2b6c550fc8b9b6eeefbd8cefaa,
    b07a5c53d42a8c87b208614129e947dd2338ff9c]
  stable/4.19: [6a10f818a9adbe394eb36d223814e207e5121236]
  stable/4.9: [0bc72dbb9dbc2dfa0f975f4b519ae91fa338aec8]
