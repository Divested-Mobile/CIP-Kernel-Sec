description: ' Kernel: KVM: export MSR_IA32_TSX_CTRL to guest - incomplete fix for
  TAA (CVE-2019-11135)'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-19338
- https://bugzilla.redhat.com/show_bug.cgi?id=1781514
- https://www.openwall.com/lists/oss-security/2019/12/10/3
- https://www.openwall.com/lists/oss-security/2019/12/11/1
- https://www.cve.org/CVERecord?id=CVE-2019-19338
comments:
  debian/carnil: |-
    Issue actually only for distro kernels which do not include
    commit commit e1d38b63acd8 ("kvm/x86: Export MDS_NO=0 to guests
    when TSX is enabled") and have TSX enabled by default.
  ubuntu/tyhicks: |-
    This is a vendor specific CVE for kernels that did not include
     upstream commit e1d38b63acd8 ("kvm/x86: Export MDS_NO=0 to guests when TSX is
     enabled") and defaulted to leaving TSX enabled. Ubuntu kernels included that
     commit and disabled TSX where possible as part of the initial TAA mitigations
     (CVE-2019-11135).
introduced-by:
  cip/4.19: [6c58ea8525bf6df7f4df2692784d2ce315201895]
  cip/4.19-rt: [6c58ea8525bf6df7f4df2692784d2ce315201895]
  cip/4.4: [1cdc174d7996a5fb413cd9c1a2b66581a0e80a99]
  cip/4.4-rt: [1cdc174d7996a5fb413cd9c1a2b66581a0e80a99]
  cip/4.4-st: [1cdc174d7996a5fb413cd9c1a2b66581a0e80a99]
  mainline: [1b42f017415b46c317e71d41c34ec088417a1883]
  openela/4.14: [9a5757771b81203d6ff9c170b2a24ae9e447da08]
  stable/4.14: [9a5757771b81203d6ff9c170b2a24ae9e447da08]
  stable/4.19: [6c58ea8525bf6df7f4df2692784d2ce315201895]
  stable/4.4: [1cdc174d7996a5fb413cd9c1a2b66581a0e80a99]
  stable/4.9: [a117aa4e6876fa4b272d2f0b5f12232a04cce895]
  ubuntu/bionic: [0f4086c4e432d7597c0419efa8dc7b699558cf0b]
  ubuntu/xenial: [7344b4099f08aed5fa26306233e8df0d109cf058]
fixed-by:
  cip/4.19: [6a10f818a9adbe394eb36d223814e207e5121236]
  cip/4.19-rt: [6a10f818a9adbe394eb36d223814e207e5121236]
  cip/4.4: [b8911ed37d0b1de644ee6fc48547d2c6a1c8ae9c]
  cip/4.4-rt: [b8911ed37d0b1de644ee6fc48547d2c6a1c8ae9c]
  cip/4.4-st: [b8911ed37d0b1de644ee6fc48547d2c6a1c8ae9c]
  mainline: [cbbaa2727aa3ae9e0a844803da7cef7fd3b94f2b, c11f83e0626bdc2b6c550fc8b9b6eeefbd8cefaa,
    b07a5c53d42a8c87b208614129e947dd2338ff9c]
  stable/4.19: [6a10f818a9adbe394eb36d223814e207e5121236]
  stable/4.9: [0bc72dbb9dbc2dfa0f975f4b519ae91fa338aec8]
