description: 'KVM: nVMX: unconditionally cancel preemption timer in free_nested'
references:
- https://git.kernel.org/pub/scm/virt/kvm/kvm.git/commit/?id=ecec76885bcfe3294685dc363fd1273df0d5d65f
- https://bugzilla.redhat.com/show_bug.cgi?id=1671904
- https://bugs.chromium.org/p/project-zero/issues/detail?id=1760
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-7221
- https://usn.ubuntu.com/usn/usn-3930-1
- https://usn.ubuntu.com/usn/usn-3930-2
- https://usn.ubuntu.com/usn/usn-3931-1
- https://usn.ubuntu.com/usn/usn-3931-2
- https://usn.ubuntu.com/usn/usn-3932-1
- https://usn.ubuntu.com/usn/usn-3932-2
- https://ubuntu.com/security/notices/USN-3930-1
- https://ubuntu.com/security/notices/USN-3930-2
- https://ubuntu.com/security/notices/USN-3931-1
- https://ubuntu.com/security/notices/USN-3931-2
- https://ubuntu.com/security/notices/USN-3932-1
- https://ubuntu.com/security/notices/USN-3932-2
- https://www.cve.org/CVERecord?id=CVE-2019-7221
comments:
  ubuntu/tyhicks: |-
    Ubuntu kernels do not enable nested KVM virtualization by default and
     are unaffected by this flaw in the default configuration. However, installing
     QEMU results in nested KVM support to be enabled via the
     /etc/modprobe.d/qemu-system-x86.conf file. To ensure that nested
     virtualization is not enabled, verify that the
     /sys/module/kvm_intel/parameters/nested file contains "N".
reporters:
- Jim Mattson
- Felix Wilhelm
introduced-by:
  mainline: [f4124500c2c13eb1208c6143b3f6d469709dea10]
fixed-by:
  aosp/3.18: [8767556995adf9a10b49fb0c2098b7aeb40ee64c]
  cip/4.19: [236fd677125f974aaf39f09074d226a884b4fe0e]
  cip/4.19-rt: [236fd677125f974aaf39f09074d226a884b4fe0e]
  cip/4.4: [9872ddae1949b46d5310e0e71ca26bb5c4e52a70]
  cip/4.4-rt: [9872ddae1949b46d5310e0e71ca26bb5c4e52a70]
  cip/4.4-st: [9872ddae1949b46d5310e0e71ca26bb5c4e52a70]
  debian/buster-security: ['patch:debian/4.19.20-1:bugfix/x86/KVM-nVMX-unconditionally-cancel-preemption-timer-in-.patch']
  debian/jessie-security: ['version:debian/3.16.64-1']
  debian/stretch-security: ['version:debian/4.9.161-1']
  mainline: [ecec76885bcfe3294685dc363fd1273df0d5d65f]
  openela/4.14: [1c965b1b5ecc2c9e1d59b2514cedb6f7483a0241]
  stable/3.16: [69c7b3bb99c621f44fb46c20ccef737e86e1c5c8]
  stable/3.18: [8767556995adf9a10b49fb0c2098b7aeb40ee64c]
  stable/4.14: [1c965b1b5ecc2c9e1d59b2514cedb6f7483a0241]
  stable/4.19: [236fd677125f974aaf39f09074d226a884b4fe0e]
  stable/4.20: [c645d81d70579acbdebbda16f0dc003a9c6d223a]
  stable/4.4: [9872ddae1949b46d5310e0e71ca26bb5c4e52a70]
  stable/4.9: [a2c34d20660f24a40b46d0d341547b84f3fff3b0]
  ubuntu/bionic: [fe1920859fe7cf4a32d5346c5ec4e8adacb4f4a6]
  ubuntu/xenial: [3a4cfe967b9495e4a66355f2569d5c0831564a45]
