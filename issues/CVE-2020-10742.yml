description: NFS client crash due to index buffer overflow during Direct IO write
  causing kernel panic
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=1835127
- https://bugzilla.redhat.com/show_bug.cgi?id=1824270
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10742
- https://bugzilla.suse.com/show_bug.cgi?id=1171984
- https://www.cve.org/CVERecord?id=CVE-2020-10742
comments:
  debian/carnil: |-
    Needs to be checked if this specific to Red Hat or an upstream
    issue.
    Maybe related to 18aad3d552c7 ("NFSv4.1 Refactor
    nfs4_init_session and nfs4_init_channel_attrs") [3.11-rc1] and
    68bf05efb7fa ("nfs41: fix session fore channel negotiation")
    [2.6.33-rc1]?
    Further analysis seem to show that the issue is introduced in
    1763da1234cb ("NFS: rewrite directio write to use async
    coalesce code") and fixed with 91f79c43d1b5 ("new helper:
    iov_iter_get_pages_alloc()").
  ubuntu/sbeattie: reproducer in Red Hat bug 1824270.
reporters:
- Jay Shin
introduced-by:
  mainline: [1763da1234cba663b849476d451bdccac5147859]
fixed-by:
  debian/buster-security: ['version:debian/3.16.2-2']
  debian/jessie-security: ['version:debian/3.16.2-2']
  debian/stretch-security: ['version:debian/3.16.2-2']
  mainline: [91f79c43d1b54d7154b118860d81b39bad07dfff]
  ubuntu/focal: ['version:5.4.0-9.12']
  ubuntu/groovy: ['version:5.4.0-26.30']
