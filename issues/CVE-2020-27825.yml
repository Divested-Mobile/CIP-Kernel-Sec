description: |-
  A use-after-free flaw was found in kernel/trace/ring_buffer.c in Linux
  kernel. There was a race problem in trace_open and resize of cpu buffer
  running parallely on different cpus, may cause a denial of service problem
  (DOS). This flaw could even allow a local attacker with special user
  privilege to a kernel information leak threat.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-27825
- https://github.com/torvalds/linux/commit/bbeb97464eefc65f506084fd9f18f21653e01137#diff-446a57a3a8781d7d3fb410eb7162dd2002dd363bf1ea936c4fd10397660033e0
- https://www.openwall.com/lists/oss-security/2020/12/11/1
- https://bugzilla.redhat.com/show_bug.cgi?id=1905155
- https://lore.kernel.org/linux-arm-msm/20200915141304.41fa7c30@gandalf.local.home/
- https://lore.kernel.org/stable/021b1b38-47ce-bc8b-3867-99160cc85523@linux.com/
- https://lore.kernel.org/stable/20210125142126.70d6a33c@gandalf.local.home/
- https://www.cve.org/CVERecord?id=CVE-2020-27825
comments:
  debian/carnil: |-
    Commit fixes b23d7a5f4a07a ("ring-buffer: speed up buffer
    resets by avoiding synchronize_rcu for each CPU") in v5.9-rc1
    and not backported to other series.
    Actually it is not the cause of the bug but a commit which
    should have been "Depends-on", cf. https://lore.kernel.org/stable/20210121140951.2a554a5e@gandalf.local.home/
  wens: Introduced in v3.5-rc1; fixed in v5.10-rc1.
reporters:
- Adam Zabrocki
introduced-by:
  mainline: [83f40318dab00e3298a1f6d0b12ac025e84e478d]
fixed-by:
  aosp/3.18: [527a3ef53071fee54f051dc055a2a0b19af7e76a]
  cip/4.19: [acfa7ad7b7f6489e2bed20880ce090fdabdbb841]
  cip/4.19-rt: [acfa7ad7b7f6489e2bed20880ce090fdabdbb841]
  cip/4.4: [a7c2dd4438056fb665a376860242463a30f2d2e8]
  cip/4.4-rt: [a7c2dd4438056fb665a376860242463a30f2d2e8]
  cip/4.4-st: [a7c2dd4438056fb665a376860242463a30f2d2e8]
  debian/buster-security: ['patch:debian/4.19.171-1:debian/patches/bugfix/all/tracing-fix-race-in-trace_open-and-buffer-resize-call.patch']
  debian/stretch-security: ['version:debian/4.9.258-1']
  mainline: [bbeb97464eefc65f506084fd9f18f21653e01137]
  openela/4.14: [fdb2310d58812b15f6b460509b43ff0b87e59367]
  stable/4.14: [fdb2310d58812b15f6b460509b43ff0b87e59367]
  stable/4.19: [acfa7ad7b7f6489e2bed20880ce090fdabdbb841]
  stable/4.4: [a7c2dd4438056fb665a376860242463a30f2d2e8]
  stable/4.9: [04f51df12ddaa0e2a38223da00e0d3ed02d62a01]
  stable/5.4: [b899d5b2a42a963d6ca7e33d51a35b2eb25f6d10]
  stable/5.9: [de3d7ff3ec852e455c5924f4c8b1f826496d6705]
  ubuntu/bionic: [0a688de55e14eb957aaf00ca777d80555690f509]
  ubuntu/focal: ['version:5.4.0-9.12']
  ubuntu/groovy: ['version:5.4.0-26.30']
  ubuntu/xenial: [76f0770c5aea1070019c17f18c87273bd9b36d29]
