description: 'gup: document and work around "COW can break either way" issue'
references:
- https://bugs.chromium.org/p/project-zero/issues/detail?id=2045
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-29374
- https://git.kernel.org/linus/17839856fd588f4ab6b789f482ed3ffd7c403e1f
- https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.7.3
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=17839856fd588f4ab6b789f482ed3ffd7c403e1f
- https://usn.ubuntu.com/usn/usn-4748-1
- https://usn.ubuntu.com/usn/usn-4749-1
- https://lore.kernel.org/stable/20210401182125.171484-1-surenb@google.com/
- https://ubuntu.com/security/notices/USN-4748-1
- https://ubuntu.com/security/notices/USN-4749-1
- https://lore.kernel.org/stable/20211012015244.693594-1-surenb@google.com/
- https://www.cve.org/CVERecord?id=CVE-2020-29374
comments:
  debian/bwh: The issue is said to go back to "2.x kernels"
  debian/carnil: |-
    The backport for 4.9.y got reverted in 4.9.298, cf.
    6fbb8383884f2c89f4c7e2c8603b5ed1b90b815f, and then followed by
    0c29640bdecad332b9e2b884217c159f4aeb2556.
  masami: "4.14 and 4.19 were added commit 70b5928 and 294c7a9 to fix bug in get_user_pages_fast(),\
    \ \nwhich need to fix CVE-2020-29374 correctly."
fixed-by:
  cip/4.19: [5e24029791e809d641e9ea46a1f99806484e53fc]
  cip/4.19-rt: [5e24029791e809d641e9ea46a1f99806484e53fc]
  cip/4.4: [58facc9c7ae307be5ecffc1697552550fedb55bd]
  cip/4.4-rt: [58facc9c7ae307be5ecffc1697552550fedb55bd]
  cip/4.4-st: [58facc9c7ae307be5ecffc1697552550fedb55bd]
  debian/buster-security: ['version:debian/4.19.194-1', 'version:debian/4.19.232-1']
  debian/stretch-security: ['patch:debian/4.9.272-1:bugfix/all/gup-document-and-work-around-cow-can-break-either-wa.patch']
  mainline: [17839856fd588f4ab6b789f482ed3ffd7c403e1f]
  stable/4.14: [407faed92b4a4e2ad900d61ea3831dd597640f29, 70b5928f5cd289b2ccf34384ca83b1d9ee7a0fad]
  stable/4.19: [5e24029791e809d641e9ea46a1f99806484e53fc, 294c7a9fb608c29a9e49010b515228e20ccbec8f]
  stable/4.4: [58facc9c7ae307be5ecffc1697552550fedb55bd]
  stable/4.9: [9bbd42e79720122334226afad9ddcac1c3e6d373]
  stable/5.4: [1027dc04f557328eb7b7b7eea48698377a959157]
  ubuntu/bionic: [043cefb06a5c22409ac17436480b392f8d4c6e67]
  ubuntu/focal: [89468d80e987f02f9feca509263423cf71c7a1e2]
  ubuntu/groovy: ['version:5.8.0-16.17']
  ubuntu/xenial: [82147d0986f9dc82a1e186afe0041054070f00d3]
