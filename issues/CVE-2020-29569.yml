description: Use after free triggered by block frontend in Linux blkback
references:
- https://xenbits.xen.org/xsa/advisory-350.html
- https://lore.kernel.org/lkml/20201215122606.6874-1-jgross@suse.com/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-29569
- https://usn.ubuntu.com/usn/usn-4749-1
- https://usn.ubuntu.com/usn/usn-4750-1
- https://usn.ubuntu.com/usn/usn-4751-1
- https://usn.ubuntu.com/usn/usn-4876-1
- https://ubuntu.com/security/notices/USN-4749-1
- https://ubuntu.com/security/notices/USN-4750-1
- https://ubuntu.com/security/notices/USN-4751-1
- https://ubuntu.com/security/notices/USN-4876-1
- https://www.cve.org/CVERecord?id=CVE-2020-29569
comments:
  debian/carnil: |-
    Introduced due a24fa22ce22a ("xen/blkback: don't use
    xen_blkif_get() in xen-blkback kthread") in 4.12-rc1 and
    backported to 4.9.36.
  wens: Introduced in v4.12-rc7, but was backported to v4.4 and v4.9; fixed in v5.11-rc1.
reporters:
- Olivier Benjamin
- Pawel Wieczorkiewicz
introduced-by:
  aosp/3.18: [641236ffae59ae072c67c5a76faad75927867c86]
  cip/4.4: [366f50133bb66bb368fb933c90f2dd2b07d35162]
  cip/4.4-rt: [366f50133bb66bb368fb933c90f2dd2b07d35162]
  cip/4.4-st: [366f50133bb66bb368fb933c90f2dd2b07d35162]
  mainline: [a24fa22ce22ae302b3bf8f7008896d52d5d57b8d]
  stable/4.4: [366f50133bb66bb368fb933c90f2dd2b07d35162]
  stable/4.9: [8dc9f9dede5b92658a1bb32866e11905933d2b48]
  ubuntu/xenial: [a8dc54282ace9783159c568ddf52ac26711008ec]
fixed-by:
  aosp/3.18: [200c9dbe71bf181f4200deb2f1f4e74f8ab35504]
  cip/4.19: [014ee1c7d184acb8986152014a570ba7c69d3616]
  cip/4.19-rt: [014ee1c7d184acb8986152014a570ba7c69d3616]
  cip/4.4: [241862be0e70ed1d5cd44ebe399a8375f8b90fa9]
  cip/4.4-rt: [241862be0e70ed1d5cd44ebe399a8375f8b90fa9]
  cip/4.4-st: [241862be0e70ed1d5cd44ebe399a8375f8b90fa9]
  cip/5.10: [aadd67750f43132177138fcd56ebc60aeb06228a]
  cip/5.10-rt: [aadd67750f43132177138fcd56ebc60aeb06228a]
  debian/buster-security: ['version:debian/4.19.171-1']
  debian/stretch-security: ['version:debian/4.9.258-1']
  mainline: [1c728719a4da6e654afb9cc047164755072ed7c9]
  stable/4.14: [62afce1adda51bd9d033dbec1dfe413891021bae]
  stable/4.19: [014ee1c7d184acb8986152014a570ba7c69d3616]
  stable/4.4: [241862be0e70ed1d5cd44ebe399a8375f8b90fa9]
  stable/4.9: [d67091e9d6ee81543344613927ea3516980ffc3f]
  stable/5.10: [aadd67750f43132177138fcd56ebc60aeb06228a]
  stable/5.4: [8f3f6de44f7cc93a4723e63ea4381332826a6790]
  ubuntu/bionic: [07622479e3cb1ab1c5a883f8519ee1c616d56365]
  ubuntu/focal: [fa96f026963b7189ed8e29621576ee1c30460ce1]
  ubuntu/groovy: [ef561d60092f2360742a1f1722126d5556741158]
  ubuntu/xenial: [96ee3c1553c7afe86539bd9d8857945732407b46]
ignore:
  cip/4.19: No member enables XEN_BLKDEV_BACKEND
  cip/4.19-rt: No member enables XEN_BLKDEV_BACKEND
  cip/4.4: No member enables XEN_BLKDEV_BACKEND
  cip/4.4-rt: No member enables XEN_BLKDEV_BACKEND
  cip/5.10: No member enables XEN_BLKDEV_BACKEND
  cip/5.10-rt: No member enables XEN_BLKDEV_BACKEND
