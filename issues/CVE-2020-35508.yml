description: fix copy_process(CLONE_PARENT) race with the exiting ->real_parent
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-35508
- https://bugzilla.redhat.com/show_bug.cgi?id=1902724
- https://github.com/torvalds/linux/commit/b4e00444cab4c3f3fec876dc0cccc8cbb0d1a948
- https://lore.kernel.org/kernel-hardening/20200324215049.GA3710@pi3.com.pl/
- https://mailman-eng.corp.redhat.com/archives/rhkernel-list/2020-December/498644.html
- https://usn.ubuntu.com/usn/usn-4751-1
- https://usn.ubuntu.com/usn/usn-4752-1
- https://ubuntu.com/security/notices/USN-4751-1
- https://ubuntu.com/security/notices/USN-4752-1
- https://www.cve.org/CVERecord?id=CVE-2020-35508
comments:
  ubuntu/mdeslaur: |-
    possibly Red Hat specific, but bug lists upstream
    commits, needs investigation
  ubuntu/sbeattie: |-
    The upstream commit is with respect to the race condition,
     not the improper initialization.
  wens: Fixed in v5.10-rc3.
reporters:
- Eddy Wu
introduced-by:
  mainline: [5f8aadd8b9966d71a77bba52b9d499cc2f38269f]
fixed-by:
  aosp/3.18: [d2be46a2265c742053cee1ef4faa17003c77c696]
  cip/4.19: [b177d2d915cea2d0a590f0034a20299dd1ee3ef2]
  cip/4.19-rt: [b177d2d915cea2d0a590f0034a20299dd1ee3ef2]
  cip/4.4: [33175e2d8fdf7b07be9691ee7747a3982dcf52cd]
  cip/4.4-rt: [33175e2d8fdf7b07be9691ee7747a3982dcf52cd]
  cip/4.4-st: [33175e2d8fdf7b07be9691ee7747a3982dcf52cd]
  debian/buster-security: ['version:debian/4.19.160-1']
  debian/stretch-security: ['version:debian/4.9.246-1']
  mainline: [b4e00444cab4c3f3fec876dc0cccc8cbb0d1a948]
  openela/4.14: [ee55b8c6bf4d59c7b82079b8a7d67597bb3a5539]
  stable/4.14: [ee55b8c6bf4d59c7b82079b8a7d67597bb3a5539]
  stable/4.19: [b177d2d915cea2d0a590f0034a20299dd1ee3ef2]
  stable/4.4: [33175e2d8fdf7b07be9691ee7747a3982dcf52cd]
  stable/4.9: [66be43d81870c55637c2f32d8088d7184e93262a]
  stable/5.4: [beeb658cfd3544ceca894375c36b6572e4ae7a5f]
  ubuntu/bionic: [43f074a256863d4c553a882f073e9f2bea102987]
  ubuntu/focal: [4c9aa6b1d8977b87d45e39dea39611ecd5fc784e]
  ubuntu/groovy: [ff65f0d422e2d26b5df5d97aa299b84ad4efe0fe]
  ubuntu/xenial: [956ce8ad95bc53bf47090539198d1a189d532c21]
