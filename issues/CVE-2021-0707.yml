description: 'dmabuf: fix use-after-free of dmabuf''s file->f_inode'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-0707
- https://git.kernel.org/linus/05cd84691eafcd7959a1e120d5e72c0dd98c5d91
- https://source.android.com/security/bulletin/2022-04-01
- https://source.android.com/security/bulletin/2022-04-01#kernel-components
- https://www.cve.org/CVERecord?id=CVE-2021-0707
comments:
  debian/carnil: |-
    Commit fixes 4ab59c3c638c ("dma-buf: Move dma_buf_release()
    from fops to dentry_ops") in 5.8-rc1 (but backported as well to
    5.7.8 and 5.4.51).
  masami: |-
    The commit 4ab59c3 ("dma-buf: Move dma_buf_release() from fops to
    dentry_ops") fixes bb2bb90 ("dma-buf: add DMA_BUF_SET_NAME ioctls")
    which was merged in 5.3-rc1. Therefore, kernel 4.4, 4.9, and 4.19 are
    not affected by this vulnerability.
introduced-by:
  mainline: [4ab59c3c638c6c8952bf07739805d20eb6358a4d]
  stable/5.4: [7ba23593cbc53aec35535c7dca3e9354d819bafe]
  ubuntu/focal: [d0e99d7c5e289c6a4161d912c482ba270338e701]
fixed-by:
  cip/5.10: [a19dae4254c434a1ac8937a809fe08fd15ad3be5]
  cip/5.10-rt: [a19dae4254c434a1ac8937a809fe08fd15ad3be5]
  mainline: [05cd84691eafcd7959a1e120d5e72c0dd98c5d91]
  stable/5.10: [a19dae4254c434a1ac8937a809fe08fd15ad3be5]
  stable/5.4: [ef8133b1b47ed67873c291e9248fafd428d1767d]
  ubuntu/focal: [a01a4182dccdfa51b8d87d8e95cf1b8f8a8014bb]
  ubuntu/groovy: [6a5132629fbcbe130e4029345f501321201b5573]
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
