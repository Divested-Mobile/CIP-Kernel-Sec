description: netback fails to honor grant mapping errors
references:
- https://xenbits.xen.org/xsa/advisory-367.html
- https://lore.kernel.org/lkml/20210304110053.8787-1-jgross@suse.com/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28038
- http://www.openwall.com/lists/oss-security/2021/03/05/1
- http://xenbits.xen.org/xsa/advisory-367.html
- https://usn.ubuntu.com/usn/usn-4904-1
- https://usn.ubuntu.com/usn/usn-4911-1
- https://usn.ubuntu.com/usn/usn-4945-1
- https://usn.ubuntu.com/usn/usn-4946-1
- https://usn.ubuntu.com/usn/usn-4945-2
- https://ubuntu.com/security/notices/USN-4904-1
- https://ubuntu.com/security/notices/USN-4911-1
- https://ubuntu.com/security/notices/USN-4945-1
- https://ubuntu.com/security/notices/USN-4946-1
- https://ubuntu.com/security/notices/USN-4945-2
- https://ubuntu.com/security/notices/USN-4984-1
- https://www.cve.org/CVERecord?id=CVE-2021-28038
comments:
  ubuntu/sbeattie: |-
    kernels where the fix for CVE-2021-26931 had not landed yet
      are not affected by this issue.
reporters:
- Jan Beulich
introduced-by:
  cip/4.19: [820c4db2be4ec179210b5c69103a5b2858513e8a, 271a3984f73c485f4c1b796a61cc5bd3994a0463,
    717faa776ca2163119239ea58bb78c4d732d8a4f]
  cip/4.19-rt: [820c4db2be4ec179210b5c69103a5b2858513e8a, 271a3984f73c485f4c1b796a61cc5bd3994a0463,
    717faa776ca2163119239ea58bb78c4d732d8a4f]
  cip/4.4: [820c4db2be4ec179210b5c69103a5b2858513e8a, 57fbd8f535fb781f0547775097671c48c9485e79,
    376d77579e033ab511dfbfa8d61ad29671681358]
  cip/4.4-rt: [820c4db2be4ec179210b5c69103a5b2858513e8a, 57fbd8f535fb781f0547775097671c48c9485e79,
    376d77579e033ab511dfbfa8d61ad29671681358]
  cip/4.4-st: [820c4db2be4ec179210b5c69103a5b2858513e8a, 57fbd8f535fb781f0547775097671c48c9485e79,
    376d77579e033ab511dfbfa8d61ad29671681358]
  cip/5.10: [820c4db2be4ec179210b5c69103a5b2858513e8a, 0462dbbe2cab43528f943575b510625cf422921a,
    2814b3aa38a679c63aa535355b02a5bd0f681a83]
  cip/5.10-rt: [820c4db2be4ec179210b5c69103a5b2858513e8a, 0462dbbe2cab43528f943575b510625cf422921a,
    2814b3aa38a679c63aa535355b02a5bd0f681a83]
  mainline: [820c4db2be4ec179210b5c69103a5b2858513e8a, 36bf1dfb8b266e089afa9b7b984217f17027bf35,
    3194a1746e8aabe86075fd3c5e7cf1f4632d7f16]
  openela/4.14: [820c4db2be4ec179210b5c69103a5b2858513e8a, 4514b5e3445540384fd647ce26afae2300274c6a,
    9ca595810e8fbc541c388abdb4d2ed9ef20a2e06]
  stable/4.14: [820c4db2be4ec179210b5c69103a5b2858513e8a, 4514b5e3445540384fd647ce26afae2300274c6a,
    9ca595810e8fbc541c388abdb4d2ed9ef20a2e06]
  stable/4.19: [820c4db2be4ec179210b5c69103a5b2858513e8a, 271a3984f73c485f4c1b796a61cc5bd3994a0463,
    717faa776ca2163119239ea58bb78c4d732d8a4f]
  stable/4.4: [820c4db2be4ec179210b5c69103a5b2858513e8a, 57fbd8f535fb781f0547775097671c48c9485e79,
    376d77579e033ab511dfbfa8d61ad29671681358]
  stable/4.9: [820c4db2be4ec179210b5c69103a5b2858513e8a, 06897d9dcc0d3194044815af13252886ecb39c3b,
    a0e570acdb610f2cbe345a32ddbdf941644131b1]
  stable/5.10: [820c4db2be4ec179210b5c69103a5b2858513e8a, 0462dbbe2cab43528f943575b510625cf422921a,
    2814b3aa38a679c63aa535355b02a5bd0f681a83]
  stable/5.11: [820c4db2be4ec179210b5c69103a5b2858513e8a, b02356a0f7e41a16d6e43c419c7cf7adb0b1403a,
    c87e9ee18fd9697b489fbb9a0be56ba2902bc048]
  stable/5.4: [820c4db2be4ec179210b5c69103a5b2858513e8a, 55ccf71c098579287da7cdfa4383f4485106bc27,
    52e8f43af5407af6761421d30826ca48cf1585b9]
  ubuntu/bionic: [820c4db2be4ec179210b5c69103a5b2858513e8a, c8692a0187d44c4779f61c43bf49bcbf5bd273e0,
    382c22c2e02fd2ded4a6054899bed9cd1d20b1ee]
  ubuntu/focal: [820c4db2be4ec179210b5c69103a5b2858513e8a, 613adaafbaadf023a4161ff50167c46140c8c1bc,
    625a1a96e7b3d25d6213a7864cc1d95d62fa448d]
  ubuntu/groovy: [820c4db2be4ec179210b5c69103a5b2858513e8a, 0d29e4f7294935ab6c1eefe477fc67e27d01a59e,
    c3df26fc85c151d8959fdaf13dbab4da4dda6d01]
  ubuntu/xenial: [820c4db2be4ec179210b5c69103a5b2858513e8a, b66b2433e5e39c287139a42d4d31fdfc09de5c8a,
    4952a708284e5d1f77d5238cfd036c41958267bf]
fixed-by:
  cip/4.19: [1a999d25ef536a14f6a7c25778836857adfba3f8, b62d8b5c814be957ce164453ddf4852167908841]
  cip/4.19-rt: [1a999d25ef536a14f6a7c25778836857adfba3f8, b62d8b5c814be957ce164453ddf4852167908841]
  cip/4.4: [f2c9673ce689801ef3bee517013b0c9b94dd14fa, 3a820acd9c026da0400a93b3ff000acc79cdcfb6]
  cip/4.4-rt: [f2c9673ce689801ef3bee517013b0c9b94dd14fa, 3a820acd9c026da0400a93b3ff000acc79cdcfb6]
  cip/4.4-st: [f2c9673ce689801ef3bee517013b0c9b94dd14fa, 3a820acd9c026da0400a93b3ff000acc79cdcfb6]
  cip/5.10: [545c837d6789afcb23da5494a22e459952fb823f, fa00c0c826ddea48e0dc9c7944506dd67a7be6d2]
  cip/5.10-rt: [545c837d6789afcb23da5494a22e459952fb823f, fa00c0c826ddea48e0dc9c7944506dd67a7be6d2]
  debian/buster-security: ['version:debian/4.19.181-1']
  debian/stretch-security: ['patch:debian/4.9.258-1:bugfix/all/xen-gnttab-handle-p2m-update-errors-on-a-per-slot-ba.patch',
    'patch:debian/4.9.258-1:bugfix/all/xen-netback-respect-gnttab_map_refs-s-return-value.patch']
  mainline: [8310b77b48c5558c140e7a57a702e7819e62f04e, 2991397d23ec597405b116d96de3813420bdcbc3]
  openela/4.14: [893a88ea0ee11a1f5e2279cad3c0ed7736187288, 2509093effe088ec30e09d064a583574626e06d1]
  stable/4.14: [893a88ea0ee11a1f5e2279cad3c0ed7736187288, 2509093effe088ec30e09d064a583574626e06d1]
  stable/4.19: [1a999d25ef536a14f6a7c25778836857adfba3f8, b62d8b5c814be957ce164453ddf4852167908841]
  stable/4.4: [f2c9673ce689801ef3bee517013b0c9b94dd14fa, 3a820acd9c026da0400a93b3ff000acc79cdcfb6]
  stable/4.9: [d1ae0cfd1fab27d170caf905e519198cb144d523, 2154a1c60be3ccf59b62af636acd2aa44a531432]
  stable/5.10: [545c837d6789afcb23da5494a22e459952fb823f, fa00c0c826ddea48e0dc9c7944506dd67a7be6d2]
  stable/5.11: [267c4911c9114e6e30be52546bf62a624a814da4, abb72481014dcff91b162094284c509ae4c02588]
  stable/5.4: [474773c42ffd89f7606b54443990ccf5086a4734, f038a22632a4cb6b4db521b945469270c994f75b]
  ubuntu/bionic: [015f67b4f467b605e30ff3b1ad8ca248a68fdd21, 6e1ef11f8bc29deee47227ea815d97ec2df0eae5]
  ubuntu/focal: [1cb82f97a248665ebf04c31ea18df495f0f24da8, 0a877124cfce9aaf2672cea995a9fea11354879a]
  ubuntu/groovy: [4055c9571d7475f8d3ab285576109b4dfdd1cff8, 640c17e60a1074a9d386e4229643553bcbe5df00]
  ubuntu/xenial: [0204447c386931badbe6306002b1badad8a2b153, 5053e172f8a0ba88d1c8b36f3ad1779600ee5aee]
