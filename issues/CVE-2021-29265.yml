description: 'usbip: fix stub_dev usbip_sockfd_store() races leading to gpf'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-29265
- https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.11.7
- https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9380afd6df70e24eacbdbde33afc6a3950965d22
- https://usn.ubuntu.com/usn/usn-4945-1
- https://usn.ubuntu.com/usn/usn-4946-1
- https://usn.ubuntu.com/usn/usn-4949-1
- https://usn.ubuntu.com/usn/usn-4945-2
- https://ubuntu.com/security/notices/USN-4945-1
- https://ubuntu.com/security/notices/USN-4946-1
- https://ubuntu.com/security/notices/USN-4949-1
- https://ubuntu.com/security/notices/USN-4945-2
- https://www.cve.org/CVERecord?id=CVE-2021-29265
comments:
  wens: Introduced in v2.6.39-rc1; fixed in v5.12-rc3.
introduced-by:
  mainline: [9720b4bc76a83807c68e00c62bfba575251bb73e]
fixed-by:
  aosp/3.18: [d9f0b1605b12fd62eb66751ac030aab3f321a15a]
  cip/4.19: [c6b0ca71d3cd561decd39c1c4132c2d10a496e1a]
  cip/4.19-rt: [c6b0ca71d3cd561decd39c1c4132c2d10a496e1a]
  cip/4.4: [9ee196f307ec006cac386a0d8b7935dd2ccd0083]
  cip/4.4-rt: [9ee196f307ec006cac386a0d8b7935dd2ccd0083]
  cip/4.4-st: [9ee196f307ec006cac386a0d8b7935dd2ccd0083]
  cip/5.10: [ab5c3186686aa87c741381d10a948817f1deb9b2]
  cip/5.10-rt: [ab5c3186686aa87c741381d10a948817f1deb9b2]
  debian/buster-security: ['version:debian/4.19.181-1']
  debian/stretch-security: ['version:debian/4.9.272-1']
  mainline: [9380afd6df70e24eacbdbde33afc6a3950965d22]
  openela/4.14: [04f879ba79b056041972122c1dc597b79d2464e5]
  stable/4.14: [04f879ba79b056041972122c1dc597b79d2464e5]
  stable/4.19: [c6b0ca71d3cd561decd39c1c4132c2d10a496e1a]
  stable/4.4: [9ee196f307ec006cac386a0d8b7935dd2ccd0083]
  stable/4.9: [bce53f0b8e90d2821ec5fa14689949a025e8b63d]
  stable/5.10: [ab5c3186686aa87c741381d10a948817f1deb9b2]
  stable/5.11: [f11d195b505d47d0442c59981efa41c47d0a8c9c]
  stable/5.4: [8698133003cfb67e0f04dd044c954198e421b152]
  ubuntu/bionic: [763f31715f00d50749a5ca2f3a77338b6ec8251c]
  ubuntu/focal: [9c1a1e3b2ee58f29228c13f4d3949cbe991ce073]
  ubuntu/groovy: [5a4732a1cb0ad704df310a9e1352e138e10d34d4]
  ubuntu/xenial: [113cf1e5ce795e872c0671fcbf383bd581791a45]
ignore:
  cip/4.19: No member enables USBIP
  cip/4.19-rt: No member enables USBIP
  cip/4.4: No member enables USBIP
  cip/4.4-rt: No member enables USBIP
  cip/5.10: No member enables USBIP
  cip/5.10-rt: No member enables USBIP
