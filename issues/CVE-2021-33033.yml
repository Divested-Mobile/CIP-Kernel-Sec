description: 'cipso,calipso: resolve a number of problems with the DOI refcounts'
references:
- https://sites.google.com/view/syzscope/kasan-use-after-free-read-in-cipso_v4_genopt
- https://syzkaller.appspot.com/bug?id=96e7d345748d8814901c91cd92084ed04b46701e
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-33033
- https://git.kernel.org/linus/ad5d07f4a9cd671233ae20983848874731102c08
- https://git.kernel.org/linus/1165affd484889d4986cf3b724318935a0b120d8
- https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.11.14
- https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.11.7
comments:
  debian/carnil: |-
    First commit required landed in 4.19.181, 5.10.24, 5.12-rc3.
    Second one in 4.19.187, 5.10.30, 5.12-rc7.
  ubuntu/sbeattie: |-
    looks to be introduced primarily in d7cce01504a0
    1165affd484889d4986cf3b724318935a0b120d8 seems like an unrelated
      separate issue?
  wens: Introduced in v2.6.28-rc1 and v4.8-rc1; fixed in v5.12-rc3.
introduced-by:
  mainline: [b1edeb102397546438ab4624489c6ccd7b410d97, d7cce01504a0ccb95b5007d846560cfccbc1947f]
fixed-by:
  cip/4.19: [a44af1c69737f9e64d5134c34eb9d5c4c2e04da1, c166c0f5311dc9de687b8985574a5ee5166d367e]
  mainline: [ad5d07f4a9cd671233ae20983848874731102c08, 1165affd484889d4986cf3b724318935a0b120d8]
  stable/4.14: [ab44f7317c16ddcf9ee12ba2aca60771266c2dc6, d103fd20f0539e2bd615ed6f6159537cb7e2c5ba]
  stable/4.19: [a44af1c69737f9e64d5134c34eb9d5c4c2e04da1, c166c0f5311dc9de687b8985574a5ee5166d367e]
  stable/5.10: [85178d76febd30a745b7d947dbd9751919d0fa5b, 38731bbcd9f0bb8228baaed5feb4a1f76530e49c]
  stable/5.11: [00d566df2cceb8591913b3ea3b43d2918915f7e3, 743c9072afafd1919b41ae319044513ed014a58f]
  stable/5.4: [b4800e7a1c9f80a1a0e417ab36a1da4959f8b399, 38ea2b3ed00fb4632a706f2c796d6aa4a884f573]
  ubuntu/bionic: [c2862f4b448bbd2492427ee7ad0530a640735ce0, 180571d48d495734825a159de08714dcf0c482aa]
  ubuntu/focal: [893e092f599947a87f6634799abf668d405a58fa, 774e5288e2326e45c92ea22e8bb6218840c60e80]
  ubuntu/groovy: [d0e918b8f422d2c5b9970beaf5ef4b8e46b0995a, 58fd8987765ca8ac594ed8c847f2670134f5faee]
