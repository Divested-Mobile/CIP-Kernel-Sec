description: 'nitro_enclaves: Fix stale file descriptors on failed usercopy'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=1953022
- https://lore.kernel.org/lkml/20210429165941.27020-2-andraprs@amazon.com/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3543
- https://git.kernel.org/linus/f1ce3986baa62cffc3c5be156994de87524bab99
- https://ubuntu.com/security/notices/USN-4997-1
- https://ubuntu.com/security/notices/USN-5001-1
- https://ubuntu.com/security/notices/USN-4997-2
- https://www.cve.org/CVERecord?id=CVE-2021-3543
comments:
  debian/carnil: NITRO_ENCLAVES not enabled in Debian binary builds.
  wens: Introduced in v5.10-rc1; fixed in v5.13-rc1.
introduced-by:
  mainline: [38907e124088b2f5b176acdf3d89926c09d3206a]
fixed-by:
  cip/5.10: [ed9cfd60c7875b0597e672e89c0bad09a88307d2]
  cip/5.10-rt: [ed9cfd60c7875b0597e672e89c0bad09a88307d2]
  mainline: [f1ce3986baa62cffc3c5be156994de87524bab99]
  stable/5.10: [ed9cfd60c7875b0597e672e89c0bad09a88307d2]
  stable/5.11: [5f4a8ccfc15c1498d897139e5dbff82a35005144]
  stable/5.12: [3494c68d79cbb7ddff88fd35e0796343ef736606]
  ubuntu/focal: ['version:5.4.0-9.12']
  ubuntu/groovy: ['version:5.4.0-26.30']
ignore:
  cip/linux-4.19: No member uses Nitro Enclaves
  cip/linux-4.19-rt: No member uses Nitro Enclaves
  cip/linux-4.4: No member uses Nitro Enclaves
  cip/linux-4.4-rt: No member uses Nitro Enclaves
  cip/linux-5.10: No member uses Nitro Enclaves
  cip/linux-5.10-rt: No member uses Nitro Enclaves
