description: 'net: hso: do not call unregister if not registered'
references:
- https://www.spinics.net/lists/linux-usb/msg202228.html
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-37159
- https://lore.kernel.org/linux-usb/20201002114323.GA3296553@kroah.com/
- https://lore.kernel.org/stable/20210928151544.270412-1-ovidiu.panait@windriver.com/
- https://lore.kernel.org/stable/20210928143001.202223-1-ovidiu.panait@windriver.com/
- https://lore.kernel.org/stable/20210928131523.2314252-1-ovidiu.panait@windriver.com/
- https://ubuntu.com/security/CVE-2021-37159
- https://bugzilla.suse.com/show_bug.cgi?id=1188601
- https://ubuntu.com/security/notices/USN-5092-1
- https://ubuntu.com/security/notices/USN-5092-2
- https://ubuntu.com/security/notices/USN-5096-1
comments:
  debian/carnil: |-
    The original patch was not accepted:
    https://www.spinics.net/lists/linux-usb/msg202313.html
    and a fix probably never applied. Needs closer investigation.
    The last commit is just a cleanup and not strictly necessary for the fix.
    5fcfb6d0bfcd ("hso: fix bailout in error case of probe") can be considered
    a pre-requisite. This would be consistent with e.g. Ubuntu's triaging for
    CVE-2021-37159 and SUSEs.
  masami: CIP kernels aren't use HSO configs.
fixed-by:
  mainline: [a6ecfb39ba9d7316057cea823b196b734f6b18ca]
  stable/5.10: [115e4f5b64ae8d9dd933167cafe2070aaac45849]
  stable/5.13: [eeaa4b8d1e2e6f10362673d283a97dccc7275afa]
