description: 'btrfs: fix NULL pointer dereference when deleting device by invalid
  id'
references:
- https://www.openwall.com/lists/oss-security/2021/08/25/3
- https://lore.kernel.org/linux-btrfs/CAFcO6XO5TC5sEo-C9JGC75JkNAzkOSSLA3a=bwQqXFFbRTZ7Gw@mail.gmail.com/T/#md4b850f33616b7364f86e6fed144abc925f3669c
- https://lore.kernel.org/linux-btrfs/20210806102415.304717-1-wqu@suse.com/T/#u
- https://bugzilla.redhat.com/show_bug.cgi?id=1997958
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3739
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e4571b8c5e9ffa1e85c0c671995bd4dcc5c75091
- https://ubuntu.com/security/notices/USN-5113-1
- https://ubuntu.com/security/notices/USN-5115-1
- https://ubuntu.com/security/notices/USN-5117-1
- https://ubuntu.com/security/notices/USN-5137-1
- https://ubuntu.com/security/notices/USN-5137-2
- https://www.cve.org/CVERecord?id=CVE-2021-3739
comments:
  debian/carnil: |-
    Commit fixes a27a94c2b0c7 ("btrfs: Make
    btrfs_find_device_by_devspec return btrfs_device directly") in
    4.20-rc1.
  masami: before 4.20-rc1 kernels aren't affected this vulinerability.
reporters:
- butt3rflyh4ck
introduced-by:
  mainline: [a27a94c2b0c727517c17cf2ca3a9f7291caadfbc]
fixed-by:
  cip/5.10: [c43add24dffdbac269d5610465ced70cfc1bad9e]
  cip/5.10-rt: [c43add24dffdbac269d5610465ced70cfc1bad9e]
  mainline: [e4571b8c5e9ffa1e85c0c671995bd4dcc5c75091]
  stable/5.10: [c43add24dffdbac269d5610465ced70cfc1bad9e]
  stable/5.13: [301aabe0239f227818622096be7e180fcdbedf80]
  stable/5.14: [734dabfb6918d399024063c9db9093a83f804ce5]
  stable/5.4: [d7f7eca72ecc08f0bb6897fda2290293fca63068]
  ubuntu/focal: [9d3eecb608564a5ff672405392ba2d35f531cadc]
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  stable/4.19: Not affected
  stable/4.4: Not affected
