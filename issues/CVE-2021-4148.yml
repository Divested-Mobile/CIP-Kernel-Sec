description: Improper implementation of block_invalidatepage() allows users to crash
  the kernel
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2026487
- https://lkml.org/lkml/2021/9/17/1037
- https://lkml.org/lkml/2021/9/12/323
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4148
- https://lore.kernel.org/linux-mm/a07564a3-b2fc-9ffe-3ace-3f276075ea5c@google.com/
- https://lore.kernel.org/lkml/CACkBjsYwLYLRmX8GpsDpMthagWOjWWrNxqY6ZLNQVr6yx+f5vA@mail.gmail.com/
- https://lore.kernel.org/lkml/CAHbLzkrdGva2dzO36r62LKv_ip5trbMK0BO3vCeSBk2_7OE-zA@mail.gmail.com/
- https://bugzilla.suse.com/show_bug.cgi?id=1193983
comments:
  debian/bwh: |-
    Introduced in 5.4 by commit 99cb0dbd47a1 "mm,thp: add read-only THP
    support for (non-shmem) FS".
  ubuntu/sbeattie: |-
    reproducer links in second lore email
    likely introduced in eb6ecbed0aa2 (v5.14)
    no fix upstream as of 2022.02.11
reporters:
- Hao Sun
introduced-by:
  mainline: [99cb0dbd47a15d395bf3faa78dc122bc5efe3fc0]
fixed-by:
  cip/5.10: [6d67b2a73b8e3a079c355bab3c1aef7d85a044b8]
  cip/5.10-rt: [6d67b2a73b8e3a079c355bab3c1aef7d85a044b8]
  mainline: [a4aeaa06d45e90f9b279f0b09de84bd00006e733]
  stable/5.10: [6d67b2a73b8e3a079c355bab3c1aef7d85a044b8]
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  stable/4.19: Not affected
  stable/4.4: Not affected
  stable/4.9: Not affected
