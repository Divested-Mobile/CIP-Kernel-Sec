description: Improper lock operation in btrfs
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2026485
- https://lkml.org/lkml/2021/10/18/885
- https://lkml.org/lkml/2021/9/13/2565
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4149
- https://git.kernel.org/linus/19ea40dddf1833db868533958ca066f368862211
- https://ubuntu.com/security/notices/USN-5466-1
- https://ubuntu.com/security/notices/USN-6001-1
- https://ubuntu.com/security/notices/USN-6013-1
- https://ubuntu.com/security/notices/USN-6014-1
- https://www.cve.org/CVERecord?id=CVE-2021-4149
comments:
  debian/bwh: |-
    Commit message says the fix is applicable to 5.4 onward,
    but earlier versions seem to have the same bug.
  masami: This pacth can be applied to 4.4.
reporters:
- Hao Sun
introduced-by:
  mainline: [67b7859e9bfa0dcee5a8256932e393e98739be1b]
fixed-by:
  cip/4.19: [73d55fa1b9310573f623195a4f7ab3170bbaf248]
  cip/4.19-rt: [73d55fa1b9310573f623195a4f7ab3170bbaf248]
  cip/4.4: [36f1706fa70dc68ec69540eeb5a48c26498672a3]
  cip/4.4-rt: [36f1706fa70dc68ec69540eeb5a48c26498672a3]
  cip/4.4-st: [36f1706fa70dc68ec69540eeb5a48c26498672a3]
  cip/5.10: [206868a5b6c14adc4098dd3210a2f7510d97a670]
  cip/5.10-rt: [206868a5b6c14adc4098dd3210a2f7510d97a670]
  debian/buster-security: ['version:debian/4.19.235-1']
  debian/stretch-security: ['version:debian/4.9.320-2']
  mainline: [19ea40dddf1833db868533958ca066f368862211]
  stable/4.14: [e0956dd95ddd6b02b7eb084d127b926a509ae8e7]
  stable/4.19: [73d55fa1b9310573f623195a4f7ab3170bbaf248]
  stable/4.9: [43bfa08ba62a1ca7a22365c7092e491e04327efb]
  stable/5.10: [206868a5b6c14adc4098dd3210a2f7510d97a670]
  stable/5.4: [005a07c9acd6cf8a40555884f0650dfd4ec23fbe]
  ubuntu/bionic: [c10982c86c34307114f5c40d158e04dce760e4e0]
  ubuntu/focal: [d1866774f0ef5d586ed62017838dd89869fe5dbb]
