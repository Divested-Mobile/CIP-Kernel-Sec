description: Block subsystem mishandles reference counts
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2025938
- https://lkml.org/lkml/2021/9/6/781
- https://lkml.org/lkml/2021/10/18/485
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4150
- https://git.kernel.org/linus/9fbfabfda25d8774c5a08634fdd2da000a924890
- https://www.cve.org/CVERecord?id=CVE-2021-4150
comments:
  debian/bwh: |-
    Introduced in 5.15-rc1 by commit 9d3b8813895d "block: change the
    refcounting for partitions", so never appeared in a stable release.
  masami: "out_put_disk label was added by commit 9d3b881 (\"block: change the refcounting\
    \ for \npartitions\") since 5.15-rc1. So it looks before 5.15 kernel doesn't affect\
    \ this issue."
reporters:
- Hao Sun
introduced-by:
  mainline: [9d3b8813895d737fcef4ec8df518f67e5cc381b8]
fixed-by:
  mainline: [9fbfabfda25d8774c5a08634fdd2da000a924890]
  ubuntu/focal: ['version:5.4.0-9.12']
ignore:
  cip/4.19: never
  cip/4.19-rt: never
  cip/4.4: never
  cip/4.4-rt: never
  cip/5.10: never
  cip/5.10-rt: never
  stable/4.10: never
  stable/4.14: never
  stable/4.9: never
  stable/5.10: never
  stable/5.4: never
