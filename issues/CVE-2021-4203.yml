description: 'af_unix: fix races in sk_peer_pid and sk_peer_cred accesses'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2036934
- https://lore.kernel.org/netdev/20210929225750.2548112-1-eric.dumazet@gmail.com/T/
- https://bugs.chromium.org/p/project-zero/issues/detail?id=2230
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4203
- https://git.kernel.org/linus/35306eb23814444bd4021f8a1c3047d3cb0c8b2b
- https://ubuntu.com/security/notices/USN-6001-1
- https://ubuntu.com/security/notices/USN-6013-1
- https://ubuntu.com/security/notices/USN-6014-1
- https://www.cve.org/CVERecord?id=CVE-2021-4203
comments:
  debian/carnil: |-
    Commit fixes 109f6e39fa07 ("af_unix: Allow SO_PEERCRED to work
    across namespaces.").
reporters:
- Jann Horn
introduced-by:
  mainline: [109f6e39fa07c48f580125f531f46cb7c245b528]
fixed-by:
  cip/4.19: [0512a9aede6e4417c4fa6e0042a7ca8bc7e06b86]
  cip/4.19-rt: [0512a9aede6e4417c4fa6e0042a7ca8bc7e06b86]
  cip/4.4: [323f0968a81b082cf02ef15b447cd35e4328385e]
  cip/4.4-rt: [323f0968a81b082cf02ef15b447cd35e4328385e]
  cip/4.4-st: [323f0968a81b082cf02ef15b447cd35e4328385e]
  cip/5.10: [3db53827a0e9130d9e2cbe3c3b5bca601caa4c74]
  cip/5.10-rt: [3db53827a0e9130d9e2cbe3c3b5bca601caa4c74]
  debian/buster-security: ['version:debian/4.19.232-1']
  debian/stretch-security: ['version:debian/4.9.290-1']
  mainline: [35306eb23814444bd4021f8a1c3047d3cb0c8b2b]
  openela/4.14: [9d76f723256d68eea16f0c563fc80b3c14258634]
  stable/4.14: [9d76f723256d68eea16f0c563fc80b3c14258634]
  stable/4.19: [0512a9aede6e4417c4fa6e0042a7ca8bc7e06b86]
  stable/4.4: [323f0968a81b082cf02ef15b447cd35e4328385e]
  stable/4.9: [09818f629bafbe20e24bac919019853ea3ac5ca4]
  stable/5.10: [3db53827a0e9130d9e2cbe3c3b5bca601caa4c74]
  stable/5.4: [0fcfaa8ed9d1dcbe377b202a1b3cdfd4e566114c]
  ubuntu/bionic: [cee9d65c0b71aa328dd60d28d9167d4766cb1a6c]
  ubuntu/focal: [14cecda64d014446b7a6dd47523cd4f46e8df720]
