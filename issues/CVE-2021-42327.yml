description: 'drm/amdgpu: fix out of bounds write'
references:
- https://lists.freedesktop.org/archives/amd-gfx/2021-October/070170.html
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-42327
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
- https://www.mail-archive.com/amd-gfx@lists.freedesktop.org/msg69080.html
- https://cgit.freedesktop.org/drm/drm/commit/?id=f23750b5b3d98653b31d4469592935ef6364ad67
- https://ubuntu.com/security/notices/USN-5165-1
- https://ubuntu.com/security/notices/USN-5265-1
- https://ubuntu.com/security/notices/USN-5362-1
- https://www.cve.org/CVERecord?id=CVE-2021-42327
comments:
  debian/bwh: |-
    Introduced in 5.10 by commit 918698d5c2b5 "drm/amd/display: Return the
    number of bytes parsed than allocated".  This actually introduced the
    same bug in many debugfs write operations in the same source file.
    One of these is fixed in drm-next, so should be in upstream 5.16-rc1.
  debian/carnil: |-
    Not directly covered by CVE-2021-42327, but 3f4e54bd312d
    ("drm/amdgpu: Fix even more out of bound writes from debugfs")
    should then be applied as well.
    Fixed as well in 5.14.16 for the 5.14.y series.
introduced-by:
  mainline: [918698d5c2b50433714d2042f55b55b090faa167]
fixed-by:
  cip/5.10: [eb3b6805e3e9d98b2507201fd061a231988ce623]
  cip/5.10-rt: [eb3b6805e3e9d98b2507201fd061a231988ce623]
  mainline: [5afa7898ab7a0ec9c28556a91df714bf3c2f725e]
  stable/5.10: [eb3b6805e3e9d98b2507201fd061a231988ce623]
  stable/5.14: [d3ed72495a59fbfb9377450c8dfe94389a6509a7]
  ubuntu/focal: ['version:5.4.0-9.12']
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.19: Not affected
  stable/4.4: Not affected
  stable/4.9: Not affected
  stable/5.4: Not affected
