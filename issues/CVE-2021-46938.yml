description: 'dm rq: fix double free of blk_mq_tag_set in dev remove after table load
  fails'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-46938
- https://lore.kernel.org/linux-cve-announce/20240227184057.2368370-3-gregkh@linuxfoundation.org/T/#u
- https://git.kernel.org/linus/8e947c8f4a5620df77e43c9c75310dc510250166
- https://git.kernel.org/stable/c/8ae0185255eaf05bd66f4215c81e99bf01140fd9
- https://git.kernel.org/stable/c/b42c0a33dfdd451d9be62dd5de58c39f2750b6e3
- https://git.kernel.org/stable/c/772b9f59657665af3b68d24d12b9d172d31f0dfb
- https://git.kernel.org/stable/c/a992a283c0b77d0a7c2c348add0e6a21fb1dab67
- https://git.kernel.org/stable/c/1cb02dc76f4c0a2749a02b26469512d6984252e9
- https://git.kernel.org/stable/c/6086f957416a6e87236c06079fcaba7a3998aeca
- https://git.kernel.org/stable/c/d757bf4c69cda3c3ab7f775dfabbf5a80e2f6f9d
- https://git.kernel.org/stable/c/8e947c8f4a5620df77e43c9c75310dc510250166
comments:
  debian/carnil: |-
    Introduced in 1c357a1e86a4 ("dm: allocate blk_mq_tag_set rather than embed in
    mapped_device"). Vulnerable versions: 4.6-rc1.
  masami: |-
    Introduced by commit 1c357a1 ("dm: allocate blk_mq_tag_set rather than embed
    in mapped_device") in 4.6-rc1. This patch is not backported to 4.4.
    Fixed in 5.13-rc1.
introduced-by:
  mainline: [1c357a1e86a4227a6b6059f2de118ae47659cebc]
fixed-by:
  cip/4.19: [772b9f59657665af3b68d24d12b9d172d31f0dfb]
  cip/4.19-rt: [772b9f59657665af3b68d24d12b9d172d31f0dfb]
  cip/5.10: [1cb02dc76f4c0a2749a02b26469512d6984252e9]
  cip/5.10-rt: [1cb02dc76f4c0a2749a02b26469512d6984252e9]
  debian/buster-security: ['version:debian/4.19.194-1']
  mainline: [8e947c8f4a5620df77e43c9c75310dc510250166]
  stable/4.14: [b42c0a33dfdd451d9be62dd5de58c39f2750b6e3]
  stable/4.19: [772b9f59657665af3b68d24d12b9d172d31f0dfb]
  stable/4.9: [8ae0185255eaf05bd66f4215c81e99bf01140fd9]
  stable/5.10: [1cb02dc76f4c0a2749a02b26469512d6984252e9]
  stable/5.4: [a992a283c0b77d0a7c2c348add0e6a21fb1dab67]
  ubuntu/bionic: [500e82c46fa562933fc341d801a71feae9e7b799]
  ubuntu/focal: [1ea8e5106f8dbe7153982ab117a5c28b92fc8ab9]
  ubuntu/groovy: [c7134280bdd851544a1bf3541b448d3c32609d16]
