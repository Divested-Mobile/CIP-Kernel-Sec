description: 'io_uring: fix shared sqpoll cancellation hangs'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-46942
- https://lore.kernel.org/linux-cve-announce/20240227184057.2368370-7-gregkh@linuxfoundation.org/T/#u
- https://git.kernel.org/linus/734551df6f9bedfbefcd113ede665945e9de0b99
- https://git.kernel.org/stable/c/cb5e0b3d0f993a6268c1a2c7ede2f9aa0c17ef68
- https://git.kernel.org/stable/c/734551df6f9bedfbefcd113ede665945e9de0b99
- https://www.cve.org/CVERecord?id=CVE-2021-46942
- https://lore.kernel.org/linux-cve-announce/20240227184057.2368370-7-gregkh@linuxfoundation.org/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 37d1e2e ("io_uring: move SQPOLL thread io-wq forked worker") in v5.12-rc1.
    Fixed in v5.13-rc1.
  debian/carnil: |-
    Introduced in 37d1e2e3642e2 ("io_uring: move SQPOLL thread io-wq forked
    worker"). Vulnerable versions: 5.12-rc1.
  masami: "Introduced by commit 37d1e2e (\"io_uring: move SQPOLL thread io-wq forked\
    \ \nworker\") in 5.12-rc1dontuse.\nThis patch is not backported to 5.10. The io_uring\
    \ is introcued in 5.1 so \n4.x kernels are not affected. \nFixed in 5.13-rc1."
introduced-by:
  mainline: [37d1e2e3642e2380750d7f35279180826f29660e]
fixed-by:
  mainline: [734551df6f9bedfbefcd113ede665945e9de0b99]
  ubuntu/focal: ['version:5.4.0-9.12']
