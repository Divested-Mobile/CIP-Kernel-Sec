description: 'riscv/kprobe: fix kernel panic when invoking sys_read traced by kprobe'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-46957
- https://lore.kernel.org/linux-cve-announce/2024022718-CVE-2021-46957-90af@gregkh/T/#u
- https://git.kernel.org/linus/b1ebaa0e1318494a7637099a26add50509e37964
- https://git.kernel.org/stable/c/fd0f06590d35c99f98d12c7984897ec4201a6263
- https://git.kernel.org/stable/c/b1ebaa0e1318494a7637099a26add50509e37964
- https://www.cve.org/CVERecord?id=CVE-2021-46957
comments:
  debian/carnil: |-
    Introduced in c22b0bcb1dd02 ("riscv: Add kprobes supported"). Vulnerable
    versions: 5.12-rc1.
  masami: "Introduced by commit c22b0bc (\"riscv: Add kprobes supported\") in \n5.12-rc1-dontuse.\
    \ This commit is not backported to older stable kernels.\nFixed in 5.13-rc1."
introduced-by:
  mainline: [c22b0bcb1dd024cb9caad9230e3a387d8b061df5]
fixed-by:
  mainline: [b1ebaa0e1318494a7637099a26add50509e37964]
