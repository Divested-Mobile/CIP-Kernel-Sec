description: 'hfsplus: prevent corruption in shrinking truncate'
references:
- https://lore.kernel.org/linux-cve-announce/2024022825-CVE-2021-46989-8377@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-46989
- https://git.kernel.org/linus/c3187cf32216313fb316084efac4dab3a8459b1d
- https://git.kernel.org/stable/c/52dde855663e5db824af51db39b5757d2ef3e28a
- https://git.kernel.org/stable/c/c451a6bafb5f422197d31536f82116aed132b72c
- https://git.kernel.org/stable/c/adbd8a2a8cc05d9e501f93e5c95c59307874cc99
- https://git.kernel.org/stable/c/c477f62db1a0c0ecaa60a29713006ceeeb04b685
- https://git.kernel.org/stable/c/97314e45aa1223a42d60256a62c5d9af54baf446
- https://git.kernel.org/stable/c/c3187cf32216313fb316084efac4dab3a8459b1d
- https://www.cve.org/CVERecord?id=CVE-2021-46989
comments:
  debian/carnil: |-
    Introduced in 31651c607151f ("hfsplus: avoid deadlock on file truncation").
    Vulnerable versions: 4.19-rc1.
  masami: "Introduced by commit 31651c6 (\"hfsplus: avoid deadlock on file truncation\"\
    ) \nin 4.19-rc1. Linux 4.4 is not affected. Fixed in 5.13-rc2."
introduced-by:
  cip/4.19: [52dde855663e5db824af51db39b5757d2ef3e28a]
  cip/4.19-rt: [52dde855663e5db824af51db39b5757d2ef3e28a]
  cip/5.10: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  cip/5.10-rt: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  mainline: [c3187cf32216313fb316084efac4dab3a8459b1d]
  stable/4.19: [52dde855663e5db824af51db39b5757d2ef3e28a]
  stable/5.10: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  stable/5.4: [c451a6bafb5f422197d31536f82116aed132b72c]
  ubuntu/focal: [46f15f73a43b9c130b430e8e1eb013a416f08697]
  ubuntu/groovy: [c08ff2bbc41389d2b522813640e04c5f61327cb0]
fixed-by:
  cip/4.19: [52dde855663e5db824af51db39b5757d2ef3e28a]
  cip/4.19-rt: [52dde855663e5db824af51db39b5757d2ef3e28a]
  cip/5.10: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  cip/5.10-rt: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  mainline: [c3187cf32216313fb316084efac4dab3a8459b1d]
  stable/4.19: [52dde855663e5db824af51db39b5757d2ef3e28a]
  stable/5.10: [adbd8a2a8cc05d9e501f93e5c95c59307874cc99]
  stable/5.4: [c451a6bafb5f422197d31536f82116aed132b72c]
  ubuntu/focal: [46f15f73a43b9c130b430e8e1eb013a416f08697]
  ubuntu/groovy: [c08ff2bbc41389d2b522813640e04c5f61327cb0]
