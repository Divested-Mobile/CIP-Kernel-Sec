description: 'f2fs: fix to avoid touching checkpointed data in get_victim()'
references:
- https://lore.kernel.org/linux-cve-announce/2024022829-CVE-2021-47004-8544@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47004
- https://git.kernel.org/linus/61461fc921b756ae16e64243f72af2bfc2e620db
- https://git.kernel.org/stable/c/105155a8146ddb54c119d8318964eef3859d109d
- https://git.kernel.org/stable/c/1e116f87825f01a6380286472196882746b16f63
- https://git.kernel.org/stable/c/211372b2571520e394b56b431a0705586013b3ff
- https://git.kernel.org/stable/c/61461fc921b756ae16e64243f72af2bfc2e620db
- https://www.cve.org/CVERecord?id=CVE-2021-47004
comments:
  debian/carnil: |-
    Introduced in 4354994f097d ("f2fs: checkpoint disabling")
    093749e296e2 ("f2fs: support age threshold based garbage collection").
    Vulnerable versions: 4.20-rc1 5.10-rc1.
  masami: "Introduced by commit 4354994 (\"f2fs: checkpoint disabling\") in 4.20-rc1\
    \ \nand 093749e (\"f2fs: support age threshold based garbage collection\") in\
    \ \n5.10-rc1. These commits are not backported to older stable kernels. Fixed\
    \ \nin 5.13-rc1."
introduced-by:
  mainline: [4354994f097d068a894aa1a0860da54571df3582, 093749e296e29a4b0162eb925a6701a01e8c9a98]
fixed-by:
  cip/5.10: [105155a8146ddb54c119d8318964eef3859d109d]
  cip/5.10-rt: [105155a8146ddb54c119d8318964eef3859d109d]
  mainline: [61461fc921b756ae16e64243f72af2bfc2e620db]
  stable/5.10: [105155a8146ddb54c119d8318964eef3859d109d]
