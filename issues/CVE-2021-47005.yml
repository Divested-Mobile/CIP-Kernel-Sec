description: 'PCI: endpoint: Fix NULL pointer dereference for ->get_features()'
references:
- https://lore.kernel.org/linux-cve-announce/2024022829-CVE-2021-47005-8f88@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47005
- https://git.kernel.org/linus/6613bc2301ba291a1c5a90e1dc24cf3edf223c03
- https://git.kernel.org/stable/c/bbed83d7060e07a5d309104d25a00f0a24441428
- https://git.kernel.org/stable/c/679ebad058b8168f10e63876d63b0877fd2fe784
- https://git.kernel.org/stable/c/0169d4f0bee44fdfef908c13ed21fcb326c38695
- https://git.kernel.org/stable/c/6613bc2301ba291a1c5a90e1dc24cf3edf223c03
- https://bugzilla.redhat.com/show_bug.cgi?id=2266861
- https://bugzilla.suse.com/show_bug.cgi?id=1220660
- https://www.cve.org/CVERecord?id=CVE-2021-47005
comments:
  debian/carnil: |-
    Introduced in 2c04c5b8eef79 ("PCI: pci-epf-test: Use pci_epc_get_features() to
    get EPC features"). Vulnerable versions: 5.1-rc1.
  masami: "Introduced by commit 2c04c5b (\"PCI: pci-epf-test: Use pci_epc_get_features()\
    \ \nto get EPC features\") in 5.1-rc1. This commit is backported to cip/4.19 and\
    \ \ncip/4.19-rt. stable/4.19 and 4.4 are not affected. Fixed in 5.13-rc1."
  ubuntu/sbeattie: |-
    requires CONFIG_PCI_EPF_TEST to be enabled to be affected;
      this config option is not enabled in any Ubuntu kernels.
introduced-by:
  cip/4.19: [d17fd4aba3bc0d8d9c2dd6036c0d307bbd25dd7f]
  cip/4.19-rt: [d17fd4aba3bc0d8d9c2dd6036c0d307bbd25dd7f]
  mainline: [2c04c5b8eef797dca99699cfb55ff42dd3c12c23]
fixed-by:
  cip/5.10: [bbed83d7060e07a5d309104d25a00f0a24441428]
  cip/5.10-rt: [bbed83d7060e07a5d309104d25a00f0a24441428]
  mainline: [6613bc2301ba291a1c5a90e1dc24cf3edf223c03]
  stable/5.10: [bbed83d7060e07a5d309104d25a00f0a24441428]
  ubuntu/groovy: [68deec26d71f537689a6fff5af992820dc1439c1]
