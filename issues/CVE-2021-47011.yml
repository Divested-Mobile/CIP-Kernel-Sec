description: 'mm: memcontrol: slab: fix obtain a reference to a freeing memcg'
references:
- https://lore.kernel.org/linux-cve-announce/2024022831-CVE-2021-47011-5b75@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47011
- https://git.kernel.org/linus/9f38f03ae8d5f57371b71aa6b4275765b65454fd
- https://git.kernel.org/stable/c/31df8bc4d3feca9f9c6b2cd06fd64a111ae1a0e6
- https://git.kernel.org/stable/c/89b1ed358e01e1b0417f5d3b0082359a23355552
- https://git.kernel.org/stable/c/c3ae6a3f3ca4f02f6ccddf213c027302586580d0
- https://git.kernel.org/stable/c/9f38f03ae8d5f57371b71aa6b4275765b65454fd
- https://www.cve.org/CVERecord?id=CVE-2021-47011
comments:
  debian/carnil: |-
    Introduced in 3de7d4f25a74 ("mm: memcg/slab: optimize objcg stock draining").
    Vulnerable versions: 5.10.11 5.11-rc5.
  masami: "Introduced by commit 3de7d4f (\"mm: memcg/slab: optimize objcg stock draining\"\
    ) \nin 5.11-rc5. This commit is backported to 5.10. Linux 5.4 and 4.x are not\
    \ \naffected. Fixed in 5.13-rc1."
introduced-by:
  cip/5.10: [26f54dac15640c65ec69867e182de7be708ea389]
  cip/5.10-rt: [26f54dac15640c65ec69867e182de7be708ea389]
  mainline: [3de7d4f25a7438f09fef4e71ef111f1805cd8e7c]
  stable/5.10: [26f54dac15640c65ec69867e182de7be708ea389]
  ubuntu/groovy: [2e612d500b63a66441bb27933b4554ad356125dd]
fixed-by:
  cip/5.10: [31df8bc4d3feca9f9c6b2cd06fd64a111ae1a0e6]
  cip/5.10-rt: [31df8bc4d3feca9f9c6b2cd06fd64a111ae1a0e6]
  mainline: [9f38f03ae8d5f57371b71aa6b4275765b65454fd]
  stable/5.10: [31df8bc4d3feca9f9c6b2cd06fd64a111ae1a0e6]
  ubuntu/focal: ['version:5.4.0-9.12']
