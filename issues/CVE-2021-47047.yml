description: 'spi: spi-zynqmp-gqspi: return -ENOMEM if dma_map_single fails'
references:
- https://lore.kernel.org/linux-cve-announce/2024022839-CVE-2021-47047-4c75@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47047
- https://git.kernel.org/linus/126bdb606fd2802454e6048caef1be3e25dd121e
- https://git.kernel.org/stable/c/5980a3b9c933408bc22b0e349b78c3ebd7cbf880
- https://git.kernel.org/stable/c/c26c026eb496261dbc0adbf606cc81989cd2038c
- https://git.kernel.org/stable/c/bad5a23cf2b477fa78b85fd392736dae09a1e818
- https://git.kernel.org/stable/c/126bdb606fd2802454e6048caef1be3e25dd121e
- https://www.cve.org/CVERecord?id=CVE-2021-47047
comments:
  debian/carnil: |-
    Introduced in 1c26372e5aa9 ("spi: spi-zynqmp-gqspi: Update driver to use
    spi-mem framework"). Vulnerable versions: 5.10-rc3.
  masami: "Introduced by commit 1c26372 (\"spi: spi-zynqmp-gqspi: Update driver to\
    \ use \nspi-mem framework\") in 5.10-rc1. This commit is not backported to older\
    \ \nstable kernels. Fixed in 5.13-rc1."
introduced-by:
  mainline: [1c26372e5aa9e53391a1f8fe0dc7cd93a7e5ba9e]
fixed-by:
  cip/5.10: [5980a3b9c933408bc22b0e349b78c3ebd7cbf880]
  cip/5.10-rt: [5980a3b9c933408bc22b0e349b78c3ebd7cbf880]
  mainline: [126bdb606fd2802454e6048caef1be3e25dd121e]
  stable/5.10: [5980a3b9c933408bc22b0e349b78c3ebd7cbf880]
  ubuntu/focal: ['version:5.4.0-9.12']
