description: 'spi: fsl-lpspi: Fix PM reference leak in lpspi_prepare_xfer_hardware()'
references:
- https://lore.kernel.org/linux-cve-announce/2024022840-CVE-2021-47051-cf30@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47051
- https://git.kernel.org/linus/a03675497970a93fcf25d81d9d92a59c2d7377a7
- https://git.kernel.org/stable/c/4a01ad002d2e03c399af536562693752af7c81b1
- https://git.kernel.org/stable/c/ce02e58ddf8658a4c3bed2296f32a5873b3f7cce
- https://git.kernel.org/stable/c/b8207bfc539cd07d15e753ff2d179c5b61c673b1
- https://git.kernel.org/stable/c/6a2b5cee0d31ab6cc51030c441135b0e31217282
- https://git.kernel.org/stable/c/a03675497970a93fcf25d81d9d92a59c2d7377a7
- https://www.cve.org/CVERecord?id=CVE-2021-47051
comments:
  debian/carnil: |-
    Introduced in 944c01a889d9 ("spi: lpspi: enable runtime pm for lpspi").
    Vulnerable versions: 5.2-rc5.
  masami: "Introduced by commit 944c01a (\"spi: lpspi: enable runtime pm for lpspi\"\
    ) \nin 5.2-rc1. This commit is not backported to older stable kernels. Fixed \n\
    in 5.13-rc1."
introduced-by:
  mainline: [944c01a889d97dc08e1b71f4ed868f4023fd6034]
fixed-by:
  cip/5.10: [ce02e58ddf8658a4c3bed2296f32a5873b3f7cce]
  cip/5.10-rt: [ce02e58ddf8658a4c3bed2296f32a5873b3f7cce]
  mainline: [a03675497970a93fcf25d81d9d92a59c2d7377a7]
  stable/5.10: [ce02e58ddf8658a4c3bed2296f32a5873b3f7cce]
  stable/5.4: [4a01ad002d2e03c399af536562693752af7c81b1]
  ubuntu/focal: [6e12537065343d1faa8a172ceea02b43f2f20bc3]
  ubuntu/groovy: [aa9b173906777a72f9f7e25f29452336ed18e2eb]
