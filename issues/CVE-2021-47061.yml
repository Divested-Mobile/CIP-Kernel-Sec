description: 'KVM: Destroy I/O bus devices on unregister failure _after_ sync''ing
  SRCU'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47061
- https://lore.kernel.org/linux-cve-announce/2024022952-CVE-2021-47061-6fea@gregkh/T/#u
- https://git.kernel.org/stable/c/03c6cccedd3913006744faa252a4da5145299343
- https://git.kernel.org/stable/c/4e899ca848636b37e9ac124bc1723862a7d7d927
- https://git.kernel.org/stable/c/30f46c6993731efb2a690c9197c0fd9ed425da2d
- https://git.kernel.org/stable/c/2ee3757424be7c1cd1d0bbfa6db29a7edd82a250
- https://git.kernel.org/linus/2ee3757424be7c1cd1d0bbfa6db29a7edd82a250
- https://www.cve.org/CVERecord?id=CVE-2021-47061
comments:
  debian/carnil: |-
    Introduced in f65886606c2d ("KVM: fix memory leak in
    kvm_io_bus_unregister_dev()"). Vulnerable versions: 4.4.238 4.9.238 4.14.200
    4.19.148 5.4.66 5.8.10 5.9-rc5.
  masami: "Introduced by commit in f658866 (\"KVM: fix memory leak in \nkvm_io_bus_unregister_dev()\"\
    ) in 4.11-rc5. This commit is backported to \nolder stable kernels. Fixed in 5.13-rc1."
introduced-by:
  cip/4.19: [19184bd06f488af62924ff1747614a8cb284ad63]
  cip/4.19-rt: [19184bd06f488af62924ff1747614a8cb284ad63]
  cip/4.4: [f0dfffce3f4ffd5f822568a4a6fb34c010e939d1]
  cip/4.4-rt: [f0dfffce3f4ffd5f822568a4a6fb34c010e939d1]
  cip/4.4-st: [f0dfffce3f4ffd5f822568a4a6fb34c010e939d1]
  mainline: [f65886606c2d3b562716de030706dfe1bea4ed5e]
  stable/4.19: [19184bd06f488af62924ff1747614a8cb284ad63]
  stable/5.4: [41b2ea7a6a11e2b1a7f2c29e1675a709a6b2b98d]
  ubuntu/bionic: [736f12af6da52cbd5b6e4a1bcb3a56086ba8328d]
  ubuntu/focal: [6a622979b3b49a8ea322e7c9470f5b5f255a673b]
  ubuntu/groovy: [6cb56e53d9c9dbadc62243195365b02784dc49ef]
  ubuntu/xenial: [78e1da208139c72611b9ad5bbe5b5a615a602607]
fixed-by:
  cip/5.10: [03c6cccedd3913006744faa252a4da5145299343]
  cip/5.10-rt: [03c6cccedd3913006744faa252a4da5145299343]
  mainline: [2ee3757424be7c1cd1d0bbfa6db29a7edd82a250]
  stable/5.10: [03c6cccedd3913006744faa252a4da5145299343]
  ubuntu/groovy: [f85609ea743eb6f9527e37db621400bfc2eb2d4b]
