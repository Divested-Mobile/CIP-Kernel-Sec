description: 'ipc/mqueue, msg, sem: avoid relying on a stack reference past its expiry'
references:
- https://lore.kernel.org/linux-cve-announce/2024030141-CVE-2021-47069-5797@gregkh/T/#u
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47069
- https://git.kernel.org/stable/c/4528c0c323085e645b8765913b4a7fd42cf49b65
- https://git.kernel.org/stable/c/807fa14536b26803b858da878b643be72952a097
- https://git.kernel.org/stable/c/a11ddb37bf367e6b5239b95ca759e5389bb46048
- https://git.kernel.org/linus/a11ddb37bf367e6b5239b95ca759e5389bb46048
- https://www.cve.org/CVERecord?id=CVE-2021-47069
comments:
  debian/carnil: |-
    Introduced in c5b2cbdbdac563 ("ipc/mqueue.c: update/document memory barriers")
    8116b54e7e23ef ("ipc/sem.c: document and update memory barriers")
    0d97a82ba830d8 ("ipc/msg.c: update and document memory barriers"). Vulnerable
    versions: 5.6-rc1.
  masami: "Introduced by commit c5b2cbd (\"ipc/mqueue.c: update/document memory barriers\"\
    ) \nin 5.6-rc1 and 8116b54 (\"ipc/sem.c: document and update memory barriers\"\
    ) in \n5.6-rc1 and 0d97a82 (\"ipc/msg.c: update and document memory barriers\"\
    ) in \n5.6-rc1. These commits are not backported to older stable kernels. Fixed\
    \ in \n5.13-rc3."
introduced-by:
  mainline: [c5b2cbdbdac563f46ecd5e187253ab1abbd6fc04, 8116b54e7e23ef948ecac0e0ab78d10888265cab,
    0d97a82ba830d89a1e541cc9cd11f1e38c28e416]
fixed-by:
  cip/5.10: [4528c0c323085e645b8765913b4a7fd42cf49b65]
  cip/5.10-rt: [4528c0c323085e645b8765913b4a7fd42cf49b65]
  mainline: [a11ddb37bf367e6b5239b95ca759e5389bb46048]
  stable/5.10: [4528c0c323085e645b8765913b4a7fd42cf49b65]
  ubuntu/groovy: [7f39593c0d8cb87bee69e7374e29b2eae10d9339]
