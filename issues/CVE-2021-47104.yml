description: 'IB/qib: Fix memory leak in qib_user_sdma_queue_pkts()'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47104
- https://git.kernel.org/stable/c/1ced0a3015a95c6a6db45e37250912c4c86697ab
- https://git.kernel.org/stable/c/76b648063eb36c72dfc0a6896de8a0a7d2c7841c
- https://git.kernel.org/stable/c/d53456492b5d02033c73dfa0f3b94c86337791ba
- https://git.kernel.org/stable/c/0aaec9c5f60754b56f84460ea439b8c5e91f4caa
- https://git.kernel.org/stable/c/79dcbd8176152b860028b62f81a635d987365752
- https://git.kernel.org/stable/c/7cf6466e00a77b0a914b7b2c28a1fc7947d55e59
- https://git.kernel.org/stable/c/aefcc25f3a0cd28a87d11d41d30419a12cd26a34
- https://git.kernel.org/stable/c/bee90911e0138c76ee67458ac0d58b38a3190f65
- https://lore.kernel.org/linux-cve-announce/2024030444-CVE-2021-47104-bedc@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit d39bf40 ("IB/qib: Protect from buffer overflow in struct qib_user_sdma_pkt fields") in v5.15.
    Fixed in v5.16-rc7.
  debian/carnil: |-
    Introduced in d39bf40e55e6 ("IB/qib: Protect from buffer overflow in struct
    qib_user_sdma_pkt fields"). Vulnerable versions: 4.4.292 4.9.290 4.14.255
    4.19.216 5.4.157 5.10.77 5.14.16 5.15.
introduced-by:
  cip/4.19: [73d2892148aa4397a885b4f4afcfc5b27a325c42]
  cip/4.19-rt: [73d2892148aa4397a885b4f4afcfc5b27a325c42]
  cip/4.4: [bda41654b6e0c125a624ca35d6d20beb8015b5d0]
  cip/4.4-rt: [bda41654b6e0c125a624ca35d6d20beb8015b5d0]
  cip/4.4-st: [bda41654b6e0c125a624ca35d6d20beb8015b5d0]
  cip/5.10: [c3e17e58f571f34c51aeb17274ed02c2ed5cf780]
  cip/5.10-rt: [c3e17e58f571f34c51aeb17274ed02c2ed5cf780]
  mainline: [d39bf40e55e666b5905fdbd46a0dced030ce87be]
  stable/4.19: [73d2892148aa4397a885b4f4afcfc5b27a325c42]
  stable/5.10: [c3e17e58f571f34c51aeb17274ed02c2ed5cf780]
  stable/5.4: [0f8cdfff06829a0b0348b6debc29ff6a61967724]
  ubuntu/bionic: [c1e3227f40c301a62864b5f55eeedeacf6f20aaa]
  ubuntu/focal: [bbc35718e52abe5143adfb52e30ebaf57613ff64]
fixed-by:
  cip/4.19: [0aaec9c5f60754b56f84460ea439b8c5e91f4caa]
  cip/4.19-rt: [0aaec9c5f60754b56f84460ea439b8c5e91f4caa]
  cip/4.4: [1ced0a3015a95c6a6db45e37250912c4c86697ab]
  cip/4.4-rt: [1ced0a3015a95c6a6db45e37250912c4c86697ab]
  cip/4.4-st: [1ced0a3015a95c6a6db45e37250912c4c86697ab]
  cip/5.10: [7cf6466e00a77b0a914b7b2c28a1fc7947d55e59]
  cip/5.10-rt: [7cf6466e00a77b0a914b7b2c28a1fc7947d55e59]
  debian/buster-security: ['version:debian/4.19.232-1']
  mainline: [bee90911e0138c76ee67458ac0d58b38a3190f65]
  stable/4.19: [0aaec9c5f60754b56f84460ea439b8c5e91f4caa]
  stable/4.4: [1ced0a3015a95c6a6db45e37250912c4c86697ab]
  stable/5.10: [7cf6466e00a77b0a914b7b2c28a1fc7947d55e59]
  stable/5.15: [aefcc25f3a0cd28a87d11d41d30419a12cd26a34]
  stable/5.4: [79dcbd8176152b860028b62f81a635d987365752]
  ubuntu/bionic: [533d282e7350faedaa53b82188772586778ff587]
  ubuntu/focal: [3365f94fba3e4aa12cf125abfa2368674dd6006e]
