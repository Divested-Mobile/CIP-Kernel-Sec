description: 'scsi: target: core: Avoid smp_processor_id() in preemptible code'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47178
- https://git.kernel.org/stable/c/a20b6eaf4f35046a429cde57bee7eb5f13d6857f
- https://git.kernel.org/stable/c/70ca3c57ff914113f681e657634f7fbfa68e1ad1
- https://lore.kernel.org/linux-cve-announce/2024032538-CVE-2021-47178-6167@gregkh/
- https://git.kernel.org/stable/c/a222d2794c53f8165de20aa91b39e35e4b72bce9
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 1526d9f ("scsi: target: Make state_list per CPU") in v5.11-rc1.
    Fixed in v5.13-rc4.
  debian/carnil: |-
    Introduced in 1526d9f10c61 ("scsi: target: Make state_list per CPU").
    Vulnerable versions: 5.10.180 5.11-rc1.
    Technically N/A for sid branch as no released version in unstable
    was ever affected. But the issue was backported in the 5.10.y series.
    As wokraround for the security-tracker import mark the unstable
    5.14.6-1 as the fixed one.
introduced-by:
  cip/5.10: [008b936bbde3e87a611b3828a0d5d2a4f99026a0]
  cip/5.10-rt: [008b936bbde3e87a611b3828a0d5d2a4f99026a0]
  mainline: [1526d9f10c6184031e42afad0adbdde1213e8ad1]
  stable/5.10: [008b936bbde3e87a611b3828a0d5d2a4f99026a0]
fixed-by:
  cip/5.10: [a222d2794c53f8165de20aa91b39e35e4b72bce9]
  cip/5.10-rt: [a222d2794c53f8165de20aa91b39e35e4b72bce9]
  mainline: [70ca3c57ff914113f681e657634f7fbfa68e1ad1]
  stable/5.10: [a222d2794c53f8165de20aa91b39e35e4b72bce9]
