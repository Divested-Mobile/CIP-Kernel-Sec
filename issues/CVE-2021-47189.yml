description: 'btrfs: fix memory ordering between normal and ordered work functions'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47189
- https://git.kernel.org/stable/c/bd660a20fea3ec60a49709ef5360f145ec0fe779
- https://git.kernel.org/stable/c/637d652d351fd4f263ef302dc52f3971d314e500
- https://git.kernel.org/stable/c/804a9d239ae9cbe88e861a7cd62319cc6ec7b136
- https://git.kernel.org/stable/c/ed058d735a70f4b063323f1a7bb33cda0f987513
- https://git.kernel.org/stable/c/670f6b3867c8f0f11e5097f353b164cecfec6179
- https://git.kernel.org/stable/c/6adbc07ebcaf8bead08b21687d49e0fc94400987
- https://git.kernel.org/stable/c/47e6f9f69153247109042010f3a77579e9dc61ff
- https://git.kernel.org/stable/c/45da9c1767ac31857df572f0a909fbe88fd5a7e9
- https://lore.kernel.org/linux-cve-announce/2024041034-CVE-2021-47189-a3f4@gregkh/
- https://git.kernel.org/linus/45da9c1767ac31857df572f0a909fbe88fd5a7e9
- https://www.cve.org/CVERecord?id=CVE-2021-47189
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 08a9ff3 ("btrfs: Added btrfs_workqueue_struct implemented ordered execution based on kernel workqueue") in v3.15-rc1.
    Fixed in v5.16-rc2.
  debian/carnil: |-
    Introduced in 08a9ff326418 ("btrfs: Added btrfs_workqueue_struct implemented
    ordered execution based on kernel workqueue"). Vulnerable versions: 3.15-rc1.
introduced-by:
  mainline: [08a9ff3264181986d1d692a4e6fce3669700c9f8]
fixed-by:
  cip/4.19: [ed058d735a70f4b063323f1a7bb33cda0f987513]
  cip/4.19-rt: [ed058d735a70f4b063323f1a7bb33cda0f987513]
  cip/4.4: [bd660a20fea3ec60a49709ef5360f145ec0fe779]
  cip/4.4-rt: [bd660a20fea3ec60a49709ef5360f145ec0fe779]
  cip/4.4-st: [bd660a20fea3ec60a49709ef5360f145ec0fe779]
  cip/5.10: [6adbc07ebcaf8bead08b21687d49e0fc94400987]
  cip/5.10-rt: [6adbc07ebcaf8bead08b21687d49e0fc94400987]
  debian/buster-security: ['version:debian/4.19.232-1']
  mainline: [45da9c1767ac31857df572f0a909fbe88fd5a7e9]
  openela/4.14: [804a9d239ae9cbe88e861a7cd62319cc6ec7b136]
  stable/4.14: [804a9d239ae9cbe88e861a7cd62319cc6ec7b136]
  stable/4.19: [ed058d735a70f4b063323f1a7bb33cda0f987513]
  stable/4.4: [bd660a20fea3ec60a49709ef5360f145ec0fe779]
  stable/4.9: [637d652d351fd4f263ef302dc52f3971d314e500]
  stable/5.10: [6adbc07ebcaf8bead08b21687d49e0fc94400987]
  stable/5.15: [47e6f9f69153247109042010f3a77579e9dc61ff]
  stable/5.4: [670f6b3867c8f0f11e5097f353b164cecfec6179]
  ubuntu/bionic: [85038064a80d03f536fa83808adfb7b5f7f4c0b6]
  ubuntu/focal: [26389d74bc4cfdfcaea974f786cff346c32d01d5]
