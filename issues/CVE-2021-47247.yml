description: 'net/mlx5e: Fix use-after-free of encap entry in neigh update handler'
references:
- https://www.cve.org/CVERecord?id=CVE-2021-47247
- https://git.kernel.org/stable/c/b6447b72aca571632e71bb73a797118d5ce46a93
- https://git.kernel.org/stable/c/fb1a3132ee1ac968316e45d21a48703a6db0b6c3
- https://lore.kernel.org/linux-cve-announce/2024052143-CVE-2021-47247-e933@gregkh/
- https://git.kernel.org/linus/fb1a3132ee1ac968316e45d21a48703a6db0b6c3
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 2a1f176 ("net/mlx5e: Refactor neigh update for concurrent execution") in v5.4-rc1.
    Fixed in v5.13-rc7.
  debian/carnil: |-
    Introduced in 2a1f1768fa17 ("net/mlx5e: Refactor neigh update for concurrent
    execution"). Vulnerable versions: 5.4-rc1.
introduced-by:
  mainline: [2a1f1768fa17805ca2e937e2e034a7c3433d3bdc]
fixed-by:
  mainline: [fb1a3132ee1ac968316e45d21a48703a6db0b6c3]
