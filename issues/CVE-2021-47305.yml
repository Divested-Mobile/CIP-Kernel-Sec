description: 'dma-buf/sync_file: Don''t leak fences on merge failure'
references:
- https://www.cve.org/CVERecord?id=CVE-2021-47305
- https://git.kernel.org/stable/c/19f51c2529339280d2c8c6427cd3e21ddf1ac3f8
- https://git.kernel.org/stable/c/e0355a0ad31a1d677b2a4514206de4902bd550e8
- https://git.kernel.org/stable/c/41f45e91c92c8480242ea448d54e28c753b13902
- https://git.kernel.org/stable/c/0d514185ae792d3a1903c8e1a83899aa996705ce
- https://git.kernel.org/stable/c/19edcd97727aae9362444a859a24d99a8730cb27
- https://git.kernel.org/stable/c/ffe000217c5068c5da07ccb1c0f8cce7ad767435
- https://lore.kernel.org/linux-cve-announce/2024052127-CVE-2021-47305-e1c5@gregkh/
- https://git.kernel.org/linus/ffe000217c5068c5da07ccb1c0f8cce7ad767435
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit a02b9dc ("dma-buf/sync_file: refactor fence storage in struct sync_file") in v4.9-rc1.
    Fixed in v5.14-rc2.
  debian/carnil: |-
    Introduced in a02b9dc90d84 ("dma-buf/sync_file: refactor fence storage in
    struct sync_file"). Vulnerable versions: 4.9-rc1.
introduced-by:
  mainline: [a02b9dc90d844cc7df7b63264e7920cc425052d9]
fixed-by:
  cip/4.19: [e0355a0ad31a1d677b2a4514206de4902bd550e8]
  cip/4.19-rt: [e0355a0ad31a1d677b2a4514206de4902bd550e8]
  cip/5.10: [0d514185ae792d3a1903c8e1a83899aa996705ce]
  cip/5.10-rt: [0d514185ae792d3a1903c8e1a83899aa996705ce]
  debian/buster-security: ['version:debian/4.19.208-1']
  mainline: [ffe000217c5068c5da07ccb1c0f8cce7ad767435]
  stable/4.19: [e0355a0ad31a1d677b2a4514206de4902bd550e8]
  stable/5.10: [0d514185ae792d3a1903c8e1a83899aa996705ce]
  stable/5.4: [41f45e91c92c8480242ea448d54e28c753b13902]
  ubuntu/bionic: [e9f3f0f5848025868d30576716b9795a19280c1c]
  ubuntu/focal: [655123dad49426d61a0f9b40007dc5ce1270e3cc]
