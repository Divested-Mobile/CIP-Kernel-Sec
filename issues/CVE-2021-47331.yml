description: 'usb: common: usb-conn-gpio: fix NULL pointer dereference of charger'
references:
- https://www.cve.org/CVERecord?id=CVE-2021-47331
- https://git.kernel.org/stable/c/8e8d910e9a3a7fba86140aff4924c30955ab228b
- https://git.kernel.org/stable/c/436906fd248e018403bcda61a9311d9af02912f1
- https://git.kernel.org/stable/c/1a133a0996d6b4c83509d570ed4edcba34c44f25
- https://git.kernel.org/stable/c/880287910b1892ed2cb38977893b947382a09d21
- https://lore.kernel.org/linux-cve-announce/2024052134-CVE-2021-47331-283e@gregkh/
- https://git.kernel.org/linus/880287910b1892ed2cb38977893b947382a09d21
comments:
  cip/cip-kernel-sec: There is no mention of the commit that introduced the bug in
    the CVE announcement.Fixed in v5.14-rc1.
  cip/masami: "The usb-conn-gpio.c was added by commit 4602f3b (\"usb: common: \n\
    add USB GPIO based connection detection driver\") in 5.4-rc1. Affected \ncode\
    \ in usb_conn_probe() was introduced by commit e3ee0e7 (\"usb: common: \nusb-conn-gpio:\
    \ Register charger\") in 5.9-rc1. \nso Linux 4.4 and 5.4 seem to be not affected."
  debian/carnil: First introducing commit could not be determined.
fixed-by:
  cip/5.10: [8e8d910e9a3a7fba86140aff4924c30955ab228b]
  cip/5.10-rt: [8e8d910e9a3a7fba86140aff4924c30955ab228b]
  mainline: [880287910b1892ed2cb38977893b947382a09d21]
  stable/5.10: [8e8d910e9a3a7fba86140aff4924c30955ab228b]
ignore:
  cip/4.4: Affected file is not found
  cip/4.4-rt: Affected file is not found
  cip/4.4-st: Affected file is not found
  stable/5.4: Affected code is not found
