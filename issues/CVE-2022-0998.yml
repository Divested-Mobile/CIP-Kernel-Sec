description: 'vdpa: clean up get_config_size ret value handling'
references:
- https://lore.kernel.org/netdev/20220123001216.2460383-13-sashal@kernel.org/
- https://bugzilla.redhat.com/show_bug.cgi?id=2057506
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-0998
- https://git.kernel.org/linus/870aaff92e959e29d40f9cfdb5ed06ba2fc2dae0
- https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2022-0998
- https://www.openwall.com/lists/oss-security/2022/04/02/1
- https://www.cve.org/CVERecord?id=CVE-2022-0998
comments:
  debian/bwh: |-
    The vhost vDPA backend was introduced in 5.7.
    The change in 5.17 is described as only clean up, while the actual
    fix was commit 3ed21c1451a1, already included in all vulnerable
    branches.
  debian/carnil: CONFIG_VHOST_VDPA not set in Debian.
  masami: |-
    Introduced by 3ed21c1 ("vdpa: check that offsets are within bounds")
    that merged in 5.16-rc6. This driver was introduced in 5.7-rc1.
  ubuntu/alexmurray: |-
    As per https://www.openwall.com/lists/oss-security/2022/04/02/1
     3ed21c1451a14d139e1ceb18f2fa70865ce3195a is also required as well.
  ubuntu/amurray: |-
    As per https://www.openwall.com/lists/oss-security/2022/04/02/1
     3ed21c1451a14d139e1ceb18f2fa70865ce3195a is also required as well.
reporters:
- Luo Likang
introduced-by:
  cip/5.10: [51f6302f81d243772047a74ffeceddfb11c964d5]
  cip/5.10-rt: [51f6302f81d243772047a74ffeceddfb11c964d5]
  mainline: [3ed21c1451a14d139e1ceb18f2fa70865ce3195a]
  stable/5.10: [51f6302f81d243772047a74ffeceddfb11c964d5]
  stable/5.15: [b08b3bfcc720686cd73888ab20111acd9cbfcb19]
fixed-by:
  cip/5.10: [51f6302f81d243772047a74ffeceddfb11c964d5]
  cip/5.10-rt: [51f6302f81d243772047a74ffeceddfb11c964d5]
  mainline: [870aaff92e959e29d40f9cfdb5ed06ba2fc2dae0]
  stable/5.10: [51f6302f81d243772047a74ffeceddfb11c964d5]
  ubuntu/focal: ['version:5.4.0-9.12']
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
  stable/5.4: Not affected
