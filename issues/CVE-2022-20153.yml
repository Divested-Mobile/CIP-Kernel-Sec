description: 'io_uring: return back safer resurrect'
references:
- https://source.android.com/security/bulletin/pixel/2022-06-01
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-20153
- https://git.kernel.org/linus/f70865db5ff35f5ed0c7e9ef63e7cca3d4947f04
- https://www.cve.org/CVERecord?id=CVE-2022-20153
comments:
  masami: |-
    According to the https://source.android.com/security/bulletin/pixel/2022-06-01,
    this vulnerability causes privilege escalation.
    This fix reverts commit cb5e1b8 ("Revert "io_uring:
    wait potential ->release() on resurrect"") that is
    merged in 5.12-rc1-dontuse.
    Earlier than 5.1 kernels aren't affected by this
    issue because io_uring was introduced since 5.1.
introduced-by:
  mainline: [cb5e1b81304e089ee3ca948db4d29f71902eb575]
fixed-by:
  cip/5.10: [dc1163203ae6e24b86168390fe5b4a3295fcba7f]
  cip/5.10-rt: [dc1163203ae6e24b86168390fe5b4a3295fcba7f]
  mainline: [f70865db5ff35f5ed0c7e9ef63e7cca3d4947f04]
  stable/5.10: [dc1163203ae6e24b86168390fe5b4a3295fcba7f]
  ubuntu/focal: ['version:5.4.0-9.12']
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.14: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
