description: |-
  jbd2_journal_wait_updates in fs/jbd2/transaction.c in the Linux kernel
  before 5.17.1 has a use-after-free caused by a transaction_t race
  condition.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-28796
- https://git.kernel.org/linus/cc16eecae687912238ee6efbff71ad31e2bc414e
- https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.17.1
- https://github.com/torvalds/linux/commit/cc16eecae687912238ee6efbff71ad31e2bc414e
- https:/git.kernel.org/linus/cc16eecae687912238ee6efbff71ad31e2bc414e
comments:
  debian/carnil: |-
    Commit fixes 4f9818684870 ("jbd2: refactor wait logic for
    transaction updates into a common function") in 5.17-rc3.
    Issue fixed as well in 5.17.1 for 5.17.y and so newer in
    unstable affected.
  masami: |-
    Introduced by commit 4f98186 ("jbd2: refactor wait logic for transaction updates
    into a common function") which was merged in 5.17-rc3.
introduced-by:
  mainline: [4f98186848707f530669238d90e0562d92a78aab]
  stable/5.15: [b0412dd1c24b3405cc1a32a9298c6c876f31757d]
fixed-by:
  mainline: [cc16eecae687912238ee6efbff71ad31e2bc414e]
  stable/5.15: [e9270898222ae8404f6b3738f82bc964b0dc1819]
  stable/5.17: [bff94c57bd130e3062afa94414c2294871314096]
  ubuntu/focal: ['version:5.4.0-9.12']
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
  stable/5.10: Not affected
  stable/5.15: Not affected
  stable/5.16: Not affected
  stable/5.4: Not affected
