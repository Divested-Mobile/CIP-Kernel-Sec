description: 'psi: Fix uaf issue when psi trigger is destroyed while being polled'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2120175
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-2938
- https://git.kernel.org/linus/a06247c6804f1a7c86a2e5398a4c1f1db1471848
- https://www.cve.org/CVERecord?id=CVE-2022-2938
comments:
  masami: |-
    Commit 0e94682 ("psi: introduce psi monitor") introduced this
    issue. This commit was merged in 5.2-rc1.
  ubuntu/sbeattie: |-
    on s390x/focal and newer, CONFIG_PSI_DEFAULT_DISABLED is set
      (see LP: #1876044), so requires a boot command line argument; other
      arches have it enabled.
introduced-by:
  mainline: [0e94682b73bfa6c44c98af7a26771c9c08c055d5]
fixed-by:
  cip/5.10: [d4e4e61d4a5b87bfc9953c306a11d35d869417fd]
  cip/5.10-rt: [d4e4e61d4a5b87bfc9953c306a11d35d869417fd]
  mainline: [a06247c6804f1a7c86a2e5398a4c1f1db1471848]
  stable/5.10: [d4e4e61d4a5b87bfc9953c306a11d35d869417fd]
  stable/5.15: [d3e4c61e143e69671803ef3f52140cf7a7258ee7]
  stable/5.4: [2fd752ed77ab9880da927257b73294f29a199f1a]
  ubuntu/focal: [a4437a61603aa76fdd23d20946890c27228cb3d8]
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.14: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
