description: |-
  components for: CVE-2022-2977 kernel: use-after-free Read in put_device
  (/dev/vtpmx)
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-2977
- https://access.redhat.com/security/cve/CVE-2022-2977
- https://bugzilla.redhat.com/show_bug.cgi?id=2120146
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9d8e7007dc7c4d7c8366739bbcd3f5e51dcd470f
- https://www.cve.org/CVERecord?id=CVE-2022-2977
comments:
  debian/carnil: |-
    From the series, 7e0438f83dc7 ("tpm: fix reference counting for
    struct tpm_chip") should be the fix.
  masami: |-
    It looks commit 7e0438f8 ("tpm: fix reference counting for struct
    tpm_chip") fixes this issue.
  ubuntu/sbeattie: |-
    unclear if fb5abce6b2bb ("tpm: use try_get_ops() in
      tpm-space.c") is related or a separate issue.
introduced-by:
  mainline: [fdc915f7f71939ad5a3dda3389b8d2d7a7c5ee66, 8979b02aaf1d6de8d52cc143aa4da961ed32e5a2]
fixed-by:
  cip/4.19: [cb64bd038beacb4331fe464a36c8b5481e8f51e2]
  cip/4.19-rt: [cb64bd038beacb4331fe464a36c8b5481e8f51e2]
  cip/5.10: [290e05f346d1829e849662c97e42d5ad984f5258]
  cip/5.10-rt: [290e05f346d1829e849662c97e42d5ad984f5258]
  debian/buster-security: ['version:debian/4.19.249-1']
  mainline: [7e0438f83dc769465ee663bb5dcf8cc154940712]
  stable/4.14: [473a66f99cb8173c14138c5a5c69bfad04e8f9ac]
  stable/4.19: [cb64bd038beacb4331fe464a36c8b5481e8f51e2]
  stable/5.10: [290e05f346d1829e849662c97e42d5ad984f5258]
  stable/5.15: [662893b4f6bd466ff9e1cd454c44c26d32d554fe]
  stable/5.4: [a27ed2f3695baf15f9b34d2d7a1f9fc105539a81]
  ubuntu/bionic: [c2b3c20d35b98dd58d936be826e0d273404fb991]
  ubuntu/focal: [0e67c18f34fda93d3e88f767eac8c332ed02db50]
ignore:
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.9: Not affected
