description: 'mm/memory.c: fix race when faulting a device private page'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3523
- https://git.kernel.org/linus/16ce101db85db694a91380aa4c89b25530871d33
- https://lore.kernel.org/all/8735bbuyvs.fsf@nvidia.com/
- https://www.cve.org/CVERecord?id=CVE-2022-3523
comments:
  debian/bwh: |-
    This bug seems to be present in 4.19, though the affected code
    has changed a fair bit and the upstream fix won't be easy to
    backport.
  masami: |-
    According to the above commit log, accessing invalid
    migrate_to_ram pointer will cause a bug.
    This migrate_to_ram pointer was added by commit 897e636
    ("memremap: add a migrate_to_ram method to struct
    dev_pagemap_ops") in 5.3-rc1.
    Therefore, kernel version from 5.3-rc1 to 6.1-rc1 are affected
    by thid vulnerability.
fixed-by:
  mainline: [16ce101db85db694a91380aa4c89b25530871d33]
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.14: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
