description: 'ipv6: Fix data races around sk->sk_prot.'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3567
- https://git.kernel.org/linus/364f997b5cfe1db0d63a390fe7c801fa2b3115f6
- https://ubuntu.com/security/notices/USN-5754-1
- https://ubuntu.com/security/notices/USN-5755-1
- https://ubuntu.com/security/notices/USN-5756-1
- https://ubuntu.com/security/notices/USN-5757-1
- https://ubuntu.com/security/notices/USN-5757-2
- https://ubuntu.com/security/notices/USN-5758-1
- https://ubuntu.com/security/notices/USN-5756-2
- https://ubuntu.com/security/notices/USN-5755-2
- https://ubuntu.com/security/notices/USN-5754-2
- https://ubuntu.com/security/notices/USN-5773-1
- https://ubuntu.com/security/notices/USN-5756-3
- https://ubuntu.com/security/notices/USN-5774-1
- https://ubuntu.com/security/notices/USN-5779-1
- https://ubuntu.com/security/notices/USN-5789-1
- https://ubuntu.com/security/notices/USN-5914-1
- https://www.cve.org/CVERecord?id=CVE-2022-3567
comments:
  masami: |-
    Commit 086d490 ("ipv6: annotate some data-races around
    sk->sk_prot") fixes a race condition bug but it was not enough.
    Therefore it seems that both commit 086d490 and 364f997 need
    to fix this issue.
introduced-by:
  mainline: [1da177e4c3f41524e886b7f1b8a0c1fc7321cac2]
fixed-by:
  mainline: [364f997b5cfe1db0d63a390fe7c801fa2b3115f6]
  stable/4.19: [fda6d62642a9c544a293d7ad7cb058f8c7f8f3dd]
  stable/5.10: [ea2ed3f78ab238865b9b9e19a85c1de16d570ab7]
  stable/5.15: [5088b4d4f91f15f02f52f3f3d4eb5968a6a3cb51]
  stable/5.4: [f194e63054458b8f5019b294529409875be13c0c]
  ubuntu/bionic: [4c9046441802b8bbc8fcaf103063699e14ddb824]
  ubuntu/focal: [b286a1a5c40fad0e5133a258b66c83ba1e7650b9]
fix-depends-on:
  086d49058cd8471046ae9927524708820f5fd1c7: |-
    Commit 086d490 ("ipv6: annotate some data-races around
    sk->sk_prot") fixes a race condition bug but it was not enough.
