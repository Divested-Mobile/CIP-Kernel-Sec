description: 'drm/i915: fix TLB invalidation for Gen12 video and compute engines'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-4139
- https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2022-4139
- https://www.openwall.com/lists/oss-security/2022/11/30/1
- https://lore.kernel.org/stable/fa3a25d8-542c-b402-84a2-b699b183f044@intel.com/
- https://git.kernel.org/linus/04aa64375f48a5d430b5550d9271f8428883e550
- https://ubuntu.com/security/notices/USN-5859-1
- https://ubuntu.com/security/notices/USN-5911-1
- https://ubuntu.com/security/notices/USN-5912-1
- https://ubuntu.com/security/notices/USN-5917-1
- https://ubuntu.com/security/notices/USN-5929-1
- https://ubuntu.com/security/notices/USN-5934-1
- https://ubuntu.com/security/notices/USN-5935-1
- https://ubuntu.com/security/notices/USN-5938-1
- https://ubuntu.com/security/notices/USN-5939-1
- https://ubuntu.com/security/notices/USN-5940-1
- https://ubuntu.com/security/notices/USN-5941-1
- https://ubuntu.com/security/notices/USN-5950-1
- https://ubuntu.com/security/notices/USN-5951-1
comments:
  debian/carnil: |-
    Commit fixes 7938d61591d3 ("drm/i915: Flush TLBs before
    releasing backing store") in 5.17-rc2 (but which got backported
    to 4.19.227, 5.10.95 and other stable series). Though this
    commit has been backported to older series, the bug in question
    is only affecting those versions which the gen12 support.
    For 6.0.y fixed as well in 6.0.11.
  masami: |-
    Commit 7938d61 ("drm/i915: Flush TLBs before releasing backing store")
    was backported to all stable kernels.
  ubuntu/cengizcan: |-
    Although announced break commit was backported to all v4.4 and up,
      actual CVE does not affect anything below v5.4 because i915 Gen 12 is not
      supported until v5.4.
introduced-by:
  cip/4.19: [b188780649081782e341e52223db47c49f172712]
  cip/4.19-rt: [b188780649081782e341e52223db47c49f172712]
  cip/4.4: [db6a2082d5a2ebc5ffa41f7213a544d55f73793a]
  cip/4.4-rt: [db6a2082d5a2ebc5ffa41f7213a544d55f73793a]
  cip/4.4-st: [db6a2082d5a2ebc5ffa41f7213a544d55f73793a]
  cip/5.10: [6a6acf927895c38bdd9f3cd76b8dbfc25ac03e88]
  cip/5.10-rt: [6a6acf927895c38bdd9f3cd76b8dbfc25ac03e88]
  mainline: [7938d61591d33394a21bdd7797a245b65428f44c]
  stable/4.14: [eed39c1918f1803948d736c444bfacba2a482ad0]
  stable/4.19: [b188780649081782e341e52223db47c49f172712]
  stable/4.9: [84f4ab5b47d955ad2bb30115d7841d3e8f0994f4]
  stable/5.10: [6a6acf927895c38bdd9f3cd76b8dbfc25ac03e88]
  stable/5.15: [8a17a077e7e9ecce25c95dbdb27843d2d6c2f0f7]
  stable/5.4: [1b5553c79d52f17e735cd924ff2178a2409e6d0b]
  ubuntu/bionic: [50132726d8831094f25a1edd14a5cf0a1ec78660]
  ubuntu/focal: [f874ea1246e5cd8e5751b5eac2d22451f6c9a38c]
fixed-by:
  cip/5.10: [86f0082fb9470904b15546726417f28077088fee]
  cip/5.10-rt: [86f0082fb9470904b15546726417f28077088fee]
  mainline: [04aa64375f48a5d430b5550d9271f8428883e550]
  stable/5.10: [86f0082fb9470904b15546726417f28077088fee]
  stable/5.15: [ee2d04f23bbb16208045c3de545c6127aaa1ed0e]
  stable/5.4: [3659e33c1e4f8cfc62c6c15aca5d797010c277a4]
  stable/6.0: [aef39675ad33317c8badc0165ea882e172a633e6]
  ubuntu/focal: [b4f1b788791a11fa566ca6116efa290231b6dc5d]
