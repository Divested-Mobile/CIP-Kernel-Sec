description: 'cgroup: Add missing cpus_read_lock() to cgroup_attach_task_all()'
references:
- https://www.cve.org/CVERecord?id=CVE-2022-48671
- https://git.kernel.org/stable/c/321488cfac7d0eb6d97de467015ff754f85813ff
- https://git.kernel.org/stable/c/07191f984842d50020789ff14c75da436a7f46a9
- https://git.kernel.org/stable/c/9f267393b036f1470fb12fb892d59e7ff8aeb58d
- https://git.kernel.org/stable/c/5db17805b6ba4c34dab303f49aea3562fc25af75
- https://git.kernel.org/stable/c/99bc25748e394d17f9e8b10cc7f273b8e64c1c7e
- https://git.kernel.org/stable/c/43626dade36fa74d3329046f4ae2d7fdefe401c6
- https://lore.kernel.org/linux-cve-announce/2024050317-CVE-2022-48671-fbdd@gregkh/
comments:
  cip/masami: "Introduced by commit 4f7e723 (\"cgroup: Fix threadgroup_rwsem <-> \n\
    cpus_read_lock() deadlock\") in 6.0-rc3."
  debian/carnil: |-
    Introduced in 4f7e7236435ca0ab ("cgroup: Fix threadgroup_rwsem <->
    cpus_read_lock() deadlock"). Vulnerable versions: 4.19.280 5.4.213 5.10.143
    5.15.68 5.19.9 6.0-rc3.
introduced-by:
  cip/4.19: [e446300968c6bd25d9cd6c33b9600780a39b3975]
  cip/4.19-rt: [e446300968c6bd25d9cd6c33b9600780a39b3975]
  cip/5.10: [dee1e2b18cf5426eed985512ccc6636ec69dbdd6]
  cip/5.10-rt: [dee1e2b18cf5426eed985512ccc6636ec69dbdd6]
  mainline: [4f7e7236435ca0abe005c674ebd6892c6e83aeb3]
  stable/4.19: [e446300968c6bd25d9cd6c33b9600780a39b3975]
  stable/5.10: [dee1e2b18cf5426eed985512ccc6636ec69dbdd6]
  stable/5.15: [3bf4bf54069f9b62a54988e5d085023c17a66c90]
  stable/5.4: [59c6902a96b4439e07c25ef86a4593bea5481c3b]
  ubuntu/focal: [332a9f3bc332a516348c9fabb1e3ea2b97f85206]
fixed-by:
  cip/4.19: [321488cfac7d0eb6d97de467015ff754f85813ff]
  cip/4.19-rt: [321488cfac7d0eb6d97de467015ff754f85813ff]
  cip/5.10: [9f267393b036f1470fb12fb892d59e7ff8aeb58d]
  cip/5.10-rt: [9f267393b036f1470fb12fb892d59e7ff8aeb58d]
  debian/buster-security: ['version:debian/4.19.282-1']
  mainline: [43626dade36fa74d3329046f4ae2d7fdefe401c6]
  stable/4.19: [321488cfac7d0eb6d97de467015ff754f85813ff]
  stable/5.10: [07191f984842d50020789ff14c75da436a7f46a9]
  stable/5.15: [9f267393b036f1470fb12fb892d59e7ff8aeb58d]
  stable/5.4: [321488cfac7d0eb6d97de467015ff754f85813ff]
  ubuntu/focal: [62e1a4751b64f017446d7cd8697b4354d77651cf]
