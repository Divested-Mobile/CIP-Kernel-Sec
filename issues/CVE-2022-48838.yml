description: 'usb: gadget: Fix use-after-free bug by not setting udc->dev.driver'
references:
- https://www.cve.org/CVERecord?id=CVE-2022-48838
- https://git.kernel.org/stable/c/4325124dde6726267813c736fee61226f1d38f0b
- https://git.kernel.org/stable/c/e2d3a7009e505e120805f449c832942660f3f7f3
- https://git.kernel.org/stable/c/609a7119bffe3ddd7c93f2fa65be8917e02a0b7e
- https://git.kernel.org/stable/c/2282a6eb6d4e118e294e43dcc421e0e0fe4040b5
- https://git.kernel.org/stable/c/00bdd9bf1ac6d401ad926d3d8df41b9f1399f646
- https://git.kernel.org/stable/c/2015c23610cd0efadaeca4d3a8d1dae9a45aa35a
- https://git.kernel.org/stable/c/27d64436984fb8835a8b7e95993193cc478b162e
- https://git.kernel.org/stable/c/16b1941eac2bd499f065a6739a40ce0011a3d740
- https://lore.kernel.org/linux-cve-announce/2024071621-CVE-2022-48838-ead7@gregkh/
- https://git.kernel.org/linus/16b1941eac2bd499f065a6739a40ce0011a3d740
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 2ccea03 ("usb: gadget: introduce UDC Class") in v3.1-rc1.
    Fixed in v5.17.
  debian/carnil: |-
    Introduced in 2ccea03a8f7e ("usb: gadget: introduce UDC Class"). Vulnerable
    versions: 3.1-rc1.
introduced-by:
  mainline: [2ccea03a8f7ec93641791f2760d7cdc6cab6205f]
fixed-by:
  cip/4.19: [609a7119bffe3ddd7c93f2fa65be8917e02a0b7e]
  cip/4.19-rt: [609a7119bffe3ddd7c93f2fa65be8917e02a0b7e]
  cip/5.10: [00bdd9bf1ac6d401ad926d3d8df41b9f1399f646]
  cip/5.10-rt: [00bdd9bf1ac6d401ad926d3d8df41b9f1399f646]
  mainline: [16b1941eac2bd499f065a6739a40ce0011a3d740]
  stable/4.19: [609a7119bffe3ddd7c93f2fa65be8917e02a0b7e]
  stable/5.10: [00bdd9bf1ac6d401ad926d3d8df41b9f1399f646]
  stable/5.15: [2015c23610cd0efadaeca4d3a8d1dae9a45aa35a]
  stable/5.4: [2282a6eb6d4e118e294e43dcc421e0e0fe4040b5]
  ubuntu/bionic: [77c7b9a18688ddb7f0b552e046161b9da4a044b2]
  ubuntu/focal: [4eb46702c30b7a3c72ee5845b55010dfc446fb19]
