description: 'btrfs: do not start relocation until in progress drops are done'
references:
- https://www.cve.org/CVERecord?id=CVE-2022-48901
- https://git.kernel.org/stable/c/6599d5e8bd758d897fd2ef4dc388ae50278b1f7e
- https://git.kernel.org/stable/c/5e70bc827b563caf22e1203428cc3719643de5aa
- https://git.kernel.org/stable/c/b4be6aefa73c9a6899ef3ba9c5faaa8a66e333ef
- https://lore.kernel.org/linux-cve-announce/2024082211-CVE-2022-48901-ddc7@gregkh/
- https://git.kernel.org/linus/b4be6aefa73c9a6899ef3ba9c5faaa8a66e333ef
comments:
  cip/cip-kernel-sec: There is no mention of the commit that introduced the bug in
    the CVE announcement.Fixed in v5.17-rc7.
  debian/carnil: First introducing commit could not be determined.
  ubuntu/bjamison: |-
    The break commit is where roots are added to the end of the dead
     root list in order, also reduces the snapshot cleaning work to the cleaner thread.
introduced-by:
  mainline: [9d1a2a3ad59f7ae810bf04a5a05995bf2d79300c]
fixed-by:
  mainline: [b4be6aefa73c9a6899ef3ba9c5faaa8a66e333ef]
  stable/5.15: [6599d5e8bd758d897fd2ef4dc388ae50278b1f7e]
