description: 'btrfs: fix relocation crash due to premature return from btrfs_commit_transaction()'
references:
- https://www.cve.org/CVERecord?id=CVE-2022-48903
- https://git.kernel.org/stable/c/725a6ac389b182261af174176e561a36b0f39ffc
- https://git.kernel.org/stable/c/a4378947ae39f08c6ae4c6a87ccdebc981a7bbcb
- https://git.kernel.org/stable/c/5fd76bf31ccfecc06e2e6b29f8c809e934085b99
- https://lore.kernel.org/linux-cve-announce/2024082211-CVE-2022-48903-0db5@gregkh/
- https://git.kernel.org/linus/5fd76bf31ccfecc06e2e6b29f8c809e934085b99
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit d0c2f4f ("btrfs: make concurrent fsyncs wait less when waiting for a transaction commit") in v5.12-rc1.
    Fixed in v5.17-rc7.
  debian/carnil: |-
    Introduced in d0c2f4fa555e ("btrfs: make concurrent fsyncs wait less when
    waiting for a transaction commit"). Vulnerable versions: 5.12-rc1.
introduced-by:
  mainline: [d0c2f4fa555e70324ec2a129b822ab58f172cc62]
fixed-by:
  mainline: [5fd76bf31ccfecc06e2e6b29f8c809e934085b99]
  stable/5.15: [725a6ac389b182261af174176e561a36b0f39ffc]
  ubuntu/focal: ['version:5.4.0-9.12']
