description: possibility of deadlock in libbpf function sock_hash_delete_elem
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2159764
- https://lore.kernel.org/lkml/CABcoxUayum5oOqFMMqAeWuS8+EzojquSOSyDA3J_2omY=2EeAg@mail.gmail.com/
- https://lore.kernel.org/all/63dddcc92fc31_6bb15208e9@john.notmuch/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-0160
- https://lore.kernel.org/all/CABcoxUayum5oOqFMMqAeWuS8+EzojquSOSyDA3J_2omY=2EeAg@mail.gmail.com/
- https://bugzilla.suse.com/show_bug.cgi?id=1209657
- https://lore.kernel.org/netdev/87a614h62a.fsf@cloudflare.com/t/#u
- https://lore.kernel.org/all/20230406122622.109978-1-liuxin350@huawei.com/
- https://lore.kernel.org/bpf/000000000000f1db9605f939720e@google.com/
comments:
  ubuntu/sbeattie: |-
    first attempt to fix was reverted in 8c5c2a4898e3 ("bpf,
      sockmap: Revert buggy deadlock fix in the sockhash and sockmap")
    unfixed upstream as of 2023.06.14
reporters:
- Hsin-Wei Hung
