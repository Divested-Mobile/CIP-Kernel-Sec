description: 'android: binder: stop saving a pointer to the VMA'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-20928
- https://android.googlesource.com/kernel/common/+/201d5f4a3ec1
- https://source.android.com/docs/security/bulletin/2023-01-01
- https://bugs.chromium.org/p/project-zero/issues/detail?id=2374
- https://ubuntu.com/security/notices/USN-5874-1
- https://ubuntu.com/security/notices/USN-5875-1
- https://ubuntu.com/security/notices/USN-5853-1
- https://ubuntu.com/security/notices/USN-5909-1
- https://ubuntu.com/security/notices/USN-5918-1
- https://www.cve.org/CVERecord?id=CVE-2023-20928
comments:
  debian/carnil: |-
    As noted in the commit: Note this patch is specific to stable
    branches 5.4 and 5.10. Since in newer kernel releases binder no
    longer caches a pointer to the vma. Instead, it has been
    refactored to use vma_lookup() which avoids the issue described
    here. This switch was introduced in commit a43cfc87caaf
    ("android: binder: stop saving a pointer to the VMA").
  ubuntu/sbeattie: |-
    patch for backport kernels is "binder: fix UAF of alloc->vma
      in race with munmap()" (27a594bc7a7c in linux-5.4.y)
introduced-by:
  mainline: [da1b9564e85b1d7baf66cbfabcab27e183a1db63]
  stable/4.14: [492519107c9d5ecfe3298586e3f5a33ac968b62c]
  ubuntu/bionic: [9e09bfbdc95953e5a4ee5a9c2110628eea0fc0d5]
fixed-by:
  cip/5.10: [015ac18be7de25d17d6e5f1643cb3b60bfbe859e]
  cip/5.10-rt: [015ac18be7de25d17d6e5f1643cb3b60bfbe859e]
  mainline: [a43cfc87caaf46710c8027a8c23b8a55f1078f19]
  stable/5.10: [015ac18be7de25d17d6e5f1643cb3b60bfbe859e]
  stable/5.15: [622ef885a89ad04cfb76ee478fb44f051125d1f1]
  ubuntu/focal: ['version:5.4.0-139.156']
ignore:
  cip/4.19: Not affected
  cip/4.19-rt: Not affected
  cip/4.4: Not affected
  cip/4.4-rt: Not affected
  cip/4.4-st: Not affected
  stable/4.19: Not affected
  stable/4.9: Not affected
