description: 'io_uring: ensure IOPOLL locks around deferred work'
references:
- https://source.android.com/security/bulletin/pixel/2023-07-01
- https://yanglingxi1993.github.io/dirty_pagetable/dirty_pagetable.html
- https://www.openwall.com/lists/oss-security/2023/07/14/2
- https://www.openwall.com/lists/oss-security/2023/07/25/9
- https://twitter.com/VAR10CK/status/1683303642173153280
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-21400
- https://bugzilla.redhat.com/show_bug.cgi?id=2222087
- https://bugzilla.suse.com/show_bug.cgi?id=1213272
- https://ubuntu.com/security/notices/USN-6315-1
- https://ubuntu.com/security/notices/USN-6325-1
comments:
  debian/carnil: |-
    No upstream commit exists as the issue has been fixed in 5.18
    development as part of a larger rework of the completion side.
  masami: |-
    Couldn't find actual fixed commit in 5.18 so added commit
    hash which is tagged to 5.18.
reporters:
- Ye Zhang
- Nicolas Wu
introduced-by:
  mainline: [2b188cc1bb857a9d4701ae59aa7768b5124e262e]
fixed-by:
  mainline: [4b0986a3613c92f4ec1bdc7f60ec66fea135991f]
  stable/5.10: [810e401b34c4c4c244d8b93b9947ea5b3d4d49f8]
ignore:
  cip/4.19: io_uring is not present
  cip/4.19-rt: io_uring is not present
  cip/4.4: io_uring is not present
  cip/4.4-rt: io_uring is not present
  cip/4.4-st: io_uring is not present
  stable/4.14: io_uring is not present
  stable/4.19: io_uring is not present
