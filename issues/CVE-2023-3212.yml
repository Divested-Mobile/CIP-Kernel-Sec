description: 'gfs2: Don''t deref jdesc in evict'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2214348
- https://bugzilla.suse.com/show_bug.cgi?id=CVE-2023-3212
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-3212
- https://git.kernel.org/linus/504a10d9e46bc37b23d0a1ae2f28973c8516e636
- https://ubuntu.com/security/notices/USN-6231-1
- https://ubuntu.com/security/notices/USN-6339-1
- https://ubuntu.com/security/notices/USN-6350-1
- https://ubuntu.com/security/notices/USN-6351-1
- https://ubuntu.com/security/notices/USN-6339-2
- https://ubuntu.com/security/notices/USN-6339-3
- https://ubuntu.com/security/notices/USN-6339-4
- https://ubuntu.com/security/notices/USN-6388-1
- https://ubuntu.com/security/notices/USN-6396-1
- https://ubuntu.com/security/notices/USN-6412-1
- https://ubuntu.com/security/notices/USN-6417-1
- https://ubuntu.com/security/notices/USN-6396-2
- https://ubuntu.com/security/notices/USN-6396-3
- https://ubuntu.com/security/notices/USN-6466-1
- https://www.cve.org/CVERecord?id=CVE-2023-3212
comments:
  debian/bwh: |-
    This affects 4.19 and it's actually worse - a UAF rather than NPE.
    It needs at least part of commit 601ef0d52e96 "gfs2: Force
    withdraw to replay journals and wait for it to finish" as well.
  ubuntu/rodrigo-zaiden: requires a corrupted gfs2 file system.
reporters:
- Yang Lan
introduced-by:
  mainline: [16615be18cadf53ee6f8a4f0bdd647f0753421b1]
fixed-by:
  cip/4.19: [d3af9cea9a1ce56f427e41e5ffcdafe9280f099f]
  cip/4.19-rt: [d3af9cea9a1ce56f427e41e5ffcdafe9280f099f]
  cip/4.4: [bfef7a5a8103e827d6744f34ba1a7f785a28b839]
  cip/4.4-rt: [bfef7a5a8103e827d6744f34ba1a7f785a28b839]
  cip/4.4-st: [bfef7a5a8103e827d6744f34ba1a7f785a28b839]
  cip/5.10: [d03d31d3a206093b9b8759dddf0ba9bd843606ba]
  cip/5.10-rt: [d03d31d3a206093b9b8759dddf0ba9bd843606ba]
  cip/6.1: [5ae4a618a1558d2b536fdd5d42e53d3e2d73870c]
  cip/6.1-rt: [5ae4a618a1558d2b536fdd5d42e53d3e2d73870c]
  debian/buster-security: ['version:debian/4.19.304-1']
  mainline: [504a10d9e46bc37b23d0a1ae2f28973c8516e636]
  stable/4.14: [6fb4b344382879bd4f8cc8394f6fff77c1388b15]
  stable/4.19: [d3af9cea9a1ce56f427e41e5ffcdafe9280f099f]
  stable/5.10: [d03d31d3a206093b9b8759dddf0ba9bd843606ba]
  stable/5.15: [fd8b4e28f400a067e6ef84569816967be1f0642b]
  stable/5.4: [23f98fe887ce3e7c8bd111f37e62735c5018c534]
  stable/6.1: [5ae4a618a1558d2b536fdd5d42e53d3e2d73870c]
  stable/6.3: [14c454764a37b194dc916c07488ce7339c82bc4f]
  ubuntu/focal: [85c11a5f1697c4f197babe40dfad751bbf02aaf2]
