description: 'xfs: verify buffer contents when we skip log replay'
references:
- https://syzkaller.appspot.com/bug?extid=7e9494b8b399902e994e
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-34255
- https://git.kernel.org/linus/22ed903eee23a5b174e240f1cdfa9acf393a5210
- https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=22ed903eee23a5b174e240f1cdfa9acf393a5210
- https://www.cve.org/CVERecord?id=CVE-2023-34255
comments:
  masami: |-
    The xlog_recover_buf_commit_pass2() was introduced in 5.8-rc1
    by commit 1094d3f1 ("xfs: refactor log recovery buffer item
    dispatch for pass2 commit functions"). This commit changed
    function name xlog_recover_buffer_pass2() to
    xlog_recover_buf_commit_pass2(). So, it looks like before 5.8
    kernels need to patch to the xlog_recover_buffer_pass2().
fixed-by:
  cip/5.10: [0e98a97f772f2ffcee8ced7a49b71e72916e0aa1]
  cip/5.10-rt: [0e98a97f772f2ffcee8ced7a49b71e72916e0aa1]
  cip/6.1: [a2961463d74f5c86a8dda3b41c484c28ccc4c289]
  cip/6.1-rt: [a2961463d74f5c86a8dda3b41c484c28ccc4c289]
  mainline: [22ed903eee23a5b174e240f1cdfa9acf393a5210]
  stable/5.10: [0e98a97f772f2ffcee8ced7a49b71e72916e0aa1]
  stable/5.15: [6cfe9ddb6aa698464fa16fb77a0233f68c13360c]
  stable/5.4: [c87439055174b31c51a89f8d66af2600033c664d]
  stable/6.1: [a2961463d74f5c86a8dda3b41c484c28ccc4c289]
  stable/6.3: [69ebe82c73f4f9f4b49ed3b35ce347af20716d0a]
  ubuntu/focal: [480fd2be1d4f8e6e021694835e02b7f9d5705e6c]
