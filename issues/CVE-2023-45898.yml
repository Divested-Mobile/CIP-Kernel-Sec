description: 'ext4: fix slab-use-after-free in ext4_es_insert_extent()'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-45898
- https://git.kernel.org/linus/768d612f79822d30a1e7d132a4d4b05337ce42ec
- https://github.com/torvalds/linux/commit/768d612f79822d30a1e7d132a4d4b05337ce42ec
- https://lore.kernel.org/lkml/aa03f191-445c-0d2e-d6d7-0a3208d7df7a@huawei.com/T/
- https://www.spinics.net/lists/stable-commits/msg317086.html
- https://lkml.org/lkml/2023/8/13/477
- https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.5.4
- https://lore.kernel.org/lkml/aa03f191-445c-0d2e-d6d7-0a3208d7df7a%40huawei.com/T/
- https://lore.kernel.org/lkml/CALcu4raD4h9coiyEBL4Bm0zjDwxC2CyPiTwsP3zFuhot6y9Beg@mail.gmail.com/
- https://lore.kernel.org/all/20230815070808.3377171-1-libaokun1@huawei.com/
- https://bugzilla.redhat.com/show_bug.cgi?id=2245711
- https://bugzilla.suse.com/show_bug.cgi?id=1216262
- https://ubuntu.com/security/notices/USN-6536-1
- https://ubuntu.com/security/notices/USN-6537-1
comments:
  debian/carnil: |-
    Commit fixes 2a69c450083d ("ext4: using nofail preallocation in
    ext4_es_insert_extent()") in 6.5-rc1.
    The breaking commit was later on backported as well to 5.15.141
    and 6.1.65 but along with the fix.
  masami: |-
    Introduced by commit 2a69c45 ("ext4: using nofail preallocation
    in ext4_es_insert_extent()") in 6.5-rc1. Fixed in 6.6-rc1.
reporters:
- Yikebaer Aizezi
introduced-by:
  mainline: [2a69c450083db164596c75c0f5b4d9c4c0e18eba]
  stable/5.15: [859893f61906a4d3ef963ce7a7f27100d818edd1]
  stable/6.1: [9164978bce4965ad88124edd1e92117ea79693bc]
fixed-by:
  mainline: [768d612f79822d30a1e7d132a4d4b05337ce42ec]
  stable/5.15: [e33eb4997585f2e17513e3f2923080dc08cbb00b]
  stable/6.1: [8384d8c5cc398cf59ab829d71d750752002f0a21]
  stable/6.5: [c15bf3330a9e3c01b23e59899a6a02432a62ddc3]
  ubuntu/focal: ['version:5.4.0-9.12']
