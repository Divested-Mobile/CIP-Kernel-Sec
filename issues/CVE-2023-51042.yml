description: |-
  In the Linux kernel before 6.4.12, amdgpu_cs_wait_all_fences in
  drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c has a fence use-after-free.
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-51042
- https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.4.12
- https://github.com/torvalds/linux/commit/2e54154b9f27262efd0cb4f903cc7d5ad1fe9628
- https://bugzilla.redhat.com/show_bug.cgi?id=2259866
- https://bugzilla.suse.com/show_bug.cgi?id=1219128
comments:
  masami: Fixed in 6.5-rc1.
introduced-by:
  mainline: [7a0a48ddf63bc9944b9690c6fa043ea4305f7f79]
fixed-by:
  cip/4.19: [f9da11d96bde3db277f061ac5a665c234d505787]
  cip/4.19-rt: [f9da11d96bde3db277f061ac5a665c234d505787]
  cip/5.10: [b870b9a47fdba29bd6828f690e4817c950fa3430]
  cip/5.10-rt: [b870b9a47fdba29bd6828f690e4817c950fa3430]
  cip/6.1: [dd0b3b367c3839e439f36af908b39c98929a5e54]
  cip/6.1-rt: [dd0b3b367c3839e439f36af908b39c98929a5e54]
  debian/buster-security: ['version:debian/4.19.304-1']
  mainline: [2e54154b9f27262efd0cb4f903cc7d5ad1fe9628]
  stable/4.14: [c4bf0ecd035c03595f321b4b539f65b56d8d0c2c]
  stable/4.19: [f9da11d96bde3db277f061ac5a665c234d505787]
  stable/5.10: [b870b9a47fdba29bd6828f690e4817c950fa3430]
  stable/5.15: [ef568da1fd843581e855c79a368209b752dea2c1]
  stable/5.4: [c6059af6bf5ed436b4aa5229e8113bd2546322d4]
  stable/6.1: [dd0b3b367c3839e439f36af908b39c98929a5e54]
  ubuntu/focal: [df5274fceacaa5d34126914697afc06ec51bd94e]
