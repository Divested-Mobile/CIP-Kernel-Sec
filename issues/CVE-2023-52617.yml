description: 'PCI: switchtec: Fix stdev_release() crash after surprise hot remove'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-52617
- https://git.kernel.org/stable/c/d8c293549946ee5078ed0ab77793cec365559355
- https://git.kernel.org/stable/c/4a5d0528cf19dbf060313dffbe047bc11c90c24c
- https://git.kernel.org/stable/c/ff1c7e2fb9e9c3f53715fbe04d3ac47b80be7eb8
- https://git.kernel.org/stable/c/1d83c85922647758c1f1e4806a4c5c3cf591a20a
- https://git.kernel.org/stable/c/0233b836312e39a3c763fb53512b3fa455b473b3
- https://git.kernel.org/stable/c/e129c7fa7070fbce57feb0bfc5eaa65eef44b693
- https://git.kernel.org/stable/c/df25461119d987b8c81d232cfe4411e91dcabe66
- https://lore.kernel.org/linux-cve-announce/20240318102117.2839904-7-lee@kernel.org/
comments:
  cip/cip-kernel-sec: Introduced commit is not determined.Fixed in v6.8-rc1.
  cip/masami: |-
    Linux 4.4 doesn't have PCI_SW_SWITCHTEC feature that is introduced by
    commit 080b47de ("MicroSemi Switchtec management interface driver") in
    4.12-rc1. The dma_mrpc variable is introduced by commit f7eb7b8a 
    ("switchtec: Add MRPC DMA mode support") in 5.0-rc1.
    Linux 4.19 seems not to be affected.
  debian/carnil: First introducing commit could not be determined.
fixed-by:
  cip/5.10: [4a5d0528cf19dbf060313dffbe047bc11c90c24c]
  cip/6.1: [1d83c85922647758c1f1e4806a4c5c3cf591a20a]
  cip/6.1-rt: [1d83c85922647758c1f1e4806a4c5c3cf591a20a]
  mainline: [df25461119d987b8c81d232cfe4411e91dcabe66]
  stable/5.10: [4a5d0528cf19dbf060313dffbe047bc11c90c24c]
  stable/5.15: [ff1c7e2fb9e9c3f53715fbe04d3ac47b80be7eb8]
  stable/5.4: [d8c293549946ee5078ed0ab77793cec365559355]
  stable/6.1: [1d83c85922647758c1f1e4806a4c5c3cf591a20a]
  stable/6.6: [0233b836312e39a3c763fb53512b3fa455b473b3]
  stable/6.7: [e129c7fa7070fbce57feb0bfc5eaa65eef44b693]
ignore:
  cip/4.4: PCI_SW_SWITCHTEC feature is not implemented.
  cip/4.4-st: PCI_SW_SWITCHTEC feature is not implemented.
  cip/4.4-rt: PCI_SW_SWITCHTEC feature is not implemented.
  cip/4.19: MRPC DMA mode is not found.
  cip/4.19-rt: MRPC DMA mode is not found.
  stable/4.19: MRPC DMA mode is not found.
