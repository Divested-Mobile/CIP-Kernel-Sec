description: 'IB/hfi1: Restore allocated resources on failed copyout'
references:
- https://www.cve.org/CVERecord?id=CVE-2023-52747
- https://git.kernel.org/stable/c/00d9e212b8a39e6ffcf31b9d2e503d2bf6009d45
- https://git.kernel.org/stable/c/7896accedf5bf1277d2f305718e36dc8bac7e321
- https://git.kernel.org/stable/c/79b595d9591426156a9e0635a5b5115508a36fef
- https://git.kernel.org/stable/c/9bae58d58b6bb73b572356b31a62d2afc7378d12
- https://git.kernel.org/stable/c/0a4f811f2e5d07bbd0c9226f4afb0a1270a831ae
- https://git.kernel.org/stable/c/6601fc0d15ffc20654e39486f9bef35567106d68
- https://lore.kernel.org/linux-cve-announce/2024052104-CVE-2023-52747-a85f@gregkh/
- https://git.kernel.org/linus/6601fc0d15ffc20654e39486f9bef35567106d68
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit f404ca4 ("IB/hfi1: Refactor hfi_user_exp_rcv_setup() IOCTL") in v4.15-rc1.
    Fixed in v6.2-rc8.
  debian/carnil: |-
    Introduced in f404ca4c7ea8 ("IB/hfi1: Refactor hfi_user_exp_rcv_setup()
    IOCTL"). Vulnerable versions: 4.15-rc1.
introduced-by:
  mainline: [f404ca4c7ea8e650ba09ba87c71c7a89c865d5be]
fixed-by:
  cip/4.19: [00d9e212b8a39e6ffcf31b9d2e503d2bf6009d45]
  cip/4.19-rt: [00d9e212b8a39e6ffcf31b9d2e503d2bf6009d45]
  cip/5.10: [79b595d9591426156a9e0635a5b5115508a36fef]
  cip/5.10-rt: [79b595d9591426156a9e0635a5b5115508a36fef]
  cip/6.1: [0a4f811f2e5d07bbd0c9226f4afb0a1270a831ae]
  cip/6.1-rt: [0a4f811f2e5d07bbd0c9226f4afb0a1270a831ae]
  debian/buster-security: ['version:debian/4.19.282-1']
  mainline: [6601fc0d15ffc20654e39486f9bef35567106d68]
  stable/4.19: [00d9e212b8a39e6ffcf31b9d2e503d2bf6009d45]
  stable/5.10: [79b595d9591426156a9e0635a5b5115508a36fef]
  stable/5.15: [9bae58d58b6bb73b572356b31a62d2afc7378d12]
  stable/5.4: [7896accedf5bf1277d2f305718e36dc8bac7e321]
  stable/6.1: [0a4f811f2e5d07bbd0c9226f4afb0a1270a831ae]
  ubuntu/bionic: [3d8c2a8251ce8f4d1736501edf768bd549cde2b3]
  ubuntu/focal: [3db40876c9e66f7974b24ab91b74df1b85a1c460]
