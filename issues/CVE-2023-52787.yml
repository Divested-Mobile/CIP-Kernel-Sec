description: 'blk-mq: make sure active queue usage is held for bio_integrity_prep()'
references:
- https://www.cve.org/CVERecord?id=CVE-2023-52787
- https://git.kernel.org/stable/c/b5c8e0ff76d10f6bf70a7237678f27c20cf59bc9
- https://git.kernel.org/stable/c/e9c309ded295b7f8849097d71ae231456ca79f78
- https://git.kernel.org/stable/c/b80056bd75a16e4550873ecefe12bc8fd190b1cf
- https://git.kernel.org/stable/c/b0077e269f6c152e807fdac90b58caf012cdbaab
- https://lore.kernel.org/linux-cve-announce/2024052155-CVE-2023-52787-67f0@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 900e080 ("block: move queue enter logic into blk_mq_submit_bio()") in v5.16-rc1.
    Fixed in v6.7-rc2.
  debian/carnil: |-
    Introduced in 900e080752025f00 ("block: move queue enter logic into
    blk_mq_submit_bio()"). Vulnerable versions: 5.16-rc1.
introduced-by:
  mainline: [900e080752025f0016128f07c9ed4c50eba3654b]
fixed-by:
  cip/6.1: [b5c8e0ff76d10f6bf70a7237678f27c20cf59bc9]
  cip/6.1-rt: [b5c8e0ff76d10f6bf70a7237678f27c20cf59bc9]
  mainline: [b0077e269f6c152e807fdac90b58caf012cdbaab]
  stable/6.1: [b5c8e0ff76d10f6bf70a7237678f27c20cf59bc9]
  stable/6.6: [b80056bd75a16e4550873ecefe12bc8fd190b1cf]
