description: 'IB/mlx5: Fix init stage error handling to avoid double free of same
  QP and UAF'
references:
- https://www.cve.org/CVERecord?id=CVE-2023-52851
- https://git.kernel.org/stable/c/437f033e30c897bb3723eac9e9003cd9f88d00a3
- https://git.kernel.org/stable/c/4f4a7a7d1404297f2a92df0046f7e64dc5c52dd9
- https://git.kernel.org/stable/c/6387f269d84e6e149499408c4d1fc805017729b2
- https://git.kernel.org/stable/c/2ef422f063b74adcc4a4a9004b0a87bb55e0a836
- https://lore.kernel.org/linux-cve-announce/2024052114-CVE-2023-52851-b53c@gregkh/
- https://git.kernel.org/linus/2ef422f063b74adcc4a4a9004b0a87bb55e0a836
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 04876c1 ("RDMA/mlx5: Move init and cleanup of UMR to umr.c") in v5.19-rc1.
    Fixed in v6.7-rc1.
  debian/carnil: |-
    Introduced in 04876c12c19e ("RDMA/mlx5: Move init and cleanup of UMR to
    umr.c"). Vulnerable versions: 5.19-rc1.
introduced-by:
  mainline: [04876c12c19e94bbbc94bb0446c7bc7cd75163de]
fixed-by:
  cip/6.1: [437f033e30c897bb3723eac9e9003cd9f88d00a3]
  cip/6.1-rt: [437f033e30c897bb3723eac9e9003cd9f88d00a3]
  mainline: [2ef422f063b74adcc4a4a9004b0a87bb55e0a836]
  stable/6.1: [437f033e30c897bb3723eac9e9003cd9f88d00a3]
  stable/6.6: [6387f269d84e6e149499408c4d1fc805017729b2]
  ubuntu/focal: ['version:5.4.0-9.12']
