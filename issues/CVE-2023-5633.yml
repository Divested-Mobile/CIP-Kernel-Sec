description: 'drm/vmwgfx: Keep a gem reference to user bos in surfaces'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-5633
- https://lists.freedesktop.org/archives/dri-devel/2023-September/424805.html
- https://access.redhat.com/security/cve/CVE-2023-5633
- https://github.com/torvalds/linux/commit/91398b413d03660fd5828f7b4abc64e884b98069
- https://bugzilla.redhat.com/show_bug.cgi?id=2245663
- https://bugzilla.suse.com/show_bug.cgi?id=1216527
- https://ubuntu.com/security/notices/USN-6503-1
- https://ubuntu.com/security/notices/USN-6537-1
- https://ubuntu.com/security/notices/USN-6572-1
- https://ubuntu.com/security/notices/USN-6688-1
- https://www.cve.org/CVERecord?id=CVE-2023-5633
comments:
  debian/carnil: |-
    Commit fixes a950b989ea29 ("drm/vmwgfx: Do not drop the
    reference to the handle too soon") in 6.2 (and backported to
    6.1.13) (which is part of the changes to address CVE-2023-33951
    and CVE-2023-33952)
  masami: |-
    Introduced by commit a950b98 ("drm/vmwgfx: Do not drop the
    reference to the handle too soon") in 6.2.
    This commit is not backported to 5.x and 4.x kernels.
    Fixed in 6.6-rc6.
reporters:
- Murray McAllister of NCC Group APAC
introduced-by:
  cip/6.1: [0a127ac972404600c99eb141c8d5b5348e53ee4f]
  cip/6.1-rt: [0a127ac972404600c99eb141c8d5b5348e53ee4f]
  mainline: [a950b989ea29ab3b38ea7f6e3d2540700a3c54e8]
  stable/6.1: [0a127ac972404600c99eb141c8d5b5348e53ee4f]
fixed-by:
  cip/6.1: [104f95698cad038caa8f7496be67f738d8ace9cb]
  cip/6.1-rt: [104f95698cad038caa8f7496be67f738d8ace9cb]
  mainline: [91398b413d03660fd5828f7b4abc64e884b98069]
  stable/6.1: [104f95698cad038caa8f7496be67f738d8ace9cb]
  stable/6.5: [1474b39f961703d0bb33833a6d6b112826839781]
  ubuntu/focal: ['version:5.4.0-9.12']
