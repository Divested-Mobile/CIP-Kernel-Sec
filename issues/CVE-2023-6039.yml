description: 'net: usb: lan78xx: reorder cleanup operations to avoid UAF bugs'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-6039
- https://git.kernel.org/linus/1e7417c188d0a83fb385ba2dbe35fd2563f2b6f3
- https://access.redhat.com/security/cve/CVE-2023-6039
- https://github.com/torvalds/linux/commit/1e7417c188d0a83fb385ba2dbe35fd2563f2b6f3
- https://bugzilla.redhat.com/show_bug.cgi?id=2248755
- https://bugzilla.suse.com/show_bug.cgi?id=1217068
- https://ubuntu.com/security/notices/USN-6534-1
- https://ubuntu.com/security/notices/USN-6534-2
- https://ubuntu.com/security/notices/USN-6534-3
- https://ubuntu.com/security/notices/USN-6626-1
- https://ubuntu.com/security/notices/USN-6628-1
comments:
  debian/carnil: |-
    Commit fixes 77dfff5bb7e2 ("lan78xx: Fix race condition in
    disconnect handling") in 5.15-rc1.
  masami: |-
    Introduced by commit 77dfff5 ("lan78xx: Fix race condition in
    disconnect handling") in 5.15-rc1. Prior to 5.15 kernels are
    not affected.
  ubuntu/rodrigo-zaiden: issue observed when device is disconnected or driver unloaded.
introduced-by:
  mainline: [77dfff5bb7e20ce1eaaf4c599d9c54a8f4331124]
fixed-by:
  mainline: [1e7417c188d0a83fb385ba2dbe35fd2563f2b6f3]
  ubuntu/focal: ['version:5.4.0-9.12']
