description: 'vhost: use kzalloc() instead of kmalloc() followed by memset()'
references:
- https://bugzilla.redhat.com/show_bug.cgi?id=2257406
- https://lore.kernel.org/lkml/5kn47peabxjrptkqa6dwtyus35ahf4pcj4qm4pumse33kxqpjw@mec4se5relrc/T/
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-0340
- https://git.kernel.org/linus/4d8df0f5f79f747d75a7d356d9b9ea40a4e4c8a9
- https://access.redhat.com/security/cve/CVE-2024-0340
- https://bugzilla.suse.com/show_bug.cgi?id=1218689
- https://ubuntu.com/security/notices/USN-6681-1
- https://ubuntu.com/security/notices/USN-6686-1
- https://ubuntu.com/security/notices/USN-6688-1
- https://ubuntu.com/security/notices/USN-6681-2
- https://ubuntu.com/security/notices/USN-6681-3
- https://ubuntu.com/security/notices/USN-6686-2
- https://ubuntu.com/security/notices/USN-6681-4
- https://ubuntu.com/security/notices/USN-6686-3
- https://ubuntu.com/security/notices/USN-6686-4
- https://ubuntu.com/security/notices/USN-6705-1
- https://ubuntu.com/security/notices/USN-6716-1
- https://ubuntu.com/security/notices/USN-6686-5
- https://www.cve.org/CVERecord?id=CVE-2024-0340
comments:
  masami: |-
    The vhost_new_msg() was introduced by commit 6b1e6cc
    ("vhost: new device IOTLB API ") in 4.8-rc1. The
    memset() was add by commit 670ae9c ("vhost: fix info
    leak due to uninitialized memory") in 4.18-rc1.
introduced-by:
  mainline: [670ae9caaca467ea1bfd325cb2a5c98ba87f94ad]
  stable/4.14: [7446344baafba2f23da58ac837b86770ec977b90]
  stable/4.9: [9681c3bdb098f6c87a0422b6b63912c1b90ad197]
  ubuntu/bionic: [90dc9510658669f39cdcd966f82d2c920f60d5ec]
fixed-by:
  cip/4.19: [95eab1039625d54d1770665756dd34e9fe926638]
  cip/4.19-rt: [95eab1039625d54d1770665756dd34e9fe926638]
  cip/5.10: [cda4ca038cafe016bd8dcac8cac83d771dfdcbf0]
  cip/5.10-rt: [cda4ca038cafe016bd8dcac8cac83d771dfdcbf0]
  cip/6.1: [4675661672e3730597babf97c4e9593a775c8917]
  cip/6.1-rt: [4675661672e3730597babf97c4e9593a775c8917]
  mainline: [4d8df0f5f79f747d75a7d356d9b9ea40a4e4c8a9]
  stable/4.19: [95eab1039625d54d1770665756dd34e9fe926638]
  stable/5.10: [cda4ca038cafe016bd8dcac8cac83d771dfdcbf0]
  stable/5.15: [be38f291fd4d106be66370debd23d625c576023e]
  stable/5.4: [88c7e1e7a6b82d38ff82ca446862f3d5de34192a]
  stable/6.1: [4675661672e3730597babf97c4e9593a775c8917]
  ubuntu/focal: [432e9ff69e31b0ca9bafe013610f7a993b13451c]
