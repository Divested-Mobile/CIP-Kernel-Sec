description: 'bcachefs: grab s_umount only if snapshotting'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26658
- https://git.kernel.org/stable/c/5b41d3fd04c6757b9c2a60a0c5b2609cae9999df
- https://git.kernel.org/stable/c/2acc59dd88d27ad69b66ded80df16c042b04eeec
- https://lore.kernel.org/linux-cve-announce/2024040222-CVE-2024-26658-1451@gregkh/
- https://git.kernel.org/linus/2acc59dd88d27ad69b66ded80df16c042b04eeec
- https://www.cve.org/CVERecord?id=CVE-2024-26658
comments:
  cip/cip-kernel-sec: Introduced commit is not determined.Fixed in v6.8-rc1.
  cip/masami: "According to the commit log, commit 42d23732 (\"bcachefs: Snapshot\
    \ creation, \ndeletion\") may introudce this bug."
  debian/carnil: First introducing commit could not be determined.
introduced-by:
  mainline: [42d237320e9817a94f3a0a2de28156523596b086]
fixed-by:
  mainline: [2acc59dd88d27ad69b66ded80df16c042b04eeec]
  stable/6.7: [5b41d3fd04c6757b9c2a60a0c5b2609cae9999df]
