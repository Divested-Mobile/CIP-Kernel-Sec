description: 'af_unix: Fix task hung while purging oob_skb in GC.'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26780
- https://git.kernel.org/stable/c/2a3d40b4025fcfe51b04924979f1653993b17669
- https://git.kernel.org/stable/c/69e0f04460f4037e01e29f0d9675544f62aafca3
- https://git.kernel.org/stable/c/cb8890318dde26fc89c6ea67d6e9070ab50b6e91
- https://git.kernel.org/stable/c/36f7371de977f805750748e80279be7e370df85c
- https://git.kernel.org/stable/c/25236c91b5ab4a26a56ba2e79b8060cf4e047839
- https://lore.kernel.org/linux-cve-announce/2024040458-CVE-2024-26780-9951@gregkh/T/#u
comments:
  cip/masami: |-
    Introduced by commit 1279f9d ("af_unix: Call kfree_skb() for 
    dead unix_(sk)->oob_skb in GC.") in 6.8-rc4. Fixed in 6.8-rc5.
  debian/carnil: |-
    Introduced in 1279f9d9dec2 ("af_unix: Call kfree_skb() for dead
    unix_(sk)->oob_skb in GC."). Vulnerable versions: 5.15.149 6.1.78 6.6.17 6.7.5
    6.8-rc4.
introduced-by:
  cip/6.1: [e0e09186d8821ad59806115d347ea32efa43ca4b]
  cip/6.1-rt: [e0e09186d8821ad59806115d347ea32efa43ca4b]
  mainline: [1279f9d9dec2d7462823a18c29ad61359e0a007d]
  stable/5.15: [4fe505c63aa3273135a57597fda761e9aecc7668]
  stable/6.1: [e0e09186d8821ad59806115d347ea32efa43ca4b]
  stable/6.6: [b74aa9ce13d02b7fd37c5325b99854f91b9b4276]
  stable/6.7: [82ae47c5c3a6b27fdc0f9e83c1499cb439c56140]
fixed-by:
  cip/6.1: [2a3d40b4025fcfe51b04924979f1653993b17669]
  cip/6.1-rt: [2a3d40b4025fcfe51b04924979f1653993b17669]
  mainline: [25236c91b5ab4a26a56ba2e79b8060cf4e047839]
  stable/5.15: [36f7371de977f805750748e80279be7e370df85c]
  stable/6.1: [2a3d40b4025fcfe51b04924979f1653993b17669]
  stable/6.6: [69e0f04460f4037e01e29f0d9675544f62aafca3]
  stable/6.7: [cb8890318dde26fc89c6ea67d6e9070ab50b6e91]
