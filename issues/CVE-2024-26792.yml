description: 'btrfs: fix double free of anonymous device after snapshot creation failure'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26792
- https://git.kernel.org/stable/c/c34adc20b91a8e55e048b18d63f4f4ae003ecf8f
- https://git.kernel.org/stable/c/eb3441093aad251418921246fc3b224fd1575701
- https://git.kernel.org/stable/c/c8ab7521665bd0f8bc4a900244d1d5a7095cc3b9
- https://git.kernel.org/stable/c/e2b54eaf28df0c978626c9736b94f003b523b451
- https://lore.kernel.org/linux-cve-announce/2024040401-CVE-2024-26792-6048@gregkh/T/#u
- https://www.cve.org/CVERecord?id=CVE-2024-26792
- https://ubuntu.com/security/notices/USN-6820-1
- https://ubuntu.com/security/notices/USN-6821-1
- https://ubuntu.com/security/notices/USN-6821-2
- https://ubuntu.com/security/notices/USN-6828-1
- https://ubuntu.com/security/notices/USN-6820-2
- https://ubuntu.com/security/notices/USN-6821-3
- https://ubuntu.com/security/notices/USN-6821-4
- https://ubuntu.com/security/notices/USN-6871-1
comments:
  cip/masami: "Introduced by commit e03ee2f (\"btrfs: do not ASSERT() if the newly\
    \ created \nsubvolume already got read\") in 6.8-rc4. Fixed in 6.8-rc7."
  debian/carnil: |-
    Introduced in e03ee2fe873e ("btrfs: do not ASSERT() if the newly created
    subvolume already got read"). Vulnerable versions: 5.10.210 5.15.149 6.1.79
    6.6.18 6.7.6 6.8-rc4.
introduced-by:
  cip/5.10: [3f5d47eb163bceb1b9e613c9003bae5fefc0046f]
  cip/5.10-rt: [3f5d47eb163bceb1b9e613c9003bae5fefc0046f]
  cip/6.1: [66b317a2fc45b2ef66527ee3f8fa08fb5beab88d]
  cip/6.1-rt: [66b317a2fc45b2ef66527ee3f8fa08fb5beab88d]
  mainline: [e03ee2fe873eb68c1f9ba5112fee70303ebf9dfb]
  stable/5.10: [3f5d47eb163bceb1b9e613c9003bae5fefc0046f]
  stable/5.15: [e31546b0f34af21738c4ceac47d662c00ee6382f]
  stable/6.1: [66b317a2fc45b2ef66527ee3f8fa08fb5beab88d]
  stable/6.6: [833775656d447c545133a744a0ed1e189ce61430]
  stable/6.7: [5a172344bfdabb46458e03708735d7b1a918c468]
fixed-by:
  cip/6.1: [c34adc20b91a8e55e048b18d63f4f4ae003ecf8f]
  cip/6.1-rt: [c34adc20b91a8e55e048b18d63f4f4ae003ecf8f]
  mainline: [e2b54eaf28df0c978626c9736b94f003b523b451]
  stable/6.1: [c34adc20b91a8e55e048b18d63f4f4ae003ecf8f]
  stable/6.6: [eb3441093aad251418921246fc3b224fd1575701]
  stable/6.7: [c8ab7521665bd0f8bc4a900244d1d5a7095cc3b9]
  ubuntu/focal: ['version:5.4.0-9.12']
