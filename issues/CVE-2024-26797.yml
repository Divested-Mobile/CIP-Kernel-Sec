description: |-
  In the Linux kernel, the following vulnerability has been resolved:
  drm/amd/display: Prevent potential buffer overflow in map_hw_resources
  Adds a check in the map_hw_resources function to prevent a potential
  buffer overflow. The function was accessing arrays using an index that
  could potentially be greater than the size of the arrays, leading to a
  buffer overflow.
  Adds a check to ensure that the index is within the bounds of the
  arrays. If the index is out of bounds, an error message is printed and
  break it will continue execution with just ignoring extra data early to
  prevent the buffer overflow.
  Reported by smatch:
  drivers/gpu/drm/amd/amdgpu/../display/dc/dml2/dml2_wrapper.c:79
  map_hw_resources() error: buffer overflow
  'dml2->v20.scratch.dml_to_dc_pipe_mapping.disp_cfg_to_stream_id' 6 <= 7
  drivers/gpu/drm/amd/amdgpu/../display/dc/dml2/dml2_wrapper.c:81
  map_hw_resources() error: buffer overflow
  'dml2->v20.scratch.dml_to_dc_pipe_mapping.disp_cfg_to_plane_id' 6 <= 7
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26797
- https://git.kernel.org/stable/c/50a6302cf881f67f1410461a68fe9eabd00ff31d
- https://git.kernel.org/stable/c/0f8ca019544a252d1afb468ce840c6dcbac73af4
introduced-by:
  mainline: [7966f319c66d9468623c6a6a017ecbc0dd79be75]
fixed-by:
  mainline: [0f8ca019544a252d1afb468ce840c6dcbac73af4]
