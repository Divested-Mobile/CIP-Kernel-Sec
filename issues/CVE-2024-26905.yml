description: 'btrfs: fix data races when accessing the reserved amount of block reserves'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26905
- https://git.kernel.org/stable/c/995e91c9556c8fc6028b474145a36e947d1eb6b6
- https://git.kernel.org/stable/c/82220b1835baaebf4ae2e490f56353a341a09bd2
- https://git.kernel.org/stable/c/c44542093525699a30c307dae1ea5a1b03b3302f
- https://git.kernel.org/stable/c/e06cc89475eddc1f3a7a4d471524256152c68166
- https://lore.kernel.org/linux-cve-announce/2024041746-CVE-2024-26905-69f0@gregkh/
- https://www.cve.org/CVERecord?id=CVE-2024-26905
- https://git.kernel.org/linus/e06cc89475eddc1f3a7a4d471524256152c68166
comments:
  cip/cip-kernel-sec: Introduced commit is not determined.Fixed in v6.8-rc7.
  cip/masami: "The global_rsv_size was introduced in need_preemptive_reclaim() since\
    \ \ncommit 610a6ef44 (\"btrfs: take into account global rsv in \nneed_preemptive_reclaim\"\
    ) in 5.14-rc1. The global_rsv_size was introduced \nin btrfs_preempt_reclaim_metadata_space()\
    \ since commit 576fa348 \n(\"btrfs: improve preemptive background space flushing\"\
    ) in 5.12-rc1-dontuse.\nSo, it seems as if prior to 5.12 kernels are not affected."
  debian/carnil: First introducing commit could not be determined.
introduced-by:
  mainline: [576fa34830afac6a40cd19c777f1ab49c914e87c, 610a6ef44ea83ef1c1e10b8270bbd157fbde3181]
fixed-by:
  cip/6.1: [995e91c9556c8fc6028b474145a36e947d1eb6b6]
  cip/6.1-rt: [995e91c9556c8fc6028b474145a36e947d1eb6b6]
  mainline: [e06cc89475eddc1f3a7a4d471524256152c68166]
  stable/6.1: [995e91c9556c8fc6028b474145a36e947d1eb6b6]
  stable/6.6: [82220b1835baaebf4ae2e490f56353a341a09bd2]
