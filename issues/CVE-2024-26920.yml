description: 'tracing/trigger: Fix to return error if failed to alloc snapshot'
references:
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26920
- https://git.kernel.org/stable/c/bcf4a115a5068f3331fafb8c176c1af0da3d8b19
- https://git.kernel.org/stable/c/8ffd5590f4d6ef5460acbeac7fbdff7025f9b419
- https://git.kernel.org/stable/c/56cfbe60710772916a5ba092c99542332b48e870
- https://git.kernel.org/stable/c/b5085b5ac1d96ea2a8a6240f869655176ce44197
- https://git.kernel.org/stable/c/36be97e9eb535fe3008a5cb040b1e56f29f2e398
- https://git.kernel.org/stable/c/6022c065c9ec465d84cebff8f480db083e4ee06b
- https://git.kernel.org/stable/c/4b001ef14baab16b553a002cb9979e31b8fc0c6b
- https://git.kernel.org/stable/c/0958b33ef5a04ed91f61cef4760ac412080c4e08
- https://lore.kernel.org/linux-cve-announce/2024041738-CVE-2024-26920-a681@gregkh/
- https://www.cve.org/CVERecord?id=CVE-2024-26920
- https://git.kernel.org/linus/0958b33ef5a04ed91f61cef4760ac412080c4e08
- https://bugzilla.redhat.com/show_bug.cgi?id=2275775
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 0bbe7f7 ("tracing: Fix the race between registering 'snapshot' event trigger and triggering 'snapshot' operation") in v5.7-rc2.
    Fixed in v6.8-rc3.
  debian/carnil: |-
    Introduced in 0bbe7f719985 ("tracing: Fix the race between registering
    'snapshot' event trigger and triggering 'snapshot' operation"). Vulnerable
    versions: 4.4.220 4.9.220 4.14.177 4.19.117 5.4.34 5.5.19 5.6.6 5.7-rc2.
introduced-by:
  cip/4.19: [57f2a2ad73e99a7594515848f4da987326a15981]
  cip/4.19-rt: [57f2a2ad73e99a7594515848f4da987326a15981]
  cip/4.4: [7c6feb347a4bb1f02e55f6814c93b5f7fab887a8]
  cip/4.4-rt: [7c6feb347a4bb1f02e55f6814c93b5f7fab887a8]
  cip/4.4-st: [7c6feb347a4bb1f02e55f6814c93b5f7fab887a8]
  mainline: [0bbe7f719985efd9adb3454679ecef0984cb6800]
  stable/4.19: [57f2a2ad73e99a7594515848f4da987326a15981]
  stable/5.4: [0026e356e51ab3b54322eeb445c75a087ede5b9d]
  ubuntu/bionic: [b9d628769b7b3b71c3c3eaf897b010a4dd0882b5]
  ubuntu/focal: [683df6fb3ccf64e2ba17f17d7f24e141d8f7af36]
  ubuntu/xenial: [2be5c9af436f0d2fc32f147d8f83830345a3ae8a]
fixed-by:
  cip/4.19: [bcf4a115a5068f3331fafb8c176c1af0da3d8b19]
  cip/4.4: [a906faff69366bb6fb3b5d33dc7fcb7213e3c2d5]
  cip/4.4-rt: [a906faff69366bb6fb3b5d33dc7fcb7213e3c2d5]
  cip/4.4-st: [a906faff69366bb6fb3b5d33dc7fcb7213e3c2d5]
  cip/5.10: [56cfbe60710772916a5ba092c99542332b48e870]
  cip/5.10-rt: [56cfbe60710772916a5ba092c99542332b48e870]
  cip/6.1: [36be97e9eb535fe3008a5cb040b1e56f29f2e398]
  cip/6.1-rt: [36be97e9eb535fe3008a5cb040b1e56f29f2e398]
  mainline: [0958b33ef5a04ed91f61cef4760ac412080c4e08]
  stable/4.19: [bcf4a115a5068f3331fafb8c176c1af0da3d8b19]
  stable/5.10: [56cfbe60710772916a5ba092c99542332b48e870]
  stable/5.15: [b5085b5ac1d96ea2a8a6240f869655176ce44197]
  stable/5.4: [8ffd5590f4d6ef5460acbeac7fbdff7025f9b419]
  stable/6.1: [36be97e9eb535fe3008a5cb040b1e56f29f2e398]
  stable/6.6: [6022c065c9ec465d84cebff8f480db083e4ee06b]
  ubuntu/focal: [ffea4681137167577161c03b86dbbe1cf03f8154]
