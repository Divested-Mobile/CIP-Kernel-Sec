description: 'kprobes/x86: Use copy_from_kernel_nofault() to read from unsafe address'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-26946
- https://git.kernel.org/stable/c/6417684315087904fffe8966d27ca74398c57dd6
- https://git.kernel.org/stable/c/f13edd1871d4fb4ab829aff629d47914e251bae3
- https://git.kernel.org/stable/c/20fdb21eabaeb8f78f8f701f56d14ea0836ec861
- https://git.kernel.org/stable/c/b69f577308f1070004cafac106dd1a44099e5483
- https://git.kernel.org/stable/c/4e51653d5d871f40f1bd5cf95cc7f2d8b33d063b
- https://lore.kernel.org/linux-cve-announce/2024050126-CVE-2024-26946-ad5d@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit cc66bb9 ("x86/ibt,kprobes: Cure sym+0 equals fentry woes") in v5.18-rc1.
    Fixed in v6.9-rc1.
  debian/carnil: |-
    Introduced in cc66bb914578 ("x86/ibt,kprobes: Cure sym+0 equals fentry woes").
    Vulnerable versions: 5.18-rc1.
introduced-by:
  mainline: [cc66bb91457827f62e2b6cb2518666820f0a6c48]
fixed-by:
  cip/6.1: [6417684315087904fffe8966d27ca74398c57dd6]
  mainline: [4e51653d5d871f40f1bd5cf95cc7f2d8b33d063b]
  stable/6.1: [6417684315087904fffe8966d27ca74398c57dd6]
  stable/6.6: [f13edd1871d4fb4ab829aff629d47914e251bae3]
  stable/6.8: [b69f577308f1070004cafac106dd1a44099e5483]
