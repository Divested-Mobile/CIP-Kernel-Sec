description: 'mm/memory-failure: fix deadlock when hugetlb_optimize_vmemmap is enabled'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-26987
- https://git.kernel.org/stable/c/5ef7ba2799a3b5ed292b8f6407376e2c25ef002e
- https://git.kernel.org/stable/c/882e1180c83f5b75bae03d0ccc31ccedfe5159de
- https://git.kernel.org/stable/c/49955b24002dc16a0ae2e83a57a2a6c863a1845c
- https://git.kernel.org/stable/c/1983184c22dd84a4d95a71e5c6775c2638557dc7
- https://lore.kernel.org/linux-cve-announce/2024050143-CVE-2024-26987-507c@gregkh/
- https://git.kernel.org/linus/1983184c22dd84a4d95a71e5c6775c2638557dc7
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit a6b4085 ("mm: hugetlb: replace hugetlb_free_vmemmap_enabled with a static_key") in v5.18-rc1.
    Fixed in v6.9-rc5.
  debian/carnil: |-
    Introduced in a6b40850c442 ("mm: hugetlb: replace hugetlb_free_vmemmap_enabled
    with a static_key"). Vulnerable versions: 5.18-rc1.
introduced-by:
  mainline: [a6b40850c442bf996e729e1d441d3dbc37cea171]
fixed-by:
  cip/6.1: [5ef7ba2799a3b5ed292b8f6407376e2c25ef002e]
  cip/6.1-rt: [5ef7ba2799a3b5ed292b8f6407376e2c25ef002e]
  mainline: [1983184c22dd84a4d95a71e5c6775c2638557dc7]
  stable/6.1: [5ef7ba2799a3b5ed292b8f6407376e2c25ef002e]
  stable/6.6: [882e1180c83f5b75bae03d0ccc31ccedfe5159de]
  stable/6.8: [49955b24002dc16a0ae2e83a57a2a6c863a1845c]
