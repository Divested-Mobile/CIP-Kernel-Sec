description: 'io_uring: Fix release of pinned pages when __io_uaddr_map fails'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-35831
- https://git.kernel.org/stable/c/0b6f39c175ba5f0ef72bdb3b9d2a06ad78621d62
- https://git.kernel.org/stable/c/712e2c8415f55a4a4ddaa98a430b87f624109f69
- https://git.kernel.org/stable/c/4d376d7ad62b6a8e8dfff56b559d9d275e5b9b3a
- https://git.kernel.org/stable/c/67d1189d1095d471ed7fa426c7e384a7140a5dd7
- https://lore.kernel.org/linux-cve-announce/2024051742-CVE-2024-35831-abcc@gregkh/
- https://git.kernel.org/linus/67d1189d1095d471ed7fa426c7e384a7140a5dd7
- https://ubuntu.com/security/notices/USN-6816-1
- https://ubuntu.com/security/notices/USN-6817-1
- https://ubuntu.com/security/notices/USN-6817-2
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 223ef47 ("io_uring: don't allow IORING_SETUP_NO_MMAP rings on highmem pages") in v6.6-rc5.
    Fixed in v6.9-rc1.
  debian/carnil: |-
    Introduced in 223ef4743164 ("io_uring: don't allow IORING_SETUP_NO_MMAP rings
    on highmem pages"). Vulnerable versions: 6.5.7 6.6-rc5.
introduced-by:
  mainline: [223ef474316466e9f61f6e0064f3a6fe4923a2c5]
fixed-by:
  mainline: [67d1189d1095d471ed7fa426c7e384a7140a5dd7]
  stable/6.6: [0b6f39c175ba5f0ef72bdb3b9d2a06ad78621d62]
  stable/6.8: [4d376d7ad62b6a8e8dfff56b559d9d275e5b9b3a]
