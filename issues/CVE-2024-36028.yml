description: 'mm/hugetlb: fix DEBUG_LOCKS_WARN_ON(1) when dissolve_free_hugetlb_folio()'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-36028
- https://git.kernel.org/stable/c/2effe407f7563add41750fd7e03da4ea44b98099
- https://git.kernel.org/stable/c/7e0a322877416e8c648819a8e441cf8c790b2cce
- https://git.kernel.org/stable/c/9c9b32d46afab2d911897914181c488954012300
- https://git.kernel.org/stable/c/52ccdde16b6540abe43b6f8d8e1e1ec90b0983af
- https://lore.kernel.org/linux-cve-announce/2024053057-CVE-2024-36028-e4a3@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 32c8771 ("hugetlb: do not clear hugetlb dtor until allocating vmemmap") in v6.5-rc6.
    Fixed in v6.9-rc6.
  debian/carnil: |-
    Introduced in 32c877191e02 ("hugetlb: do not clear hugetlb dtor until
    allocating vmemmap"). Vulnerable versions: 6.1.47 6.4.11 6.5-rc6.
introduced-by:
  cip/6.1: [1b4ce2952b4f33e198d5e993acff0611dff1e399]
  cip/6.1-rt: [1b4ce2952b4f33e198d5e993acff0611dff1e399]
  mainline: [32c877191e022b55fe3a374f3d7e9fb5741c514d]
  stable/6.1: [1b4ce2952b4f33e198d5e993acff0611dff1e399]
fixed-by:
  cip/6.1: [2effe407f7563add41750fd7e03da4ea44b98099]
  mainline: [52ccdde16b6540abe43b6f8d8e1e1ec90b0983af]
  stable/6.1: [2effe407f7563add41750fd7e03da4ea44b98099]
  stable/6.6: [7e0a322877416e8c648819a8e441cf8c790b2cce]
