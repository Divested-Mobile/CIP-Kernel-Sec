description: 'net/mlx5: Fix peer devlink set for SF representor devlink port'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-38595
- https://git.kernel.org/stable/c/a0501201751034ebe7a22bd9483ed28fea1cd213
- https://git.kernel.org/stable/c/05d9d7b66836d87c914f8fdd4b062b78e373458d
- https://git.kernel.org/stable/c/3c453e8cc672de1f9c662948dba43176bc68d7f0
- https://lore.kernel.org/linux-cve-announce/2024061955-CVE-2024-38595-0721@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit bf72998 ("net/mlx5: Restore mistakenly dropped parts in register devlink flow") in v6.9-rc5.
    Introduced by commit c6e77aa ("net/mlx5: Register devlink first under devlink lock") in v6.9-rc4.
    Fixed in v6.10-rc1.
  debian/carnil: |-
    Introduced in bf729988303a ("net/mlx5: Restore mistakenly dropped parts in
    register devlink flow")
    c6e77aa9dd82 ("net/mlx5: Register devlink first under devlink lock").
    Vulnerable versions: 6.6.28 6.8.7 6.8.8 6.9-rc4.
introduced-by:
  mainline: [bf729988303a27833a86acb561f42b9a3cc12728, c6e77aa9dd82bc18a89bf49418f8f7e961cfccc8]
fixed-by:
  mainline: [3c453e8cc672de1f9c662948dba43176bc68d7f0]
  stable/6.9: [05d9d7b66836d87c914f8fdd4b062b78e373458d]
