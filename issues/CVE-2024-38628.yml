description: 'usb: gadget: u_audio: Fix race condition use of controls after free
  during gadget unbind.'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-38628
- https://git.kernel.org/stable/c/89e66809684485590ea0b32c3178e42cba36ac09
- https://git.kernel.org/stable/c/453d3fa9266e53f85377b911c19b9a4563fa88c0
- https://git.kernel.org/stable/c/bea73b58ab67fe581037ad9cdb93c2557590c068
- https://git.kernel.org/stable/c/1b739388aa3f8dfb63a9fca777e6dfa6912d0464
- https://lore.kernel.org/linux-cve-announce/2024062140-CVE-2024-38628-e2db@gregkh/
- https://git.kernel.org/linus/1b739388aa3f8dfb63a9fca777e6dfa6912d0464
- https://ubuntu.com/security/notices/USN-6999-1
- https://ubuntu.com/security/notices/USN-7004-1
- https://ubuntu.com/security/notices/USN-7005-1
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 8fe9a03 ("usb: gadget: u_audio: Rate ctl notifies about current srate (0=stopped)") in v5.18-rc1.
    Introduced by commit c565ad0 ("usb: gadget: u_audio: Support multiple sampling rates") in v5.18-rc1.
    Introduced by commit 02de698 ("usb: gadget: u_audio: add bi-directional volume and mute support") in v5.15-rc1.
    Fixed in v6.10-rc1.
  debian/carnil: |-
    Introduced in 8fe9a03f4331 ("usb: gadget: u_audio: Rate ctl notifies about
    current srate (0=stopped)")
    c565ad07ef35 ("usb: gadget: u_audio: Support multiple sampling rates")
    02de698ca812 ("usb: gadget: u_audio: add bi-directional volume and mute
    support"). Vulnerable versions: 5.15-rc1.
introduced-by:
  mainline: [8fe9a03f43316cd93e753d06372159d23ba931d4, c565ad07ef35f5c7461ba9fc08dbb3a61420b8d2,
    02de698ca8123782c0c6fb8ed99080e2f032b0d2]
fixed-by:
  cip/6.1: [89e66809684485590ea0b32c3178e42cba36ac09]
  cip/6.1-rt: [89e66809684485590ea0b32c3178e42cba36ac09]
  mainline: [1b739388aa3f8dfb63a9fca777e6dfa6912d0464]
  stable/6.1: [89e66809684485590ea0b32c3178e42cba36ac09]
  stable/6.6: [453d3fa9266e53f85377b911c19b9a4563fa88c0]
  stable/6.9: [bea73b58ab67fe581037ad9cdb93c2557590c068]
  ubuntu/focal: ['version:5.4.0-9.12']
