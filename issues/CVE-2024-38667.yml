description: 'riscv: prevent pt_regs corruption for secondary idle threads'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-38667
- https://git.kernel.org/stable/c/ea22d4195cca13d5fdbc4d6555a2dfb8a7867a9e
- https://git.kernel.org/stable/c/3090c06d50eaa91317f84bf3eac4c265e6cb8d44
- https://git.kernel.org/stable/c/0c1f28c32a194303da630fca89481334b9547b80
- https://git.kernel.org/stable/c/a638b0461b58aa3205cd9d5f14d6f703d795b4af
- https://lore.kernel.org/linux-cve-announce/2024062431-CVE-2024-38667-83a6@gregkh/
- https://git.kernel.org/linus/a638b0461b58aa3205cd9d5f14d6f703d795b4af
- https://ubuntu.com/security/notices/USN-6999-1
- https://ubuntu.com/security/notices/USN-7004-1
- https://ubuntu.com/security/notices/USN-7005-1
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 9a2451f ("RISC-V: Avoid using per cpu array for ordered booting") in v5.17-rc1.
    Introduced by commit 2875fe0 ("RISC-V: Add cpu_ops and modify default booting method") in v5.7-rc1.
    Fixed in v6.10-rc2.
  debian/carnil: |-
    Introduced in 9a2451f18663 ("RISC-V: Avoid using per cpu array for ordered
    booting")
    2875fe056156 ("RISC-V: Add cpu_ops and modify default booting method").
    Vulnerable versions: 5.7-rc1.
introduced-by:
  mainline: [9a2451f1866344d38b4a1dc20396e3a03954fcd7, 2875fe0561569f82d0e63658ccf0d11ce7da8922]
fixed-by:
  cip/6.1: [ea22d4195cca13d5fdbc4d6555a2dfb8a7867a9e]
  cip/6.1-rt: [ea22d4195cca13d5fdbc4d6555a2dfb8a7867a9e]
  mainline: [a638b0461b58aa3205cd9d5f14d6f703d795b4af]
  stable/6.1: [ea22d4195cca13d5fdbc4d6555a2dfb8a7867a9e]
  stable/6.6: [3090c06d50eaa91317f84bf3eac4c265e6cb8d44]
  stable/6.9: [0c1f28c32a194303da630fca89481334b9547b80]
  ubuntu/focal: ['version:5.4.0-9.12']
