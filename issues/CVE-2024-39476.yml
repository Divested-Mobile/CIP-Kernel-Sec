description: 'md/raid5: fix deadlock that raid5d() wait for itself to clear MD_SB_CHANGE_PENDING'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-39476
- https://git.kernel.org/stable/c/b32aa95843cac6b12c2c014d40fca18aef24a347
- https://git.kernel.org/stable/c/634ba3c97ec413cb10681c7b196db43ee461ecf4
- https://git.kernel.org/stable/c/aa64464c8f4d2ab92f6d0b959a1e0767b829d787
- https://git.kernel.org/stable/c/098d54934814dd876963abfe751c3b1cf7fbe56a
- https://git.kernel.org/stable/c/3f8d5e802d4cedd445f9a89be8c3fd2d0e99024b
- https://git.kernel.org/stable/c/cd2538e5af495b3c747e503db346470fc1ffc447
- https://git.kernel.org/stable/c/e332a12f65d8fed8cf63bedb4e9317bb872b9ac7
- https://git.kernel.org/stable/c/151f66bb618d1fd0eeb84acb61b4a9fa5d8bb0fa
- https://lore.kernel.org/linux-cve-announce/2024070518-CVE-2024-39476-aa2d@gregkh/
- https://git.kernel.org/linus/151f66bb618d1fd0eeb84acb61b4a9fa5d8bb0fa
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 5e2cf33 ("md/raid5: Wait for MD_SB_CHANGE_PENDING in raid5d") in v6.1-rc1.
    Fixed in v6.10-rc1.
  debian/carnil: |-
    Introduced in 5e2cf333b7bd ("md/raid5: Wait for MD_SB_CHANGE_PENDING in
    raid5d"). Vulnerable versions: 4.14.296 4.19.262 4.19.307 5.4.220 5.4.269
    5.10.150 5.10.210 5.15.75 5.15.148 5.19.17 6.0.3 6.1-rc1.
introduced-by:
  cip/4.19: [f3d55bd5b7b928ad82f8075d89c908702f3593ab]
  cip/4.19-rt: [f3d55bd5b7b928ad82f8075d89c908702f3593ab]
  cip/5.10: [782b3e71c957991ac8ae53318bc369049d49bb53]
  cip/5.10-rt: [782b3e71c957991ac8ae53318bc369049d49bb53]
  mainline: [5e2cf333b7bd5d3e62595a44d598a254c697cd74]
  stable/4.19: [f3d55bd5b7b928ad82f8075d89c908702f3593ab]
  stable/5.10: [782b3e71c957991ac8ae53318bc369049d49bb53]
  stable/5.15: [9e86dffd0b02594d2e7c60c6db9e889c0395414b]
  stable/5.4: [1c00bb624cd084e2006520ad0edacaff0fb941c4]
  ubuntu/bionic: [882a84f702ab2044c8e8b7bf40d1e5b3e874b830]
  ubuntu/focal: [8d4446d7036a86fdbe32e0b61777e2d1126c61d2]
fixed-by:
  cip/4.19: [b32aa95843cac6b12c2c014d40fca18aef24a347]
  cip/5.10: [aa64464c8f4d2ab92f6d0b959a1e0767b829d787]
  cip/6.1: [3f8d5e802d4cedd445f9a89be8c3fd2d0e99024b]
  cip/6.1-rt: [3f8d5e802d4cedd445f9a89be8c3fd2d0e99024b]
  mainline: [151f66bb618d1fd0eeb84acb61b4a9fa5d8bb0fa]
  stable/4.19: [b32aa95843cac6b12c2c014d40fca18aef24a347]
  stable/5.10: [aa64464c8f4d2ab92f6d0b959a1e0767b829d787]
  stable/5.15: [098d54934814dd876963abfe751c3b1cf7fbe56a]
  stable/5.4: [634ba3c97ec413cb10681c7b196db43ee461ecf4]
  stable/6.1: [3f8d5e802d4cedd445f9a89be8c3fd2d0e99024b]
  stable/6.6: [cd2538e5af495b3c747e503db346470fc1ffc447]
  stable/6.9: [e332a12f65d8fed8cf63bedb4e9317bb872b9ac7]
  ubuntu/focal: [1f84355fafef29fc28a52ad5c41b1f34b98d4b36]
