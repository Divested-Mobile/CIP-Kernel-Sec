description: 'mm: shmem: fix getting incorrect lruvec when replacing a shmem folio'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-40949
- https://git.kernel.org/stable/c/8c6c3719ebb7913f8a665d11816d2e38b0eadbab
- https://git.kernel.org/stable/c/9094b4a1c76cfe84b906cc152bab34d4ba26fa5c
- https://lore.kernel.org/linux-cve-announce/2024071222-CVE-2024-40949-2d68@gregkh/
- https://git.kernel.org/linus/9094b4a1c76cfe84b906cc152bab34d4ba26fa5c
- https://ubuntu.com/security/notices/USN-6999-1
- https://ubuntu.com/security/notices/USN-7004-1
- https://ubuntu.com/security/notices/USN-7005-1
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 85ce2c5 ("memcontrol: only transfer the memcg data for migration") in v6.7-rc1.
    Fixed in v6.10-rc5.
  debian/carnil: |-
    Introduced in 85ce2c517ade ("memcontrol: only transfer the memcg data for
    migration"). Vulnerable versions: 6.7-rc1.
introduced-by:
  mainline: [85ce2c517ade0d51b7ad95f2e88be9bbe294379a]
fixed-by:
  mainline: [9094b4a1c76cfe84b906cc152bab34d4ba26fa5c]
  stable/6.9: [8c6c3719ebb7913f8a665d11816d2e38b0eadbab]
  ubuntu/focal: ['version:5.4.0-9.12']
