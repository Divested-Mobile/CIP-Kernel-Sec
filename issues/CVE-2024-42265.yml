description: protect the fetch of ->fd[fd] in do_dup2() from mispredictions
references:
- https://www.cve.org/CVERecord?id=CVE-2024-42265
- https://git.kernel.org/stable/c/5db999fff545b924b24c9afd368ef5c17279b176
- https://git.kernel.org/stable/c/da72e783afd27d9f487836b2e6738146c0edd149
- https://git.kernel.org/stable/c/1171ceccabfd596ca370c5d2cbb47d110c3f2fe1
- https://git.kernel.org/stable/c/8aa37bde1a7b645816cda8b80df4753ecf172bf1
- https://lore.kernel.org/linux-cve-announce/2024081737-CVE-2024-42265-a943@gregkh/
comments:
  cip/cip-kernel-sec: There is no mention of the commit that introduced the bug in
    the CVE announcement.Fixed in v6.11-rc2.
  cip/masami: It seems as if all stable kernels are affected.
  debian/carnil: First introducing commit could not be determined.
fixed-by:
  cip/4.19: [ed42e8ff509d2a61c6642d1825032072dab79f26]
  cip/4.4: [40f3e5b0f39c49db1e0b03afcae4692c5e9152e1]
  cip/4.4-st: [40f3e5b0f39c49db1e0b03afcae4692c5e9152e1]
  cip/5.10: [08775b3d6ed117cf4518754ec7300ee42b6a5368]
  cip/5.10-rt: [08775b3d6ed117cf4518754ec7300ee42b6a5368]
  cip/6.1: [5db999fff545b924b24c9afd368ef5c17279b176]
  cip/6.1-rt: [5db999fff545b924b24c9afd368ef5c17279b176]
  mainline: [8aa37bde1a7b645816cda8b80df4753ecf172bf1]
  stable/4.19: [ed42e8ff509d2a61c6642d1825032072dab79f26]
  stable/5.10: [08775b3d6ed117cf4518754ec7300ee42b6a5368]
  stable/5.15: [3f480493550b6a23d3a65d095d6569d4a7f56a0f]
  stable/5.4: [41a6c31df77bd8e050136b0a200b537da9e1084a]
  stable/6.1: [5db999fff545b924b24c9afd368ef5c17279b176]
  stable/6.10: [1171ceccabfd596ca370c5d2cbb47d110c3f2fe1]
  stable/6.6: [da72e783afd27d9f487836b2e6738146c0edd149]
  ubuntu/focal: [26f8e831537e03adde340e06c0a949d99aff4153]
