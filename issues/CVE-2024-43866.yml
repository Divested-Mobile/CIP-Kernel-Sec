description: 'net/mlx5: Always drain health in shutdown callback'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-43866
- https://git.kernel.org/stable/c/6b6c2ebd83f2bf97e8f221479372aaca97a4a9b2
- https://git.kernel.org/stable/c/6048dec754554a1303d632be6042d3feb3295285
- https://git.kernel.org/stable/c/1b75da22ed1e6171e261bc9265370162553d5393
- https://lore.kernel.org/linux-cve-announce/2024082157-CVE-2024-43866-66ed@gregkh/
- https://git.kernel.org/linus/1b75da22ed1e6171e261bc9265370162553d5393
- https://git.kernel.org/stable/c/5005e2e159b300c1b8c6820a1e13a62eb0127b9b
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 1958fc2 ("net/mlx5: SF, Add auxiliary device driver") in v5.12-rc1.
    Introduced by commit d2aa060 ("net/mlx5: Cancel health poll before sending panic teardown command") in v4.14.
    Fixed in v6.11-rc2.
  debian/carnil: |-
    Introduced in 1958fc2f0712 ("net/mlx5: SF, Add auxiliary device driver")
    d2aa060d40fa ("net/mlx5: Cancel health poll before sending panic teardown
    command"). Vulnerable versions: 4.13.16 4.14.
introduced-by:
  mainline: [1958fc2f0712ae771bfd2351b55e5a5b6b0bcfa4, d2aa060d40fa060e963f9a356d43481e43ba3dac]
fixed-by:
  cip/6.1: [5005e2e159b300c1b8c6820a1e13a62eb0127b9b]
  mainline: [1b75da22ed1e6171e261bc9265370162553d5393]
  stable/6.1: [5005e2e159b300c1b8c6820a1e13a62eb0127b9b]
  stable/6.10: [6048dec754554a1303d632be6042d3feb3295285]
  stable/6.6: [6b6c2ebd83f2bf97e8f221479372aaca97a4a9b2]
