description: 'perf: Fix event leak upon exit'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-43870
- https://git.kernel.org/stable/c/67fad724f1b568b356c1065d50df46e6b30eb2f7
- https://git.kernel.org/stable/c/70882d7fa74f0731492a0d493e8515a4f7131831
- https://git.kernel.org/stable/c/05d3fd599594abf79aad4484bccb2b26e1cb0b51
- https://git.kernel.org/stable/c/3d7a63352a93bdb8a1cdf29606bf617d3ac1c22a
- https://git.kernel.org/stable/c/2fd5ad3f310de22836cdacae919dd99d758a1f1b
- https://lore.kernel.org/linux-cve-announce/2024082135-CVE-2024-43870-2b6f@gregkh/
- https://git.kernel.org/linus/2fd5ad3f310de22836cdacae919dd99d758a1f1b
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 517e6a3 ("perf: Fix perf_pending_task() UaF") in v6.1-rc8.
    Fixed in v6.11-rc1.
  debian/carnil: |-
    Introduced in 517e6a301f34 ("perf: Fix perf_pending_task() UaF"). Vulnerable
    versions: 5.15.84 6.0.14 6.1-rc8.
introduced-by:
  mainline: [517e6a301f34613bff24a8e35b5455884f2d83d8]
  stable/5.15: [8bffa95ac19ff27c8261904f89d36c7fcf215d59]
fixed-by:
  cip/6.1: [70882d7fa74f0731492a0d493e8515a4f7131831]
  mainline: [2fd5ad3f310de22836cdacae919dd99d758a1f1b]
  stable/5.15: [67fad724f1b568b356c1065d50df46e6b30eb2f7]
  stable/6.1: [70882d7fa74f0731492a0d493e8515a4f7131831]
  stable/6.10: [3d7a63352a93bdb8a1cdf29606bf617d3ac1c22a]
  stable/6.6: [05d3fd599594abf79aad4484bccb2b26e1cb0b51]
  ubuntu/focal: ['version:5.4.0-9.12']
