description: 'btrfs: fix a use-after-free when hitting errors inside btrfs_submit_chunk()'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-46687
- https://git.kernel.org/stable/c/51722b99f41f5e722ffa10b8f61e802a0e70b331
- https://git.kernel.org/stable/c/4a3b9e1a8e6cd1a8d427a905e159de58d38941cc
- https://git.kernel.org/stable/c/10d9d8c3512f16cad47b2ff81ec6fc4b27d8ee10
- https://lore.kernel.org/linux-cve-announce/2024091338-CVE-2024-46687-5668@gregkh/
- https://git.kernel.org/linus/10d9d8c3512f16cad47b2ff81ec6fc4b27d8ee10
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 852eee6 ("btrfs: allow btrfs_submit_bio to split bios") in v6.3-rc1.
    Fixed in v6.11-rc6.
  debian/carnil: |-
    Introduced in 852eee62d31a ("btrfs: allow btrfs_submit_bio to split bios").
    Vulnerable versions: 6.3-rc1.
introduced-by:
  mainline: [852eee62d31abd695cd43e1b875d664ed292a8ca]
fixed-by:
  mainline: [10d9d8c3512f16cad47b2ff81ec6fc4b27d8ee10]
  stable/6.10: [4a3b9e1a8e6cd1a8d427a905e159de58d38941cc]
  stable/6.6: [51722b99f41f5e722ffa10b8f61e802a0e70b331]
