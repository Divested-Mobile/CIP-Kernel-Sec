description: 'btrfs: fix race between direct IO write and fsync when using same fd'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-46734
- https://git.kernel.org/stable/c/d116a0b0e02f395cedfb8c725bd67480aa7c428c
- https://git.kernel.org/stable/c/cd3087582e4fa36e89be4e6f859e75a4400292b4
- https://git.kernel.org/stable/c/7b5595f33c3c273613b590892a578d78186bb400
- https://git.kernel.org/stable/c/01681aa609b5f110502f56c4e3b2938efcf4a5bc
- https://git.kernel.org/stable/c/cd9253c23aedd61eb5ff11f37a36247cd46faf86
- https://lore.kernel.org/linux-cve-announce/2024091830-CVE-2024-46734-9fe1@gregkh/
- https://git.kernel.org/linus/cd9253c23aedd61eb5ff11f37a36247cd46faf86
comments:
  cip/cip-kernel-sec: This CVE announce does not contain fixed commit in the mainline.
  debian/carnil: |-
    Introduced in 939b656bc8ab ("btrfs: fix corruption after buffer fault in during
    direct IO append write"). Vulnerable versions: 5.15.165 6.1.105 6.6.46 6.10.5
    6.11-rc2.
introduced-by:
  cip/6.1: [6cae8d04d8b3d1ecfadcaa989e673f6f73349ed5]
  cip/6.1-rt: [6cae8d04d8b3d1ecfadcaa989e673f6f73349ed5]
  mainline: [939b656bc8ab203fdbde26ccac22bcb7f0985be5]
  stable/5.15: [4e17707035a65f6e5b2a4d987a308cf8ed8c5ad1]
  stable/6.1: [6cae8d04d8b3d1ecfadcaa989e673f6f73349ed5]
  stable/6.10: [3831170f740685fddc8f6aa57a83ad0fef4711bf]
  stable/6.6: [0a108bde616a7017653385b5a12111015051a294]
fixed-by:
  mainline: [cd9253c23aedd61eb5ff11f37a36247cd46faf86]
  stable/5.15: [d116a0b0e02f395cedfb8c725bd67480aa7c428c]
  stable/6.1: [cd3087582e4fa36e89be4e6f859e75a4400292b4]
  stable/6.10: [01681aa609b5f110502f56c4e3b2938efcf4a5bc]
  stable/6.6: [7b5595f33c3c273613b590892a578d78186bb400]
