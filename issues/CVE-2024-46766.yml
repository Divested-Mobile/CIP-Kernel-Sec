description: 'ice: move netif_queue_set_napi to rtnl-protected sections'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-46766
- https://git.kernel.org/stable/c/2285c2faef19ee08a6bd6754f4c3ec07dceb2889
- https://git.kernel.org/stable/c/2a5dc090b92cfa5270e20056074241c6db5c9cdd
- https://lore.kernel.org/linux-cve-announce/2024091844-CVE-2024-46766-417c@gregkh/
- https://git.kernel.org/linus/2a5dc090b92cfa5270e20056074241c6db5c9cdd
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit 080b0c8 ("ice: Fix ASSERT_RTNL() warning during certain scenarios") in v6.8-rc7.
    Introduced by commit 91fdbce ("ice: Add support in the driver for associating queue with napi") in v6.8-rc1.
    Fixed in v6.11-rc7.
  debian/carnil: |-
    Introduced in 080b0c8d6d26 ("ice: Fix ASSERT_RTNL() warning during certain
    scenarios")
    91fdbce7e8d6 ("ice: Add support in the driver for associating queue with
    napi"). Vulnerable versions: 6.8-rc1.
introduced-by:
  mainline: [080b0c8d6d261b400f24bb1075fbab8c6daaf69e, 91fdbce7e8d69be255b45bfeb52092629a50e267]
fixed-by:
  mainline: [2a5dc090b92cfa5270e20056074241c6db5c9cdd]
  stable/6.10: [2285c2faef19ee08a6bd6754f4c3ec07dceb2889]
  ubuntu/focal: ['version:5.4.0-9.12']
