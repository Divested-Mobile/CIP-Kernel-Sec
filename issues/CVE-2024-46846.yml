description: 'spi: rockchip: Resolve unbalanced runtime PM / system PM handling'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-46846
- https://git.kernel.org/stable/c/14f970a8d03d882b15b97beb83bd84ac8ba6298c
- https://git.kernel.org/stable/c/d034bff62faea1a2219e0d2f3d17263265f24087
- https://git.kernel.org/stable/c/0efbad8445fbba7896402500a1473450a299a08a
- https://git.kernel.org/stable/c/be721b451affbecc4ba4eaac3b71cdbdcade1b1b
- https://lore.kernel.org/linux-cve-announce/2024092755-CVE-2024-46846-f264@gregkh/
comments:
  cip/cip-kernel-sec: |-
    Introduced by commit e882575 ("spi: rockchip: Suspend and resume the bus during NOIRQ_SYSTEM_SLEEP_PM ops") in v5.18-rc1.
    Fixed in v6.11-rc7.
  debian/carnil: |-
    Introduced in e882575efc77 ("spi: rockchip: Suspend and resume the bus during
    NOIRQ_SYSTEM_SLEEP_PM ops"). Vulnerable versions: 5.18-rc1.
introduced-by:
  mainline: [e882575efc771f130a24322377dc1033551da11d]
fixed-by:
  cip/6.1: [14f970a8d03d882b15b97beb83bd84ac8ba6298c]
  mainline: [be721b451affbecc4ba4eaac3b71cdbdcade1b1b]
  stable/6.1: [14f970a8d03d882b15b97beb83bd84ac8ba6298c]
  stable/6.10: [0efbad8445fbba7896402500a1473450a299a08a]
  stable/6.6: [d034bff62faea1a2219e0d2f3d17263265f24087]
