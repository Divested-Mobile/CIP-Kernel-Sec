description: 'smb: client: fix UAF in async decryption'
references:
- https://www.cve.org/CVERecord?id=CVE-2024-50047
- https://git.kernel.org/stable/c/0809fb86ad13b29e1d6d491364fc7ea4fb545995
- https://git.kernel.org/stable/c/538c26d9bf70c90edc460d18c81008a4e555925a
- https://git.kernel.org/stable/c/b0abcd65ec545701b8793e12bc27dc98042b151a
- https://lore.kernel.org/linux-cve-announce/2024102134-CVE-2024-50047-7a27@gregkh/
comments:
  cip/cip-kernel-sec: There is no mention of the commit that introduced the bug in
    the CVE announcement.Fixed in v6.12-rc1.
  cip/masami: |-
    smb3_crypto_aead_allocate, smb3_init_transform_rq, and crypt_message were added
    by commit 026e93dc0 ("CIFS: Encrypt SMB3 requests before sending") in 4.11-rc1.
    decrypt_raw_data was added by commit 4326ed2f6 ("CIFS: Decrypt and process small
    encrypted packets") in 4.11-rc1.
  debian/carnil: First introducing commit could not be determined.
fixed-by:
  mainline: [b0abcd65ec545701b8793e12bc27dc98042b151a]
  stable/6.11: [538c26d9bf70c90edc460d18c81008a4e555925a]
  stable/6.6: [0809fb86ad13b29e1d6d491364fc7ea4fb545995]
ignore:
  cip/4.4: affected functions are not present
  cip/4.4-rt: affected functions are not present
  cip/4.4-st: affected functions are not present
